<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<style type="text/css">
  .container{
    padding: 10px;
  }
</style>
<title>Installing JS9</title>
</head>
<body>
<div class="container">
<center><h3>Installing JS9</h3></center>

<h3>Summary for the Impatient</h3>
<ul>
<li> retrieve and unpack the source code tar file or clone the js9 repository
<li> JS9 is now ready for drag-and-drop image files using the file:// URI
<li> to install JS9 into a web server tree, run configure with this switch:
<pre>
  ./configure --with-webdir=[path]  where path specifies the location to install the JS9 web files
</pre>
<li> edit the js9Prefs.js to set up your site-specific JS9 parameters
<li> build, install, clean up: <b>make; make install; make clean</b>
</ul>

<h3>Retrieve and Unpack the Source Code Tar File</h3>
<p>
The current JS9 source tar file is available at:
<pre>
    http://js9.si.edu
</pre>
The source tar file will unpack into a js9-[version] directory with
the usual tar command, e.g:
<pre>
    tar xfz js9-[version].tar.gz
</pre>
You also can clone JS9 from GitHub:
<pre>
    https://github.com/ericmandel/js9
</pre>

<h3>Run JS9 using the file:// URI</h3>
Once the tar file is unpacked, you should be able to load any of the
js9*.html web pages into your browser using the file:// URI. For
example, if you unpacked the tar file into /Users/me on a Mac, then
you can point your browser to:
<pre>
    file:///Users/me/js9-[version]/js9basics.html
</pre>
to see the basic JS9 demo page. You then can drag any FITS image file onto
the JS9 display and view it, change contrast/bias, colormaps,
scale, create regions, etc. Furthermore, if you load the imexam web page:
<pre>
    file:///Users/me/js9-[version]/js9imexam.html
</pre>
you can move a region around and run browser-based analysis as
the region changes.
<p>
NB: The file://URI does not work in Google Chrome: Chrome doesn't
permit a local HTML file to read other local files. The workaround is
to start Chrome with the --allow-file-access-from-files switch:
<pre>
    # Linux:
    chrome --allow-file-access-from-files
    # Mac:
    open /Applications/Google\ Chrome.app --args --allow-file-access-from-files
</pre>
Firefox and Safari do not have this restriction.
<p>
If you just want to run JS9 in this simple way, you are done. However,
you might want to edit the js9Prefs.json file to set up default values
for colormaps, scaling, etc. See:
<a href="./preferences.html">JS9 Site Preferences</a> for a
description of the available parameters.

<h3>Do You Want to Install JS9 in a Web Server?</h3>  If you want to
run JS9 in a "real" web server tree, build and install the JS9 tools and
files using the standard GNU <b>./configure; make; make install</b>
technique. You should run configure with
the <b>--with-webdir=[path]</b> switch, which specifies the directory
into which the JS9 web files (JavaScript, CSS, etc.) will be
installed.  We recommend that this directory only contain the
installed JS9 files, i.e. that you install JS9 into its own
self-contained directory. This will make upgrading to new versions
much easier.

<h3>Do You Want to Configure Server-side Analysis?</h3>
<p>
JS9 supports server-side ("back-end") analysis on FITS data using a
server-side helper. This capability allows you to execute virtually
any command-line analysis program from JS9. The analysis command is
run on the back-end server and results viewed on your web page.  You can
utilize your own web server as the JS9 back-end helper using CGI
calls, or you can run a separate Node.js-based server to process JS9
back-end requests.  The server-side analysis capability is especially
useful for archive centers, but also can be attractive to individual
users who want to integrate their own data analysis programs into JS9.
<p>
In addition, JS9 supports communication with external processes via the
<b>js9 script</b>. This capability requires the configuration of a
Node.js-based server-side helper.
<p>
You configure a JS9 back-end helper by adding additional switches to
the configure command. See:
<a href="./helper.html">Installing a Server-side Helper</a>
for details.

<h3>Build the JS9 System</h3>
Once you have decided on the configuration of your JS9 system, run
<b>configure</b> to generate various build files:
<pre>
  ./configure [your JS9 switches]
</pre>
<p>
and then build the JS9 system using the <b>make</b> command:
<pre>
   make
</pre>

<h3>Finalize Your Site Preferences</h3>
<p>
When JS9 is loaded into your browser, it reads a file called
<b>js9Prefs.json</b> from the JS9 web directory.  This file contains
various default settings for JS9, e.g. default colormap and scale for
image display.  Feel free to edit this file to set up your own
site-specific parameters. See
<a href="./preferences.html">JS9 Site Preferences</a> for a
description of the available parameters.

<h3>Install the JS9 System</h3>
<p> When the build is completed, you can install the JS9 into your web tree:
<pre>
    make install
</pre>
<p>
and then clean up the build directory using the command:
<pre>
    make clean
</pre>
<h3>Optionally Install the JS9 Test Data Files</h3>
<p> 
If you want to display our test data files in the JS9 demo pages, 
you must retrieve the JS9 data file tar file from the JS9 web site:
<pre>
    http://js9.si.edu
</pre>
and untar it into the JS9 web install directory. This will create
sub-directories containing the image data. These data files also are
available on GitHub:
<pre>
    https://github.com/ericmandel/js9data
</pre>


<h5>Last updated: June 1, 2016</h5>
</div>

</body>
</html>

// fix to allow jquery to be loaded into an electron.js app
// http://electron.atom.io/docs/faq/
//
// Due to the Node.js integration of Electron, there are some extra
// symbols inserted into the DOM like module, exports, require. This
// causes problems for some libraries since they want to insert the
// symbols with the same names.
//
// The electron solution does not work for JS9, since some plugins use require.
//
// So we use this solution:
//
// http://stackoverflow.com/questions/32621988/electron-jquery-is-not-defined
// https://github.com/electron/electron/issues/254#issuecomment-183483641

if (typeof module === 'object') {window.module = module; module = undefined;}
/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.2.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext;function B(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,D=/^.[^:#\[\.,]*$/;function E(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):D.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(E(this,a||[],!1))},not:function(a){return this.pushStack(E(this,a||[],!0))},is:function(a){return!!E(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var F,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||F,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:G.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),C.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};H.prototype=r.fn,F=r(d);var I=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function K(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return B(a,"iframe")?a.contentDocument:(B(a,"template")&&(a=a.content||a),r.merge([],a.childNodes))}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(J[a]||r.uniqueSort(e),I.test(a)&&e.reverse()),this.pushStack(e)}});var L=/[^\x20\t\r\n\f]+/g;function M(a){var b={};return r.each(a.match(L)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?M(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=e||a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function N(a){return a}function O(a){throw a}function P(a,b,c,d){var e;try{a&&r.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&r.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,N,e),g(f,c,O,e)):(f++,j.call(a,g(f,c,N,e),g(f,c,O,e),g(f,c,N,c.notifyWith))):(d!==N&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==O&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:N,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:N)),c[2][3].add(g(0,a,r.isFunction(d)?d:O))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(P(a,g.done(h(c)).resolve,g.reject,!b),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)P(e[c],h(c),g.reject);return g.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Q.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var R=r.Deferred();r.fn.ready=function(a){return R.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||R.resolveWith(d,[r]))}}),r.ready.then=R.then;function S(){d.removeEventListener("DOMContentLoaded",S),
a.removeEventListener("load",S),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",S),a.addEventListener("load",S));var T=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)T(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},U=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function V(){this.expando=r.expando+V.uid++}V.uid=1,V.prototype={cache:function(a){var b=a[this.expando];return b||(b={},U(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(L)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var W=new V,X=new V,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function $(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Y.test(a)?JSON.parse(a):a)}function _(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Z,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=$(c)}catch(e){}X.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return X.hasData(a)||W.hasData(a)},data:function(a,b,c){return X.access(a,b,c)},removeData:function(a,b){X.remove(a,b)},_data:function(a,b,c){return W.access(a,b,c)},_removeData:function(a,b){W.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=X.get(f),1===f.nodeType&&!W.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),_(f,d,e[d])));W.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){X.set(this,a)}):T(this,function(b){var c;if(f&&void 0===b){if(c=X.get(f,a),void 0!==c)return c;if(c=_(f,a),void 0!==c)return c}else this.each(function(){X.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){X.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=W.get(a,b),c&&(!d||Array.isArray(c)?d=W.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return W.get(a,c)||W.access(a,c,{empty:r.Callbacks("once memory").add(function(){W.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=W.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=new RegExp("^(?:([+-])=|)("+aa+")([a-z%]*)$","i"),ca=["Top","Right","Bottom","Left"],da=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},ea=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function fa(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&ba.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var ga={};function ha(a){var b,c=a.ownerDocument,d=a.nodeName,e=ga[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),ga[d]=e,e)}function ia(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=W.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&da(d)&&(e[f]=ha(d))):"none"!==c&&(e[f]="none",W.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ia(this,!0)},hide:function(){return ia(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){da(this)?r(this).show():r(this).hide()})}});var ja=/^(?:checkbox|radio)$/i,ka=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,la=/^$|\/(?:java|ecma)script/i,ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ma.optgroup=ma.option,ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead,ma.th=ma.td;function na(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&B(a,b)?r.merge([a],c):c}function oa(a,b){for(var c=0,d=a.length;c<d;c++)W.set(a[c],"globalEval",!b||W.get(b[c],"globalEval"))}var pa=/<|&#?\w+;/;function qa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(pa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ka.exec(f)||["",""])[1].toLowerCase(),i=ma[h]||ma._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=na(l.appendChild(f),"script"),j&&oa(g),c){k=0;while(f=g[k++])la.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ra=d.documentElement,sa=/^key/,ta=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ua=/^([^.]*)(?:\.(.+)|)/;function va(){return!0}function wa(){return!1}function xa(){try{return d.activeElement}catch(a){}}function ya(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ya(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=wa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(ra,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(L)||[""],j=b.length;while(j--)h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.hasData(a)&&W.get(a);if(q&&(i=q.events)){b=(b||"").match(L)||[""],j=b.length;while(j--)if(h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&W.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(W.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&B(this,"input"))return this.click(),!1},_default:function(a){return B(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?va:wa,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=va,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=va,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=va,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&sa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ta.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return ya(this,a,b,c,d)},one:function(a,b,c,d){return ya(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=wa),this.each(function(){r.event.remove(this,a,c,b)})}});var za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Aa=/<script|<style|<link/i,Ba=/checked\s*(?:[^=]|=\s*.checked.)/i,Ca=/^true\/(.*)/,Da=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ea(a,b){return B(a,"table")&&B(11!==b.nodeType?b:b.firstChild,"tr")?r(">tbody",a)[0]||a:a}function Fa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Ga(a){var b=Ca.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ha(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(W.hasData(a)&&(f=W.access(a),g=W.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}X.hasData(a)&&(h=X.access(a),i=r.extend({},h),X.set(b,i))}}function Ia(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ja.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ja(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Ba.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ja(f,b,c,d)});if(m&&(e=qa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(na(e,"script"),Fa),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,na(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Ga),l=0;l<i;l++)j=h[l],la.test(j.type||"")&&!W.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Da,""),k))}return a}function Ka(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(na(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&oa(na(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(za,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=na(h),f=na(a),d=0,e=f.length;d<e;d++)Ia(f[d],g[d]);if(b)if(c)for(f=f||na(a),g=g||na(h),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);else Ha(a,h);return g=na(h,"script"),g.length>0&&oa(g,!i&&na(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(U(c)){if(b=c[W.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[W.expando]=void 0}c[X.expando]&&(c[X.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ka(this,a,!0)},remove:function(a){return Ka(this,a)},text:function(a){return T(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.appendChild(a)}})},prepend:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(na(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Aa.test(a)&&!ma[(ka.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(na(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ja(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(na(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var La=/^margin/,Ma=new RegExp("^("+aa+")(?!px)[a-z%]+$","i"),Na=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",ra.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,ra.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Oa(a,b,c){var d,e,f,g,h=a.style;return c=c||Na(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&Ma.test(g)&&La.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Pa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Qa=/^(none|table(?!-c[ea]).+)/,Ra=/^--/,Sa={position:"absolute",visibility:"hidden",display:"block"},Ta={letterSpacing:"0",fontWeight:"400"},Ua=["Webkit","Moz","ms"],Va=d.createElement("div").style;function Wa(a){if(a in Va)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ua.length;while(c--)if(a=Ua[c]+b,a in Va)return a}function Xa(a){var b=r.cssProps[a];return b||(b=r.cssProps[a]=Wa(a)||a),b}function Ya(a,b,c){var d=ba.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Za(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ca[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ca[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ca[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ca[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ca[f]+"Width",!0,e)));return g}function $a(a,b,c){var d,e=Na(a),f=Oa(a,b,e),g="border-box"===r.css(a,"boxSizing",!1,e);return Ma.test(f)?f:(d=g&&(o.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),f=parseFloat(f)||0,f+Za(a,b,c||(g?"border":"content"),d,e)+"px")}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Oa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=Ra.test(b),j=a.style;return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b]:(f=typeof c,"string"===f&&(e=ba.exec(c))&&e[1]&&(c=fa(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b),i=Ra.test(b);return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Oa(a,b,d)),"normal"===e&&b in Ta&&(e=Ta[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Qa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?$a(a,b,d):ea(a,Sa,function(){return $a(a,b,d)})},set:function(a,c,d){var e,f=d&&Na(a),g=d&&Za(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=ba.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Ya(a,c,g)}}}),r.cssHooks.marginLeft=Pa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Oa(a,"marginLeft"))||a.getBoundingClientRect().left-ea(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ca[d]+b]=f[d]||f[d-2]||f[0];return e}},La.test(a)||(r.cssHooks[a+b].set=Ya)}),r.fn.extend({css:function(a,b){return T(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=Na(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function _a(a,b,c,d,e){return new _a.prototype.init(a,b,c,d,e)}r.Tween=_a,_a.prototype={constructor:_a,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=_a.propHooks[this.prop];return a&&a.get?a.get(this):_a.propHooks._default.get(this)},run:function(a){var b,c=_a.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):_a.propHooks._default.set(this),this}},_a.prototype.init.prototype=_a.prototype,_a.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},_a.propHooks.scrollTop=_a.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=_a.prototype.init,r.fx.step={};var ab,bb,cb=/^(?:toggle|show|hide)$/,db=/queueHooks$/;function eb(){bb&&(d.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(eb):a.setTimeout(eb,r.fx.interval),r.fx.tick())}function fb(){return a.setTimeout(function(){ab=void 0}),ab=r.now()}function gb(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ca[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function hb(a,b,c){for(var d,e=(kb.tweeners[b]||[]).concat(kb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&da(a),q=W.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],cb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=W.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ia([a],!0),j=a.style.display||j,k=r.css(a,"display"),ia([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=W.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ia([a],!0),m.done(function(){p||ia([a]),W.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=hb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=kb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ab||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:ab||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);f<g;f++)if(d=kb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,hb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}r.Animation=r.extend(kb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return fa(c.elem,a,ba.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(L);for(var c,d=0,e=a.length;d<e;d++)c=a[d],kb.tweeners[c]=kb.tweeners[c]||[],kb.tweeners[c].unshift(b)},prefilters:[ib],prefilter:function(a,b){b?kb.prefilters.unshift(a):kb.prefilters.push(a)}}),r.speed=function(a,b,c){var d=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in r.fx.speeds?d.duration=r.fx.speeds[d.duration]:d.duration=r.fx.speeds._default),null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){r.isFunction(d.old)&&d.old.call(this),d.queue&&r.dequeue(this,d.queue)},d},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=kb(this,r.extend({},a),f);(e||W.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=W.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&db.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=W.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),r.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(ab=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),ab=void 0},r.fx.timer=function(a){r.timers.push(a),r.fx.start()},r.fx.interval=13,r.fx.start=function(){bb||(bb=!0,eb())},r.fx.stop=function(){bb=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var lb,mb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return T(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?lb:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),
null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&B(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(L);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),lb={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=mb[b]||r.find.attr;mb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=mb[g],mb[g]=e,e=null!=c(a,b,d)?g:null,mb[g]=f),e}});var nb=/^(?:input|select|textarea|button)$/i,ob=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return T(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):nb.test(a.nodeName)||ob.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function pb(a){var b=a.match(L)||[];return b.join(" ")}function qb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,qb(this)))});if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,qb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,qb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(L)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=qb(this),b&&W.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":W.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+pb(qb(c))+" ").indexOf(b)>-1)return!0;return!1}});var rb=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:pb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!B(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var sb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!sb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,sb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(W.get(h,"events")||{})[b.type]&&W.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&U(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!U(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=W.access(d,b);e||d.addEventListener(a,c,!0),W.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=W.access(d,b)-1;e?W.access(d,b,e):(d.removeEventListener(a,c,!0),W.remove(d,b))}}});var tb=a.location,ub=r.now(),vb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(Array.isArray(b))r.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!ja.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:Array.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}});var Bb=/%20/g,Cb=/#.*$/,Db=/([?&])_=[^&]*/,Eb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gb=/^(?:GET|HEAD)$/,Hb=/^\/\//,Ib={},Jb={},Kb="*/".concat("*"),Lb=d.createElement("a");Lb.href=tb.href;function Mb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(L)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nb(a,b,c,d){var e={},f=a===Jb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Ob(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Pb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Qb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tb.href,type:"GET",isLocal:Fb.test(tb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Ob(Ob(a,r.ajaxSettings),b):Ob(r.ajaxSettings,a)},ajaxPrefilter:Mb(Ib),ajaxTransport:Mb(Jb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Eb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||tb.href)+"").replace(Hb,tb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(L)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Lb.protocol+"//"+Lb.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Nb(Ib,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Gb.test(o.type),f=o.url.replace(Cb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Bb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(vb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Db,"$1"),n=(vb.test(f)?"&":"?")+"_="+ub++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Kb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Nb(Jb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Pb(o,y,d)),v=Qb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Rb={0:200,1223:204},Sb=r.ajaxSettings.xhr();o.cors=!!Sb&&"withCredentials"in Sb,o.ajax=Sb=!!Sb,r.ajaxTransport(function(b){var c,d;if(o.cors||Sb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Rb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||r.expando+"_"+ub++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ub.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ub,"$1"+e):b.jsonp!==!1&&(b.url+=(vb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Tb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=C.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=qa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=pb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length},r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),B(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||ra})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return T(this,function(a,d,e){var f;return r.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Pa(o.pixelPosition,function(a,c){if(c)return c=Oa(a,b),Ma.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return T(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.holdReady=function(a){a?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=B,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Vb=a.jQuery,Wb=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Wb),b&&a.jQuery===r&&(a.jQuery=Vb),r},b||(a.jQuery=a.$=r),r});
/*! jQuery UI - v1.12.1 - 2017-08-09
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var l=0,h=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=h.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=h.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,l=t(this),h=l.outerWidth(),c=l.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=h+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),T=e(k.my,l.outerWidth(),l.outerHeight());"right"===n.my[0]?D.left-=h:"center"===n.my[0]&&(D.left-=h/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=T[0],D.top+=T[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:h,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+T[0],u[1]+T[1]],my:n.my,at:n.at,within:b,elem:l})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-h,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:D.left,top:D.top,width:h,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};h>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),l.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-r-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(i,s){var n,o,a,r,l,h=i.nodeName.toLowerCase();return"area"===h?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(h)?(r=!i.disabled,r&&(l=t(i).closest("fieldset")[0],l&&(r=!l.disabled))):r="a"===h?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var c=!1;t(document).on("mouseup",function(){c=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,c=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)
},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,l,h,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=s.snapElements[d].left-s.margins.left,h=l+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,l-g>_||m>h+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(l-_),r=g>=Math.abs(h-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(l-m),r=g>=Math.abs(h-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&u(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var u=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,l=a+e.helperProportions.height,h=i.offset.left,c=i.offset.top,u=h+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=h&&u>=r&&a>=c&&d>=l;case"intersect":return o+e.helperProportions.width/2>h&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>l-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,h,i.proportions().width);case"touch":return(a>=c&&d>=a||l>=c&&d>=l||c>a&&l>d)&&(o>=h&&u>=o||r>=h&&u>=r||h>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&u(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=u(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),l?(i=l.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(a,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&c&&(t.top=l-e.minHeight),n&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},h=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,l=t(this).resizable("instance"),h=l.options,c=l.element,u=h.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(l.containerElement=t(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=l._num(e.css("padding"+s))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(d,"left")?d.scrollWidth:o,r=l._hasScroll(d)?d.scrollHeight:n,l.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,l=a.containerOffset,h=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?l.left:0),h.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-l.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,h=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};
t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,h=l[0]||1,c=l[1]||1,u=Math.round((n.width-o.width)/h)*h,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=l,_&&(p+=h),v&&(f+=c),g&&(p-=h),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-h)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-h>0?(i.size.width=p,i.position.left=a.left-u):(p=h-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,l=e.pageY;return o>r&&(i=r,r=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:l-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?h=!(c.left>r||o>c.right||c.top>l||a>c.bottom):"fit"===n.tolerance&&(h=c.left>o&&r>c.right&&c.top>a&&l>c.bottom),h?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+h>r&&l>s+h,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],l=[],h=this._connectWith();if(h&&e)for(s=h.length-1;s>=0;s--)for(o=t(h[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=l.length-1;s>=0;s--)l[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,h=r.length;h>s;s++)l=t(r[s]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,l,h,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(l=this.items[s].item.offset()[a],h=!1,e[u]-l>this.items[s][r]/2&&(h=!0),n>Math.abs(e[u]-l)&&(n=Math.abs(e[u]-l),o=this.items[s],this.direction=h?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))
},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],l=r&&n.collapsible,h=l?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:l?t():a,newPanel:h};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=l?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,l=t.css("box-sizing"),h=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=h&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var l=n[s]("widget");t.data(l[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(l[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(d,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)
},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var p;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,l,h,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,h/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),p===n&&(p=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,l,h=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(h.settings.minDate=this._formatDate(h,r)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,l,h,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),l=t.datepicker._checkOffset(s,l,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),s.inline||(h=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?s.dpDiv.show(h,t.datepicker._get(s,"showOptions"),c):s.dpDiv[h||"show"](h?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))}},_updateDatepicker:function(e){this.maxRows=4,p=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+o>h&&h>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,l=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(l,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],l+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==e.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>l&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},h=function(t,e,i){var s=""+e;if(l(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return l(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||l("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":a+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}h=l.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,l,h,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,T,I,M,P,S,N,H,A,z,O,E,W,F,L,R=new Date,Y=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),B=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+X,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:Y,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),T=" ui-corner-all",I="",$){if(I+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:I+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");
break;case U[1]-1:I+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:I+=" ui-datepicker-group-middle",T=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===k?B?o:s:"")+(/all|right/.test(T)&&0===k?B?s:o:"")+this._generateMonthYearHeader(t,Z,te,J,Q,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",M=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)P=(w+c)%7,M+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[P]+"'>"+p[P]+"</span></th>";for(I+=M+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),N=(this._getFirstDayOfMonth(te,Z)-c+7)%7,H=Math.ceil((N+S)/7),A=$?this.maxRows>H?this.maxRows:H:H,this.maxRows=A,z=this._daylightSavingAdjust(new Date(te,Z,1-N)),O=0;A>O;O++){for(I+="<tr>",E=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(z)+"</td>":"",w=0;7>w;w++)W=m?m.apply(t.input?t.input[0]:null,[z]):[!0,""],F=z.getMonth()!==Z,L=F&&!v||!W[0]||J&&J>z||Q&&z>Q,E+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+W[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!W[2]?"":" title='"+W[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===Y.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);I+=E+"</tr>"}Z++,Z>11&&(Z=0,te++),I+="</tbody></table>"+($?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=I}y+=x}return y+=h,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var l,h,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=s.getMonth())&&(!h||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)
},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,l,h,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),l=t(s).closest("li"),h=l.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=l.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,l=r?t():this._getPanelForTab(o),h=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:h,newTab:r?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},l=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),l(n,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){h.of=t,a.is(":hidden")||a.position(h)}var o,a,r,l,h=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),l=t("<div>").html(a.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(h.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]
}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});var $jscomp={scope:{},findInternal:function(d,r,q){d instanceof String&&(d=String(d));for(var t=d.length,u=0;u<t;u++){var m=d[u];if(r.call(q,m,u,d))return{i:u,v:m}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,r,q){if(q.get||q.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[r]=q.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(d,r,q,t){if(r){q=$jscomp.global;d=d.split(".");for(t=0;t<d.length-1;t++){var u=d[t];u in q||(q[u]={});q=q[u]}d=d[d.length-1];t=q[d];r=r(t);r!=t&&null!=r&&$jscomp.defineProperty(q,d,{configurable:!0,writable:!0,value:r})}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(d,q){return $jscomp.findInternal(this,d,q).v}},"es6-impl","es3");
(function(d,r){function q(b){b=b.split(/\s+/);for(var a=[],c=0,f;f=b[c];c++)f=f.charAt(0).toUpperCase(),a.push(f);return a}function t(b){return b.id&&d('label[for="'+b.id+'"]').val()||b.name}function u(b,a,c){c||(c=0);a.each(function(){var a=d(this),e=this,g=this.nodeName.toLowerCase(),l,h;"label"===g&&a.find("input, textarea, select").length&&(l=a.text(),a=a.children().first(),e=a.get(0),g=e.nodeName.toLowerCase());switch(g){case "menu":h={name:a.attr("label"),items:{}};c=u(h.items,a.children(),
c);break;case "a":case "button":h={name:a.text(),disabled:!!a.attr("disabled"),callback:function(){return function(){a.get(0).click()}}()};break;case "menuitem":case "command":switch(a.attr("type")){case r:case "command":case "menuitem":h={name:a.attr("label"),disabled:!!a.attr("disabled"),icon:a.attr("icon"),callback:function(){return function(){a.get(0).click()}}()};break;case "checkbox":h={type:"checkbox",disabled:!!a.attr("disabled"),name:a.attr("label"),selected:!!a.attr("checked")};break;case "radio":h=
{type:"radio",disabled:!!a.attr("disabled"),name:a.attr("label"),radio:a.attr("radiogroup"),value:a.attr("id"),selected:!!a.attr("checked")};break;default:h=r}break;case "hr":h="-------";break;case "input":switch(a.attr("type")){case "text":h={type:"text",name:l||t(e),disabled:!!a.attr("disabled"),value:a.val()};break;case "checkbox":h={type:"checkbox",name:l||t(e),disabled:!!a.attr("disabled"),selected:!!a.attr("checked")};break;case "radio":h={type:"radio",name:l||t(e),disabled:!!a.attr("disabled"),
radio:!!a.attr("name"),value:a.val(),selected:!!a.attr("checked")};break;default:h=r}break;case "select":h={type:"select",name:l||t(e),disabled:!!a.attr("disabled"),selected:a.val(),options:{}};a.children().each(function(){h.options[this.value]=d(this).text()});break;case "textarea":h={type:"textarea",name:l||t(e),disabled:!!a.attr("disabled"),value:a.val()};break;case "label":break;default:h={type:"html",html:a.clone(!0)}}h&&(c++,b["key"+c]=h)});return c}d.support.htmlMenuitem="HTMLMenuItemElement"in
window;d.support.htmlCommand="HTMLCommandElement"in window;d.support.eventSelectstart="onselectstart"in document.documentElement;d.ui&&d.widget||(d.cleanData=function(b){return function(a){var c,f,e;for(e=0;null!=a[e];e++){f=a[e];try{(c=d._data(f,"events"))&&c.remove&&d(f).triggerHandler("remove")}catch(g){}}b(a)}}(d.cleanData));var m=null,z=!1,v=d(window),A=0,w={},n={},B={},C={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,
classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(b){if(d.ui&&d.ui.position)b.css("display",
"block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var a=this.offset();a.top+=this.outerHeight();a.left+=this.outerWidth()/2-b.outerWidth()/2;b.css(a)}},position:function(b,a,c){if(a||c){if("maintain"===a&&"maintain"===c)a=b.$menu.position();else{var d=b.$menu.offsetParent().offset();a={top:c-d.top,left:a-d.left}}c=v.scrollTop()+v.height();var d=v.scrollLeft()+v.width(),e=b.$menu.outerHeight(),g=b.$menu.outerWidth();a.top+e>c&&(a.top-=
e);0>a.top&&(a.top=0);a.left+g>d&&(a.left-=g);0>a.left&&(a.left=0);b.$menu.css(a)}else b.determinePosition.call(this,b.$menu)},positionSubmenu:function(b){if("undefined"!==typeof b)if(d.ui&&d.ui.position)b.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var a={top:-9,left:this.outerWidth()-5};b.css(a)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:d.noop,hide:d.noop,activated:d.noop},callback:null,
items:{}},x=null,D=null,E=null,F,G=function(b){for(var a=0;a=Math.max(a,parseInt(b.css("z-index"),10)||0),b=b.parent(),b&&b.length&&!(-1<"html body".indexOf(b.prop("nodeName").toLowerCase())););return a},k={abortevent:function(b){b.preventDefault();b.stopImmediatePropagation()},contextmenu:function(b){var a=d(this);"right"===b.data.trigger&&(b.preventDefault(),b.stopImmediatePropagation());if(!("right"!==b.data.trigger&&"demand"!==b.data.trigger&&b.originalEvent||"undefined"!==typeof b.mouseButton&&
b.data&&!("left"===b.data.trigger&&0===b.mouseButton||"right"===b.data.trigger&&2===b.mouseButton)||a.hasClass("context-menu-active")||a.hasClass("context-menu-disabled"))){m=a;if(b.data.build){var c=b.data.build(m,b);if(!1===c)return;b.data=d.extend(!0,{},C,b.data,c||{});if(!b.data.items||d.isEmptyObject(b.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),Error("No Items specified");b.data.$trigger=m;p.create(b.data)}var c=!1,
f;for(f in b.data.items)b.data.items.hasOwnProperty(f)&&(d.isFunction(b.data.items[f].visible)?b.data.items[f].visible.call(d(b.currentTarget),f,b.data):"undefined"!==typeof b.data.items[f]&&b.data.items[f].visible?!0===b.data.items[f].visible:1)&&(c=!0);c&&p.show.call(a,b.data,b.pageX,b.pageY)}},click:function(b){b.preventDefault();b.stopImmediatePropagation();d(this).trigger(d.Event("contextmenu",{data:b.data,pageX:b.pageX,pageY:b.pageY}))},mousedown:function(b){var a=d(this);m&&m.length&&!m.is(a)&&
m.data("contextMenu").$menu.trigger("contextmenu:hide");2===b.button&&(m=a.data("contextMenuActive",!0))},mouseup:function(b){var a=d(this);a.data("contextMenuActive")&&m&&m.length&&m.is(a)&&!a.hasClass("context-menu-disabled")&&(b.preventDefault(),b.stopImmediatePropagation(),m=a,a.trigger(d.Event("contextmenu",{data:b.data,pageX:b.pageX,pageY:b.pageY})));a.removeData("contextMenuActive")},mouseenter:function(b){var a=d(this),c=d(b.relatedTarget),f=d(document);c.is(".context-menu-list")||c.closest(".context-menu-list").length||
m&&m.length||(D=b.pageX,E=b.pageY,F=b.data,f.on("mousemove.contextMenuShow",k.mousemove),x=setTimeout(function(){x=null;f.off("mousemove.contextMenuShow");m=a;a.trigger(d.Event("contextmenu",{data:F,pageX:D,pageY:E}))},b.data.delay))},mousemove:function(b){D=b.pageX;E=b.pageY},mouseleave:function(b){b=d(b.relatedTarget);if(!b.is(".context-menu-list")&&!b.closest(".context-menu-list").length){try{clearTimeout(x)}catch(a){}x=null}},layerClick:function(b){var a=d(this).data("contextMenuRoot"),c=b.button,
f=b.pageX,e=b.pageY,g,l;b.preventDefault();setTimeout(function(){var h,k="left"===a.trigger&&0===c||"right"===a.trigger&&2===c;if(document.elementFromPoint&&a.$layer){a.$layer.hide();g=document.elementFromPoint(f-v.scrollLeft(),e-v.scrollTop());if(g.isContentEditable){h=document.createRange();var m=window.getSelection();h.selectNode(g);h.collapse(!0);m.removeAllRanges();m.addRange(h)}d(g).trigger(b);a.$layer.show()}if(a.hideOnSecondTrigger&&k&&null!==a.$menu&&"undefined"!==typeof a.$menu)a.$menu.trigger("contextmenu:hide");
else{if(a.reposition&&k)if(document.elementFromPoint){if(a.$trigger.is(g)){a.position.call(a.$trigger,a,f,e);return}}else if(l=a.$trigger.offset(),h=d(window),l.top+=h.scrollTop(),l.top<=b.pageY&&(l.left+=h.scrollLeft(),l.left<=b.pageX&&(l.bottom=l.top+a.$trigger.outerHeight(),l.bottom>=b.pageY&&(l.right=l.left+a.$trigger.outerWidth(),l.right>=b.pageX)))){a.position.call(a.$trigger,a,f,e);return}if(g&&k)a.$trigger.one("contextmenu:hidden",function(){d(g).contextMenu({x:f,y:e,button:c})});null!==a&&
"undefined"!==typeof a&&null!==a.$menu&&"undefined"!==typeof a.$menu&&a.$menu.trigger("contextmenu:hide")}},50)},keyStop:function(b,a){a.isInput||b.preventDefault();b.stopPropagation()},key:function(b){var a={};m&&(a=m.data("contextMenu")||{});"undefined"===typeof a.zIndex&&(a.zIndex=0);var c=0,d=function(a){""!==a.style.zIndex?c=a.style.zIndex:null!==a.offsetParent&&"undefined"!==typeof a.offsetParent?d(a.offsetParent):null!==a.parentElement&&"undefined"!==typeof a.parentElement&&d(a.parentElement)};
d(b.target);if(!(a.$menu&&parseInt(c,10)>parseInt(a.$menu.css("zIndex"),10))){switch(b.keyCode){case 9:case 38:k.keyStop(b,a);if(a.isInput){if(9===b.keyCode&&b.shiftKey){b.preventDefault();a.$selected&&a.$selected.find("input, textarea, select").blur();null!==a.$menu&&"undefined"!==typeof a.$menu&&a.$menu.trigger("prevcommand");return}if(38===b.keyCode&&"checkbox"===a.$selected.find("input, textarea, select").prop("type")){b.preventDefault();return}}else if(9!==b.keyCode||b.shiftKey){null!==a.$menu&&
"undefined"!==typeof a.$menu&&a.$menu.trigger("prevcommand");return}break;case 40:k.keyStop(b,a);if(a.isInput){if(9===b.keyCode){b.preventDefault();a.$selected&&a.$selected.find("input, textarea, select").blur();null!==a.$menu&&"undefined"!==typeof a.$menu&&a.$menu.trigger("nextcommand");return}if(40===b.keyCode&&"checkbox"===a.$selected.find("input, textarea, select").prop("type")){b.preventDefault();return}}else{null!==a.$menu&&"undefined"!==typeof a.$menu&&a.$menu.trigger("nextcommand");return}break;
case 37:k.keyStop(b,a);if(a.isInput||!a.$selected||!a.$selected.length)break;if(!a.$selected.parent().hasClass("context-menu-root")){b=a.$selected.parent().parent();a.$selected.trigger("contextmenu:blur");a.$selected=b;return}break;case 39:k.keyStop(b,a);if(a.isInput||!a.$selected||!a.$selected.length)break;var e=a.$selected.data("contextMenu")||{};if(e.$menu&&a.$selected.hasClass("context-menu-submenu")){a.$selected=null;e.$selected=null;e.$menu.trigger("nextcommand");return}break;case 35:case 36:a.$selected&&
a.$selected.find("input, textarea, select").length||((a.$selected&&a.$selected.parent()||a.$menu).children(":not(."+a.classNames.disabled+", ."+a.classNames.notSelectable+")")[36===b.keyCode?"first":"last"]().trigger("contextmenu:focus"),b.preventDefault());return;case 13:k.keyStop(b,a);if(a.isInput){if(a.$selected&&!a.$selected.is("textarea, select")){b.preventDefault();return}break}"undefined"!==typeof a.$selected&&null!==a.$selected&&a.$selected.trigger("mouseup");return;case 32:case 33:case 34:k.keyStop(b,
a);return;case 27:k.keyStop(b,a);null!==a.$menu&&"undefined"!==typeof a.$menu&&a.$menu.trigger("contextmenu:hide");return;default:if(e=String.fromCharCode(b.keyCode).toUpperCase(),a.accesskeys&&a.accesskeys[e]){a.accesskeys[e].$node.trigger(a.accesskeys[e].$menu?"contextmenu:focus":"mouseup");return}}b.stopPropagation();"undefined"!==typeof a.$selected&&null!==a.$selected&&a.$selected.trigger(b)}},prevItem:function(b){b.stopPropagation();var a=d(this).data("contextMenu")||{},c=d(this).data("contextMenuRoot")||
{};if(a.$selected){var f=a.$selected,a=a.$selected.parent().data("contextMenu")||{};a.$selected=f}for(var f=a.$menu.children(),e=a.$selected&&a.$selected.prev().length?a.$selected.prev():f.last(),g=e;e.hasClass(c.classNames.disabled)||e.hasClass(c.classNames.notSelectable)||e.is(":hidden");)if(e=e.prev().length?e.prev():f.last(),e.is(g))return;a.$selected&&k.itemMouseleave.call(a.$selected.get(0),b);k.itemMouseenter.call(e.get(0),b);b=e.find("input, textarea, select");b.length&&b.focus()},nextItem:function(b){b.stopPropagation();
var a=d(this).data("contextMenu")||{},c=d(this).data("contextMenuRoot")||{};if(a.$selected){var f=a.$selected,a=a.$selected.parent().data("contextMenu")||{};a.$selected=f}for(var f=a.$menu.children(),e=a.$selected&&a.$selected.next().length?a.$selected.next():f.first(),g=e;e.hasClass(c.classNames.disabled)||e.hasClass(c.classNames.notSelectable)||e.is(":hidden");)if(e=e.next().length?e.next():f.first(),e.is(g))return;a.$selected&&k.itemMouseleave.call(a.$selected.get(0),b);k.itemMouseenter.call(e.get(0),
b);b=e.find("input, textarea, select");b.length&&b.focus()},focusInput:function(){var b=d(this).closest(".context-menu-item"),a=b.data(),c=a.contextMenu,a=a.contextMenuRoot;a.$selected=c.$selected=b;a.isInput=c.isInput=!0},blurInput:function(){var b=d(this).closest(".context-menu-item").data();b.contextMenuRoot.isInput=b.contextMenu.isInput=!1},menuMouseenter:function(){d(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(b){var a=d(this).data().contextMenuRoot;a.$layer&&a.$layer.is(b.relatedTarget)&&
(a.hovering=!1)},itemMouseenter:function(b){var a=d(this),c=a.data(),f=c.contextMenu,c=c.contextMenuRoot;c.hovering=!0;b&&c.$layer&&c.$layer.is(b.relatedTarget)&&(b.preventDefault(),b.stopImmediatePropagation());(f.$menu?f:c).$menu.children("."+c.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur");a.hasClass(c.classNames.disabled)||a.hasClass(c.classNames.notSelectable)?f.$selected=null:a.trigger("contextmenu:focus")},itemMouseleave:function(b){var a=d(this),
c=a.data(),f=c.contextMenu,c=c.contextMenuRoot;c!==f&&c.$layer&&c.$layer.is(b.relatedTarget)?("undefined"!==typeof c.$selected&&null!==c.$selected&&c.$selected.trigger("contextmenu:blur"),b.preventDefault(),b.stopImmediatePropagation(),c.$selected=f.$selected=f.$node):f&&f.$menu&&f.$menu.hasClass("context-menu-visible")||a.trigger("contextmenu:blur")},itemClick:function(b){var a=d(this),c=a.data(),f=c.contextMenu,e=c.contextMenuRoot,c=c.contextMenuKey;if(!(!f.items[c]||a.is("."+e.classNames.disabled+
", .context-menu-separator, ."+e.classNames.notSelectable)||a.is(".context-menu-submenu")&&!1===e.selectableSubMenu)){b.preventDefault();b.stopImmediatePropagation();if(d.isFunction(f.callbacks[c])&&Object.prototype.hasOwnProperty.call(f.callbacks,c))a=f.callbacks[c];else if(d.isFunction(e.callback))a=e.callback;else return;!1!==a.call(e.$trigger,c,e,b)?e.$menu.trigger("contextmenu:hide"):e.$menu.parent().length&&p.update.call(e.$trigger,e)}},inputClick:function(b){b.stopImmediatePropagation()},hideMenu:function(b,
a){var c=d(this).data("contextMenuRoot");p.hide.call(c.$trigger,c,a&&a.force)},focusItem:function(b){b.stopPropagation();b=d(this);var a=b.data(),c=a.contextMenu,a=a.contextMenuRoot;b.hasClass(a.classNames.disabled)||b.hasClass(a.classNames.notSelectable)||(b.addClass([a.classNames.hover,a.classNames.visible].join(" ")).parent().find(".context-menu-item").not(b).removeClass(a.classNames.visible).filter("."+a.classNames.hover).trigger("contextmenu:blur"),c.$selected=a.$selected=b,c&&c.$node&&c.$node.hasClass("context-menu-submenu")&&
c.$node.addClass(a.classNames.hover),c.$node&&a.positionSubmenu.call(c.$node,c.$menu))},blurItem:function(b){b.stopPropagation();b=d(this);var a=b.data(),c=a.contextMenu,a=a.contextMenuRoot;c.autoHide&&b.removeClass(a.classNames.visible);b.removeClass(a.classNames.hover);c.$selected=null}},p={show:function(b,a,c){var f=d(this),e={};d("#context-menu-layer").trigger("mousedown");b.$trigger=f;if(!1===b.events.show.call(f,b))m=null;else if(p.update.call(f,b),b.position.call(f,b,a,c),b.zIndex&&(a=b.zIndex,
"function"===typeof b.zIndex&&(a=b.zIndex.call(f,b)),e.zIndex=G(f)+a),p.layer.call(b.$menu,b,e.zIndex),b.$menu.find("ul").css("zIndex",e.zIndex+1),b.$menu.css(e)[b.animation.show](b.animation.duration,function(){f.trigger("contextmenu:visible");p.activated(b);b.events.activated()}),f.data("contextMenu",b).addClass("context-menu-active"),d(document).off("keydown.contextMenu").on("keydown.contextMenu",k.key),b.autoHide)d(document).on("mousemove.contextMenuAutoHide",function(a){var c=f.offset();c.right=
c.left+f.outerWidth();c.bottom=c.top+f.outerHeight();!b.$layer||b.hovering||a.pageX>=c.left&&a.pageX<=c.right&&a.pageY>=c.top&&a.pageY<=c.bottom||setTimeout(function(){b.hovering||null===b.$menu||"undefined"===typeof b.$menu||b.$menu.trigger("contextmenu:hide")},50)})},hide:function(b,a){var c=d(this);b||(b=c.data("contextMenu")||{});if(a||!b.events||!1!==b.events.hide.call(c,b)){c.removeData("contextMenu").removeClass("context-menu-active");if(b.$layer){setTimeout(function(a){return function(){a.remove()}}(b.$layer),
10);try{delete b.$layer}catch(f){b.$layer=null}}m=null;b.$menu.find("."+b.classNames.hover).trigger("contextmenu:blur");b.$selected=null;b.$menu.find("."+b.classNames.visible).removeClass(b.classNames.visible);d(document).off(".contextMenuAutoHide").off("keydown.contextMenu");if(b.$menu)b.$menu[b.animation.hide](b.animation.duration,function(){b.build&&(b.$menu.remove(),d.each(b,function(a){switch(a){case "ns":case "selector":case "build":case "trigger":return!0;default:b[a]=r;try{delete b[a]}catch(e){}return!0}}));
setTimeout(function(){c.trigger("contextmenu:hidden")},10)})}},create:function(b,a){function c(a){var b=d("<span></span>");if(a._accesskey)a._beforeAccesskey&&b.append(document.createTextNode(a._beforeAccesskey)),d("<span></span>").addClass("context-menu-accesskey").text(a._accesskey).appendTo(b),a._afterAccesskey&&b.append(document.createTextNode(a._afterAccesskey));else if(a.isHtmlName){if("undefined"!==typeof a.accesskey)throw Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");
b.html(a.name)}else b.text(a.name);return b}"undefined"===typeof a&&(a=b);b.$menu=d('<ul class="context-menu-list"></ul>').addClass(b.className||"").data({contextMenu:b,contextMenuRoot:a});d.each(["callbacks","commands","inputs"],function(c,d){b[d]={};a[d]||(a[d]={})});a.accesskeys||(a.accesskeys={});d.each(b.items,function(f,e){var g=d('<li class="context-menu-item"></li>').addClass(e.className||""),l=null,h=null;g.on("click",d.noop);if("string"===typeof e||"cm_separator"===e.type)e={type:"cm_seperator"};
e.$node=g.data({contextMenu:b,contextMenuRoot:a,contextMenuKey:f});if("undefined"!==typeof e.accesskey)for(var m=q(e.accesskey),n=0,y;y=m[n];n++)if(!a.accesskeys[y]){a.accesskeys[y]=e;if(m=e.name.match(new RegExp("^(.*?)("+y+")(.*)$","i")))e._beforeAccesskey=m[1],e._accesskey=m[2],e._afterAccesskey=m[3];break}if(e.type&&B[e.type])B[e.type].call(g,e,b,a),d.each([b,a],function(a,c){c.commands[f]=e;!d.isFunction(e.callback)||"undefined"!==typeof c.callbacks[f]&&"undefined"!==typeof b.type||(c.callbacks[f]=
e.callback)});else{"cm_seperator"===e.type?g.addClass("context-menu-separator "+a.classNames.notSelectable):"html"===e.type?g.addClass("context-menu-html "+a.classNames.notSelectable):"sub"!==e.type&&(e.type?(l=d("<label></label>").appendTo(g),c(e).appendTo(l),g.addClass("context-menu-input"),b.hasTypes=!0,d.each([b,a],function(a,b){b.commands[f]=e;b.inputs[f]=e})):e.items&&(e.type="sub"));switch(e.type){case "cm_seperator":break;case "text":h=d('<input type="text" value="1" name="" />').attr("name",
"context-menu-input-"+f).val(e.value||"").appendTo(l);break;case "textarea":h=d('<textarea name=""></textarea>').attr("name","context-menu-input-"+f).val(e.value||"").appendTo(l);e.height&&h.height(e.height);break;case "checkbox":h=d('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+f).val(e.value||"").prop("checked",!!e.selected).prependTo(l);break;case "radio":h=d('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+e.radio).val(e.value||"").prop("checked",
!!e.selected).prependTo(l);break;case "select":h=d('<select name=""></select>').attr("name","context-menu-input-"+f).appendTo(l);e.options&&(d.each(e.options,function(a,b){d("<option></option>").val(a).text(b).appendTo(h)}),h.val(e.selected));break;case "sub":c(e).appendTo(g);e.appendTo=e.$node;g.data("contextMenu",e).addClass("context-menu-submenu");e.callback=null;"function"===typeof e.items.then?p.processPromises(e,a,e.items):p.create(e,a);break;case "html":d(e.html).appendTo(g);break;default:d.each([b,
a],function(a,c){c.commands[f]=e;!d.isFunction(e.callback)||"undefined"!==typeof c.callbacks[f]&&"undefined"!==typeof b.type||(c.callbacks[f]=e.callback)}),c(e).appendTo(g)}if(e.type&&"sub"!==e.type&&"html"!==e.type&&"cm_seperator"!==e.type&&(h.on("focus",k.focusInput).on("blur",k.blurInput),e.events))h.on(e.events,b);e.icon&&(d.isFunction(e.icon)?e._icon=e.icon.call(this,this,g,f,e):"string"===typeof e.icon&&"fa-"===e.icon.substring(0,3)?e._icon=a.classNames.icon+" "+a.classNames.icon+"--fa fa "+
e.icon:e._icon=a.classNames.icon+" "+a.classNames.icon+"-"+e.icon,g.addClass(e._icon))}e.$input=h;e.$label=l;g.appendTo(b.$menu);if(!b.hasTypes&&d.support.eventSelectstart)g.on("selectstart.disableTextSelect",k.abortevent)});b.$node||b.$menu.css("display","none").addClass("context-menu-root");b.$menu.appendTo(b.appendTo||document.body)},resize:function(b,a){var c;b.css({position:"absolute",display:"block"});b.data("width",(c=b.get(0)).getBoundingClientRect?Math.ceil(c.getBoundingClientRect().width):
b.outerWidth()+1);b.css({position:"static",minWidth:"0px",maxWidth:"100000px"});b.find("> li > ul").each(function(){p.resize(d(this),!0)});a||b.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return d(this).data("width")})},update:function(b,a){var c=this;"undefined"===typeof a&&(a=b,p.resize(b.$menu));b.$menu.children().each(function(){var f=d(this),e=f.data("contextMenuKey"),g=b.items[e],l=d.isFunction(g.disabled)&&g.disabled.call(c,e,a)||!0===g.disabled,
h;h=d.isFunction(g.visible)?g.visible.call(c,e,a):"undefined"!==typeof g.visible?!0===g.visible:!0;f[h?"show":"hide"]();f[l?"addClass":"removeClass"](a.classNames.disabled);d.isFunction(g.icon)&&(f.removeClass(g._icon),g._icon=g.icon.call(this,c,f,e,g),f.addClass(g._icon));if(g.type)switch(f.find("input, select, textarea").prop("disabled",l),g.type){case "text":case "textarea":g.$input.val(g.value||"");break;case "checkbox":case "radio":g.$input.val(g.value||"").prop("checked",!!g.selected);break;
case "select":g.$input.val((0===g.selected?"0":g.selected)||"")}g.$menu&&p.update.call(c,g,a)})},layer:function(b,a){var c=b.$layer=d('<div id="context-menu-layer"></div>').css({height:v.height(),width:v.width(),display:"block",position:"fixed","z-index":a,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",b).insertBefore(this).on("contextmenu",k.abortevent).on("mousedown",k.layerClick);"undefined"===typeof document.body.style.maxWidth&&c.css({position:"absolute",
height:d(document).height()});return c},processPromises:function(b,a,c){function d(a,b,c){"undefined"===typeof c?(c={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"===typeof c&&(c={error:{name:c}});e(a,b,c)}function e(a,b,c){"undefined"!==typeof b.$menu&&b.$menu.is(":visible")&&(a.$node.removeClass(b.classNames.iconLoadingClass),
a.items=c,p.create(a,b,!0),p.update(a,b),b.positionSubmenu.call(a.$node,a.$menu))}b.$node.addClass(a.classNames.iconLoadingClass);c.then(function(a,b,c){"undefined"===typeof c&&d(r);e(a,b,c)}.bind(this,b,a),d.bind(this,b,a))},activated:function(b){b=b.$menu;var a=b.offset(),c=d(window).height(),f=d(window).scrollTop(),e=b.height();e>c?b.css({height:c+"px","overflow-x":"hidden","overflow-y":"auto",top:f+"px"}):(a.top<f||a.top+e>f+c)&&b.css({top:"0px"})}};d.fn.contextMenu=function(b){var a=this;if(0<
this.length)if("undefined"===typeof b)this.first().trigger("contextmenu");else if("undefined"!==typeof b.x&&"undefined"!==typeof b.y)this.first().trigger(d.Event("contextmenu",{pageX:b.x,pageY:b.y,mouseButton:b.button}));else if("hide"===b){var c=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;c&&c.trigger("contextmenu:hide")}else"destroy"===b?d.contextMenu("destroy",{context:this}):d.isPlainObject(b)?(b.context=this,d.contextMenu("create",b)):b?this.removeClass("context-menu-disabled"):
b||this.addClass("context-menu-disabled");else d.each(n,function(){this.selector===a.selector&&(b.data=this,d.extend(b.data,{trigger:"demand"}))}),k.contextmenu.call(b.target,b);return this};d.contextMenu=function(b,a){"string"!==typeof b&&(a=b,b="create");"string"===typeof a?a={selector:a}:"undefined"===typeof a&&(a={});var c=d.extend(!0,{},C,a||{}),f=d(document),e=f,g=!1;c.context&&c.context.length?(e=d(c.context).first(),c.context=e.get(0),g=!d(c.context).is(document)):c.context=document;switch(b){case "update":if(g)p.update(e);
else for(var l in n)n.hasOwnProperty(l)&&p.update(n[l]);break;case "create":if(!c.selector)throw Error("No selector specified");if(c.selector.match(/.context-menu-(list|item|input)($|\s)/))throw Error('Cannot bind to selector "'+c.selector+'" as it contains a reserved className');if(!c.build&&(!c.items||d.isEmptyObject(c.items)))throw Error("No Items specified");A++;c.ns=".contextMenu"+A;g||(w[c.selector]=c.ns);n[c.ns]=c;c.trigger||(c.trigger="right");z||(l={"contextmenu:focus.contextMenu":k.focusItem,
"contextmenu:blur.contextMenu":k.blurItem,"contextmenu.contextMenu":k.abortevent,"mouseenter.contextMenu":k.itemMouseenter,"mouseleave.contextMenu":k.itemMouseleave},l["click"===c.itemClickEvent?"click.contextMenu":"mouseup.contextMenu"]=k.itemClick,f.on({"contextmenu:hide.contextMenu":k.hideMenu,"prevcommand.contextMenu":k.prevItem,"nextcommand.contextMenu":k.nextItem,"contextmenu.contextMenu":k.abortevent,"mouseenter.contextMenu":k.menuMouseenter,"mouseleave.contextMenu":k.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",
".context-menu-input",k.inputClick).on(l,".context-menu-item"),z=!0);e.on("contextmenu"+c.ns,c.selector,c,k.contextmenu);if(g)e.on("remove"+c.ns,function(){d(this).contextMenu("destroy")});switch(c.trigger){case "hover":e.on("mouseenter"+c.ns,c.selector,c,k.mouseenter).on("mouseleave"+c.ns,c.selector,c,k.mouseleave);break;case "left":e.on("click"+c.ns,c.selector,c,k.click);break;case "touchstart":e.on("touchstart"+c.ns,c.selector,c,k.click)}c.build||p.create(c);break;case "destroy":var h;if(g){var m=
c.context;d.each(n,function(a,b){if(!b||!d(m).is(b.selector))return!0;h=d(".context-menu-list").filter(":visible");h.length&&h.data().contextMenuRoot.$trigger.is(d(b.context).find(b.selector))&&h.trigger("contextmenu:hide",{force:!0});try{n[b.ns].$menu&&n[b.ns].$menu.remove(),delete n[b.ns]}catch(I){n[b.ns]=null}d(b.context).off(b.ns);return!0})}else if(!c.selector)f.off(".contextMenu .contextMenuAutoHide"),d.each(n,function(a,b){d(b.context).off(b.ns)}),w={},n={},A=0,z=!1,d("#context-menu-layer, .context-menu-list").remove();
else if(w[c.selector]){h=d(".context-menu-list").filter(":visible");h.length&&h.data().contextMenuRoot.$trigger.is(c.selector)&&h.trigger("contextmenu:hide",{force:!0});try{n[w[c.selector]].$menu&&n[w[c.selector]].$menu.remove(),delete n[w[c.selector]]}catch(H){n[w[c.selector]]=null}f.off(w[c.selector])}break;case "html5":(!d.support.htmlCommand&&!d.support.htmlMenuitem||"boolean"===typeof a&&a)&&d('menu[type="context"]').each(function(){this.id&&d.contextMenu({selector:"[contextmenu="+this.id+"]",
items:d.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw Error('Unknown operation "'+b+'"');}return this};d.contextMenu.setInputValues=function(b,a){"undefined"===typeof a&&(a={});d.each(b.inputs,function(b,d){switch(d.type){case "text":case "textarea":d.value=a[b]||"";break;case "checkbox":d.selected=a[b]?!0:!1;break;case "radio":d.selected=(a[d.radio]||"")===d.value;break;case "select":d.selected=a[b]||""}})};d.contextMenu.getInputValues=function(b,a){"undefined"===typeof a&&
(a={});d.each(b.inputs,function(b,d){switch(d.type){case "text":case "textarea":case "select":a[b]=d.$input.val();break;case "checkbox":a[b]=d.$input.prop("checked");break;case "radio":d.$input.prop("checked")&&(a[d.radio]=d.value)}});return a};d.contextMenu.fromMenu=function(b){b=d(b);var a={};u(a,b.children());return a};d.contextMenu.defaults=C;d.contextMenu.types=B;d.contextMenu.handle=k;d.contextMenu.op=p;d.contextMenu.menus=n})(jQuery);
(function(k){k.color={};k.color.make=function(t,m,j,p){var f={};f.r=t||0;f.g=m||0;f.b=j||0;f.a=null!=p?p:1;f.add=function(j,k){for(var p=0;p<j.length;++p)f[j.charAt(p)]+=k;return f.normalize()};f.scale=function(j,k){for(var p=0;p<j.length;++p)f[j.charAt(p)]*=k;return f.normalize()};f.toString=function(){return 1<=f.a?"rgb("+[f.r,f.g,f.b].join()+")":"rgba("+[f.r,f.g,f.b,f.a].join()+")"};f.normalize=function(){function j(f,k,l){return k<f?f:k>l?l:k}f.r=j(0,parseInt(f.r),255);f.g=j(0,parseInt(f.g),255);
f.b=j(0,parseInt(f.b),255);f.a=j(0,f.a,1);return f};f.clone=function(){return k.color.make(f.r,f.b,f.g,f.a)};return f.normalize()};k.color.extract=function(t,m){var j;do{j=t.css(m).toLowerCase();if(""!=j&&"transparent"!=j)break;t=t.parent()}while(t.length&&!k.nodeName(t.get(0),"body"));"rgba(0, 0, 0, 0)"==j&&(j="transparent");return k.color.parse(j)};k.color.parse=function(t){var m,j=k.color.make;if(m=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return j(parseInt(m[1],
10),parseInt(m[2],10),parseInt(m[3],10));if(m=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return j(parseInt(m[1],10),parseInt(m[2],10),parseInt(m[3],10),parseFloat(m[4]));if(m=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return j(2.55*parseFloat(m[1]),2.55*parseFloat(m[2]),2.55*parseFloat(m[3]));if(m=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return j(2.55*
parseFloat(m[1]),2.55*parseFloat(m[2]),2.55*parseFloat(m[3]),parseFloat(m[4]));if(m=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return j(parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16));if(m=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return j(parseInt(m[1]+m[1],16),parseInt(m[2]+m[2],16),parseInt(m[3]+m[3],16));t=k.trim(t).toLowerCase();if("transparent"==t)return j(255,255,255,0);m=A[t]||[0,0,0];return j(m[0],m[1],m[2])};var A={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(k){function A(j,p){var f=p.children("."+j)[0];if(null==f&&(f=document.createElement("canvas"),f.className=j,k(f).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(p),!f.getContext))if(window.G_vmlCanvasManager)f=window.G_vmlCanvasManager.initElement(f);else throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=
f;f=this.context=f.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1);this.resize(p.width(),p.height());this.textContainer=null;this.text={};this._textCache={}}function t(j,p,f,l){function m(b,d){d=[u].concat(d);for(var a=0;a<b.length;++a)b[a].apply(this,d)}function K(b){for(var d=[],a=0;a<b.length;++a){var c=k.extend(!0,{},h.series);null!=b[a].data?
(c.data=b[a].data,delete b[a].data,k.extend(!0,c,b[a]),b[a].data=c.data):c.data=b[a];d.push(c)}x=d;a=x.length;d=-1;for(b=0;b<x.length;++b)c=x[b].color,null!=c&&(a--,"number"==typeof c&&c>d&&(d=c));a<=d&&(a=d+1);var d=[],e=h.colors,f=e.length,g=0;for(b=0;b<a;b++)c=k.color.parse(e[b%f]||"#666"),0==b%f&&b&&(g=0<=g?0.5>g?-g-0.2:0:-g),d[b]=c.scale("rgb",1+g);for(b=a=0;b<x.length;++b){c=x[b];null==c.color?(c.color=d[a].toString(),++a):"number"==typeof c.color&&(c.color=d[c.color].toString());if(null==c.lines.show){var j,
e=!0;for(j in c)if(c[j]&&c[j].show){e=!1;break}e&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill);c.xaxis=H(B,t(c,"x"));c.yaxis=H(F,t(c,"y"))}j=function(b,a,c){a<b.datamin&&a!=-p&&(b.datamin=a);c>b.datamax&&c!=p&&(b.datamax=c)};var n=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,p=Number.MAX_VALUE,w,C,r,q,s;k.each(y(),function(b,a){a.datamin=n;a.datamax=l;a.used=!1});for(b=0;b<x.length;++b)d=x[b],d.datapoints={points:[]},m(E.processRawData,[d,d.data,d.datapoints]);for(b=
0;b<x.length;++b){d=x[b];q=d.data;s=d.datapoints.format;if(!s){s=[];s.push({x:!0,number:!0,required:!0});s.push({y:!0,number:!0,required:!0});if(d.bars.show||d.lines.show&&d.lines.fill)s.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(d.bars.show&&d.bars.zero||d.lines.show&&d.lines.zero)}),d.bars.horizontal&&(delete s[s.length-1].y,s[s.length-1].x=!0);d.datapoints.format=s}if(null==d.datapoints.pointsize){d.datapoints.pointsize=s.length;var f=d.datapoints.pointsize,e=d.datapoints.points,
v=d.lines.show&&d.lines.steps;d.xaxis.used=d.yaxis.used=!0;for(a=w=0;a<q.length;++a,w+=f){r=q[a];var Y=null==r;if(!Y)for(c=0;c<f;++c){g=r[c];if(C=s[c])C.number&&null!=g&&(g=+g,isNaN(g)?g=null:Infinity==g?g=p:-Infinity==g&&(g=-p)),null==g&&(C.required&&(Y=!0),null!=C.defaultValue&&(g=C.defaultValue));e[w+c]=g}if(Y)for(c=0;c<f;++c)g=e[w+c],null!=g&&(C=s[c],!1!==C.autoscale&&(C.x&&j(d.xaxis,g,g),C.y&&j(d.yaxis,g,g))),e[w+c]=null;else if(v&&0<w&&null!=e[w-f]&&e[w-f]!=e[w]&&e[w-f+1]!=e[w+1]){for(c=0;c<
f;++c)e[w+f+c]=e[w+c];e[w+1]=e[w-f+1];w+=f}}}}for(b=0;b<x.length;++b)d=x[b],m(E.processDatapoints,[d,d.datapoints]);for(b=0;b<x.length;++b){d=x[b];e=d.datapoints.points;f=d.datapoints.pointsize;s=d.datapoints.format;r=w=n;v=q=l;for(a=0;a<e.length;a+=f)if(null!=e[a])for(c=0;c<f;++c)if(g=e[a+c],(C=s[c])&&!(!1===C.autoscale||g==p||g==-p))C.x&&(g<w&&(w=g),g>q&&(q=g)),C.y&&(g<r&&(r=g),g>v&&(v=g));if(d.bars.show){switch(d.bars.align){case "left":a=0;break;case "right":a=-d.bars.barWidth;break;default:a=
-d.bars.barWidth/2}d.bars.horizontal?(r+=a,v+=a+d.bars.barWidth):(w+=a,q+=a+d.bars.barWidth)}j(d.xaxis,w,q);j(d.yaxis,r,v)}k.each(y(),function(b,a){a.datamin==n&&(a.datamin=null);a.datamax==l&&(a.datamax=null)})}function t(b,d){var a=b[d+"axis"];"object"==typeof a&&(a=a.n);"number"!=typeof a&&(a=1);return a}function y(){return k.grep(B.concat(F),function(b){return b})}function N(b){var d={},a,c;for(a=0;a<B.length;++a)(c=B[a])&&c.used&&(d["x"+c.n]=c.c2p(b.left));for(a=0;a<F.length;++a)(c=F[a])&&c.used&&
(d["y"+c.n]=c.c2p(b.top));void 0!==d.x1&&(d.x=d.x1);void 0!==d.y1&&(d.y=d.y1);return d}function H(b,d){b[d-1]||(b[d-1]={n:d,direction:b==B?"x":"y",options:k.extend(!0,{},b==B?h.xaxis:h.yaxis)});return b[d-1]}function ba(){V&&clearTimeout(V);I.unbind("mousemove",ca);I.unbind("mouseleave",da);I.unbind("click",ea);m(E.shutdown,[I])}function pa(b){var d=b.labelWidth,a=b.labelHeight,c=b.options.position,e="x"===b.direction,g=b.options.tickLength,f=h.grid.axisMargin,j=h.grid.labelMargin,l=!0,p=!0,m=!0,
w=!1;k.each(e?B:F,function(a,d){if(d&&(d.show||d.reserveSpace))d===b?w=!0:d.options.position===c&&(w?p=!1:l=!1),w||(m=!1)});p&&(f=0);null==g&&(g=m?"full":5);isNaN(+g)||(j+=+g);e?(a+=j,"bottom"==c?(n.bottom+=a+f,b.box={top:z.height-n.bottom,height:a}):(b.box={top:n.top+f,height:a},n.top+=a+f)):(d+=j,"left"==c?(b.box={left:n.left+f,width:d},n.left+=d+f):(n.right+=d+f,b.box={left:z.width-n.right,width:d}));b.position=c;b.tickLength=g;b.box.padding=j;b.innermost=l}function fa(){var b,d=y(),a=h.grid.show,
c;for(c in n)b=h.grid.margin||0,n[c]="number"==typeof b?b:b[c]||0;m(E.processOffset,[n]);for(c in n)n[c]="object"==typeof h.grid.borderWidth?n[c]+(a?h.grid.borderWidth[c]:0):n[c]+(a?h.grid.borderWidth:0);k.each(d,function(b,a){var c=a.options;a.show=null==c.show?a.used:c.show;a.reserveSpace=null==c.reserveSpace?a.show:c.reserveSpace;var c=a.options,d=+(null!=c.min?c.min:a.datamin),e=+(null!=c.max?c.max:a.datamax),g=e-d;if(0==g){if(g=0==e?1:0.01,null==c.min&&(d-=g),null==c.max||null!=c.min)e+=g}else{var f=
c.autoscaleMargin;null!=f&&(null==c.min&&(d-=g*f,0>d&&(null!=a.datamin&&0<=a.datamin)&&(d=0)),null==c.max&&(e+=g*f,0<e&&(null!=a.datamax&&0>=a.datamax)&&(e=0)))}a.min=d;a.max=e});if(a){c=k.grep(d,function(b){return b.show||b.reserveSpace});k.each(c,function(b,a){var c=a.options,d;d="number"==typeof c.ticks&&0<c.ticks?c.ticks:0.3*Math.sqrt("x"==a.direction?z.width:z.height);d=(a.max-a.min)/d;var e=-Math.floor(Math.log(d)/Math.LN10),g=c.tickDecimals;null!=g&&e>g&&(e=g);var f=Math.pow(10,-e),h=d/f,j;
if(1.5>h)j=1;else if(3>h){if(j=2,2.25<h&&(null==g||e+1<=g))j=2.5,++e}else j=7.5>h?5:10;j*=f;null!=c.minTickSize&&j<c.minTickSize&&(j=c.minTickSize);a.delta=d;a.tickDecimals=Math.max(0,null!=g?g:e);a.tickSize=c.tickSize||j;if("time"==c.mode&&!a.tickGenerator)throw Error("Time mode requires the flot.time plugin.");a.tickGenerator||(a.tickGenerator=function(a){var b=[],c=a.tickSize*Math.floor(a.min/a.tickSize),d=0,e=Number.NaN,g;do g=e,e=c+d*a.tickSize,b.push(e),++d;while(e<a.max&&e!=g);return b},a.tickFormatter=
function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),e=-1==e?0:d.length-e-1;if(e<b.tickDecimals)return(e?d:d+".")+(""+c).substr(1,b.tickDecimals-e)}return d});k.isFunction(c.tickFormatter)&&(a.tickFormatter=function(a,b){return""+c.tickFormatter(a,b)});if(null!=c.alignTicksWithAxis){var l=("x"==a.direction?B:F)[c.alignTicksWithAxis-1];l&&(l.used&&l!=a)&&(d=a.tickGenerator(a),0<d.length&&(null==c.min&&(a.min=Math.min(a.min,
d[0])),null==c.max&&1<d.length&&(a.max=Math.max(a.max,d[d.length-1]))),a.tickGenerator=function(a){var b=[],c,d;for(d=0;d<l.ticks.length;++d)c=(l.ticks[d].v-l.min)/(l.max-l.min),c=a.min+c*(a.max-a.min),b.push(c);return b},!a.mode&&null==c.tickDecimals&&(d=Math.max(0,-Math.floor(Math.log(a.delta)/Math.LN10)+1),e=a.tickGenerator(a),1<e.length&&/\..*0$/.test((e[1]-e[0]).toFixed(d))||(a.tickDecimals=d)))}e=a.options.ticks;d=[];null==e||"number"==typeof e&&0<e?d=a.tickGenerator(a):e&&(d=k.isFunction(e)?
e(a):e);a.ticks=[];for(e=0;e<d.length;++e)f=null,h=d[e],"object"==typeof h?(g=+h[0],1<h.length&&(f=h[1])):g=+h,null==f&&(f=a.tickFormatter(g,a)),isNaN(g)||a.ticks.push({v:g,label:f});d=a.ticks;a.options.autoscaleMargin&&0<d.length&&(null==a.options.min&&(a.min=Math.min(a.min,d[0].v)),null==a.options.max&&1<d.length&&(a.max=Math.max(a.max,d[d.length-1].v)));d=a.options;e=a.ticks||[];g=d.labelWidth||0;f=d.labelHeight||0;h=g||("x"==a.direction?Math.floor(z.width/(e.length||1)):null);j="flot-"+a.direction+
"-axis flot-"+a.direction+a.n+"-axis "+(a.direction+"Axis "+a.direction+a.n+"Axis");for(var p=d.font||"flot-tick-label tickLabel",n=0;n<e.length;++n){var U=e[n];U.label&&(U=z.getTextInfo(j,U.label,p,null,h),g=Math.max(g,U.width),f=Math.max(f,U.height))}a.labelWidth=d.labelWidth||g;a.labelHeight=d.labelHeight||f});for(b=c.length-1;0<=b;--b)pa(c[b]);b=h.grid.minBorderMargin;var e;if(null==b)for(e=b=0;e<x.length;++e)b=Math.max(b,2*(x[e].points.radius+x[e].points.lineWidth/2));var g=b,f=b,l=b,p=b;k.each(y(),
function(a,b){b.reserveSpace&&(b.ticks&&b.ticks.length)&&("x"===b.direction?(g=Math.max(g,b.labelWidth/2),f=Math.max(f,b.labelWidth/2)):(p=Math.max(p,b.labelHeight/2),l=Math.max(l,b.labelHeight/2)))});n.left=Math.ceil(Math.max(g,n.left));n.right=Math.ceil(Math.max(f,n.right));n.top=Math.ceil(Math.max(l,n.top));n.bottom=Math.ceil(Math.max(p,n.bottom));k.each(c,function(a,b){"x"==b.direction?(b.box.left=n.left-b.labelWidth/2,b.box.width=z.width-n.left-n.right+b.labelWidth):(b.box.top=n.top-b.labelHeight/
2,b.box.height=z.height-n.bottom-n.top+b.labelHeight)})}J=z.width-n.left-n.right;G=z.height-n.bottom-n.top;k.each(d,function(b,a){var c=function(a){return a},d,e,g=a.options.transform||c,f=a.options.inverseTransform;"x"==a.direction?(d=a.scale=J/Math.abs(g(a.max)-g(a.min)),e=Math.min(g(a.max),g(a.min))):(d=a.scale=G/Math.abs(g(a.max)-g(a.min)),d=-d,e=Math.max(g(a.max),g(a.min)));a.p2c=g==c?function(a){return(a-e)*d}:function(a){return(g(a)-e)*d};a.c2p=f?function(a){return f(e+a/d)}:function(a){return e+
a/d}});a&&k.each(y(),function(a,b){var d=b.box,c="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+(b.direction+"Axis "+b.direction+b.n+"Axis"),e=b.options.font||"flot-tick-label tickLabel",g,f,h,j,l;z.removeText(c);if(b.show&&0!=b.ticks.length)for(var k=0;k<b.ticks.length;++k)if(g=b.ticks[k],g.label&&!(g.v<b.min||g.v>b.max))"x"==b.direction?(j="center",f=n.left+b.p2c(g.v),"bottom"==b.position?h=d.top+d.padding:(h=d.top+d.height-d.padding,l="bottom")):(l="middle",h=n.top+b.p2c(g.v),"left"==
b.position?(f=d.left+d.width-d.padding,j="right"):f=d.left+d.padding),z.addText(c,f,h,g.label,e,null,null,j,l)});null!=h.legend.container?k(h.legend.container).html(""):j.find(".legend").remove();if(h.legend.show){d=[];a=[];c=!1;e=h.legend.labelFormatter;var S,M;for(b=0;b<x.length;++b)S=x[b],S.label&&(M=e?e(S.label,S):S.label)&&a.push({label:M,color:S.color});if(h.legend.sorted)if(k.isFunction(h.legend.sorted))a.sort(h.legend.sorted);else if("reverse"==h.legend.sorted)a.reverse();else{var w="descending"!=
h.legend.sorted;a.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=w?1:-1})}for(b=0;b<a.length;++b)e=a[b],0==b%h.legend.noColumns&&(c&&d.push("</tr>"),d.push("<tr>"),c=!0),d.push('<td class="legendColorBox"><div style="border:1px solid '+h.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+e.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+e.label+"</td>");c&&d.push("</tr>");0!=d.length&&(a='<table style="font-size:smaller;color:'+
h.grid.color+'">'+d.join("")+"</table>",null!=h.legend.container?k(h.legend.container).html(a):(d="",c=h.legend.position,b=h.legend.margin,null==b[0]&&(b=[b,b]),"n"==c.charAt(0)?d+="top:"+(b[1]+n.top)+"px;":"s"==c.charAt(0)&&(d+="bottom:"+(b[1]+n.bottom)+"px;"),"e"==c.charAt(1)?d+="right:"+(b[0]+n.right)+"px;":"w"==c.charAt(1)&&(d+="left:"+(b[0]+n.left)+"px;"),a=k('<div class="legend">'+a.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(j),0!=h.legend.backgroundOpacity&&(c=
h.legend.backgroundColor,null==c&&(c=(c=h.grid.backgroundColor)&&"string"==typeof c?k.color.parse(c):k.color.extract(a,"background-color"),c.a=1,c=c.toString()),b=a.children(),k('<div style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+d+"background-color:"+c+';"> </div>').prependTo(a).css("opacity",h.legend.backgroundOpacity))))}}function ga(){z.clear();m(E.drawBackground,[g]);var b=h.grid;b.show&&b.backgroundColor&&(g.save(),g.translate(n.left,n.top),g.fillStyle=ha(h.grid.backgroundColor,
G,0,"rgba(255, 255, 255, 0)"),g.fillRect(0,0,J,G),g.restore());b.show&&!b.aboveData&&ia();for(var d=0;d<x.length;++d){m(E.drawSeries,[g,x[d]]);var a=x[d];a.lines.show&&qa(a);a.bars.show&&ra(a);a.points.show&&sa(a)}m(E.draw,[g]);b.show&&b.aboveData&&ia();z.render();W()}function ja(b,d){for(var a,c,e,g,f=y(),h=0;h<f.length;++h)if(a=f[h],a.direction==d&&(g=d+a.n+"axis",!b[g]&&1==a.n&&(g=d+"axis"),b[g])){c=b[g].from;e=b[g].to;break}b[g]||(a="x"==d?B[0]:F[0],c=b[d+"1"],e=b[d+"2"]);null!=c&&(null!=e&&c>
e)&&(g=c,c=e,e=g);return{from:c,to:e,axis:a}}function ia(){var b,d,a;g.save();g.translate(n.left,n.top);if(a=h.grid.markings){k.isFunction(a)&&(d=u.getAxes(),d.xmin=d.xaxis.min,d.xmax=d.xaxis.max,d.ymin=d.yaxis.min,d.ymax=d.yaxis.max,a=a(d));for(b=0;b<a.length;++b){d=a[b];var c=ja(d,"x"),e=ja(d,"y");null==c.from&&(c.from=c.axis.min);null==c.to&&(c.to=c.axis.max);null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);if(!(c.to<c.axis.min||c.from>c.axis.max||e.to<e.axis.min||e.from>e.axis.max)){c.from=
Math.max(c.from,c.axis.min);c.to=Math.min(c.to,c.axis.max);e.from=Math.max(e.from,e.axis.min);e.to=Math.min(e.to,e.axis.max);var f=c.from===c.to,j=e.from===e.to;if(!f||!j)if(c.from=Math.floor(c.axis.p2c(c.from)),c.to=Math.floor(c.axis.p2c(c.to)),e.from=Math.floor(e.axis.p2c(e.from)),e.to=Math.floor(e.axis.p2c(e.to)),f||j){var j=d.lineWidth||h.grid.markingsLineWidth,l=j%2?0.5:0;g.beginPath();g.strokeStyle=d.color||h.grid.markingsColor;g.lineWidth=j;f?(g.moveTo(c.to+l,e.from),g.lineTo(c.to+l,e.to)):
(g.moveTo(c.from,e.to+l),g.lineTo(c.to,e.to+l));g.stroke()}else g.fillStyle=d.color||h.grid.markingsColor,g.fillRect(c.from,e.to,c.to-c.from,e.from-e.to)}}}d=y();a=h.grid.borderWidth;for(c=0;c<d.length;++c){e=d[c];b=e.box;var f=e.tickLength,p,m;if(e.show&&0!=e.ticks.length){g.lineWidth=1;"x"==e.direction?(j=0,l="full"==f?"top"==e.position?0:G:b.top-n.top+("top"==e.position?b.height:0)):(l=0,j="full"==f?"left"==e.position?0:J:b.left-n.left+("left"==e.position?b.width:0));e.innermost||(g.strokeStyle=
e.options.color,g.beginPath(),p=m=0,"x"==e.direction?p=J+1:m=G+1,1==g.lineWidth&&("x"==e.direction?l=Math.floor(l)+0.5:j=Math.floor(j)+0.5),g.moveTo(j,l),g.lineTo(j+p,l+m),g.stroke());g.strokeStyle=e.options.tickColor;g.beginPath();for(b=0;b<e.ticks.length;++b){var M=e.ticks[b].v;p=m=0;if(!isNaN(M)&&!(M<e.min||M>e.max||"full"==f&&("object"==typeof a&&0<a[e.position]||0<a)&&(M==e.min||M==e.max)))"x"==e.direction?(j=e.p2c(M),m="full"==f?-G:f,"top"==e.position&&(m=-m)):(l=e.p2c(M),p="full"==f?-J:f,"left"==
e.position&&(p=-p)),1==g.lineWidth&&("x"==e.direction?j=Math.floor(j)+0.5:l=Math.floor(l)+0.5),g.moveTo(j,l),g.lineTo(j+p,l+m)}g.stroke()}}a&&(b=h.grid.borderColor,"object"==typeof a||"object"==typeof b?("object"!==typeof a&&(a={top:a,right:a,bottom:a,left:a}),"object"!==typeof b&&(b={top:b,right:b,bottom:b,left:b}),0<a.top&&(g.strokeStyle=b.top,g.lineWidth=a.top,g.beginPath(),g.moveTo(0-a.left,0-a.top/2),g.lineTo(J,0-a.top/2),g.stroke()),0<a.right&&(g.strokeStyle=b.right,g.lineWidth=a.right,g.beginPath(),
g.moveTo(J+a.right/2,0-a.top),g.lineTo(J+a.right/2,G),g.stroke()),0<a.bottom&&(g.strokeStyle=b.bottom,g.lineWidth=a.bottom,g.beginPath(),g.moveTo(J+a.right,G+a.bottom/2),g.lineTo(0,G+a.bottom/2),g.stroke()),0<a.left&&(g.strokeStyle=b.left,g.lineWidth=a.left,g.beginPath(),g.moveTo(0-a.left/2,G+a.bottom),g.lineTo(0-a.left/2,0),g.stroke())):(g.lineWidth=a,g.strokeStyle=h.grid.borderColor,g.strokeRect(-a/2,-a/2,J+a,G+a)));g.restore()}function qa(b){function d(a,b,d,c,e){var f=a.points;a=a.pointsize;var h=
null,j=null;g.beginPath();for(var l=a;l<f.length;l+=a){var p=f[l-a],k=f[l-a+1],n=f[l],m=f[l+1];if(!(null==p||null==n)){if(k<=m&&k<e.min){if(m<e.min)continue;p=(e.min-k)/(m-k)*(n-p)+p;k=e.min}else if(m<=k&&m<e.min){if(k<e.min)continue;n=(e.min-k)/(m-k)*(n-p)+p;m=e.min}if(k>=m&&k>e.max){if(m>e.max)continue;p=(e.max-k)/(m-k)*(n-p)+p;k=e.max}else if(m>=k&&m>e.max){if(k>e.max)continue;n=(e.max-k)/(m-k)*(n-p)+p;m=e.max}if(p<=n&&p<c.min){if(n<c.min)continue;k=(c.min-p)/(n-p)*(m-k)+k;p=c.min}else if(n<=p&&
n<c.min){if(p<c.min)continue;m=(c.min-p)/(n-p)*(m-k)+k;n=c.min}if(p>=n&&p>c.max){if(n>c.max)continue;k=(c.max-p)/(n-p)*(m-k)+k;p=c.max}else if(n>=p&&n>c.max){if(p>c.max)continue;m=(c.max-p)/(n-p)*(m-k)+k;n=c.max}(p!=h||k!=j)&&g.moveTo(c.p2c(p)+b,e.p2c(k)+d);h=n;j=m;g.lineTo(c.p2c(n)+b,e.p2c(m)+d)}}g.stroke()}g.save();g.translate(n.left,n.top);g.lineJoin="round";var a=b.lines.lineWidth,c=b.shadowSize;if(0<a&&0<c){g.lineWidth=c;g.strokeStyle="rgba(0,0,0,0.1)";var e=Math.PI/18;d(b.datapoints,Math.sin(e)*
(a/2+c/2),Math.cos(e)*(a/2+c/2),b.xaxis,b.yaxis);g.lineWidth=c/2;d(b.datapoints,Math.sin(e)*(a/2+c/4),Math.cos(e)*(a/2+c/4),b.xaxis,b.yaxis)}g.lineWidth=a;g.strokeStyle=b.color;if(c=Z(b.lines,b.color,0,G)){g.fillStyle=c;for(var f=b.datapoints,c=b.xaxis,e=b.yaxis,h=f.points,f=f.pointsize,j=Math.min(Math.max(0,e.min),e.max),l=0,p=!1,k=1,m=0,C=0;!(0<f&&l>h.length+f);){var l=l+f,r=h[l-f],q=h[l-f+k],s=h[l],v=h[l+k];if(p){if(0<f&&null!=r&&null==s){C=l;f=-f;k=2;continue}if(0>f&&l==m+f){g.fill();p=!1;f=-f;
k=1;l=m=C+f;continue}}if(!(null==r||null==s)){if(r<=s&&r<c.min){if(s<c.min)continue;q=(c.min-r)/(s-r)*(v-q)+q;r=c.min}else if(s<=r&&s<c.min){if(r<c.min)continue;v=(c.min-r)/(s-r)*(v-q)+q;s=c.min}if(r>=s&&r>c.max){if(s>c.max)continue;q=(c.max-r)/(s-r)*(v-q)+q;r=c.max}else if(s>=r&&s>c.max){if(r>c.max)continue;v=(c.max-r)/(s-r)*(v-q)+q;s=c.max}p||(g.beginPath(),g.moveTo(c.p2c(r),e.p2c(j)),p=!0);if(q>=e.max&&v>=e.max)g.lineTo(c.p2c(r),e.p2c(e.max)),g.lineTo(c.p2c(s),e.p2c(e.max));else if(q<=e.min&&v<=
e.min)g.lineTo(c.p2c(r),e.p2c(e.min)),g.lineTo(c.p2c(s),e.p2c(e.min));else{var x=r,u=s;q<=v&&q<e.min&&v>=e.min?(r=(e.min-q)/(v-q)*(s-r)+r,q=e.min):v<=q&&(v<e.min&&q>=e.min)&&(s=(e.min-q)/(v-q)*(s-r)+r,v=e.min);q>=v&&q>e.max&&v<=e.max?(r=(e.max-q)/(v-q)*(s-r)+r,q=e.max):v>=q&&(v>e.max&&q<=e.max)&&(s=(e.max-q)/(v-q)*(s-r)+r,v=e.max);r!=x&&g.lineTo(c.p2c(x),e.p2c(q));g.lineTo(c.p2c(r),e.p2c(q));g.lineTo(c.p2c(s),e.p2c(v));s!=u&&(g.lineTo(c.p2c(s),e.p2c(v)),g.lineTo(c.p2c(u),e.p2c(v)))}}}}0<a&&d(b.datapoints,
0,0,b.xaxis,b.yaxis);g.restore()}function sa(b){function d(a,b,c,d,e,f,h,j){var l=a.points;a=a.pointsize;for(var p=0;p<l.length;p+=a){var k=l[p],n=l[p+1];null==k||(k<f.min||k>f.max||n<h.min||n>h.max)||(g.beginPath(),k=f.p2c(k),n=h.p2c(n)+d,"circle"==j?g.arc(k,n,b,0,e?Math.PI:2*Math.PI,!1):j(g,k,n,b,e),g.closePath(),c&&(g.fillStyle=c,g.fill()),g.stroke())}}g.save();g.translate(n.left,n.top);var a=b.points.lineWidth,c=b.shadowSize,e=b.points.radius,f=b.points.symbol;0==a&&(a=1E-4);0<a&&0<c&&(c/=2,g.lineWidth=
c,g.strokeStyle="rgba(0,0,0,0.1)",d(b.datapoints,e,null,c+c/2,!0,b.xaxis,b.yaxis,f),g.strokeStyle="rgba(0,0,0,0.2)",d(b.datapoints,e,null,c/2,!0,b.xaxis,b.yaxis,f));g.lineWidth=a;g.strokeStyle=b.color;d(b.datapoints,e,Z(b.points,b.color),0,!1,b.xaxis,b.yaxis,f);g.restore()}function ka(b,d,a,c,e,f,g,h,j,l,k){var p,n,m,q;l?(q=n=m=!0,p=!1,l=a,a=d+c,e=d+e,b<l&&(d=b,b=l,l=d,p=!0,n=!1)):(p=n=m=!0,q=!1,l=b+c,b+=e,e=a,a=d,a<e&&(d=a,a=e,e=d,q=!0,m=!1));if(!(b<g.min||l>g.max||a<h.min||e>h.max))if(l<g.min&&
(l=g.min,p=!1),b>g.max&&(b=g.max,n=!1),e<h.min&&(e=h.min,q=!1),a>h.max&&(a=h.max,m=!1),l=g.p2c(l),e=h.p2c(e),b=g.p2c(b),a=h.p2c(a),f&&(j.fillStyle=f(e,a),j.fillRect(l,a,b-l,e-a)),0<k&&(p||n||m||q))j.beginPath(),j.moveTo(l,e),p?j.lineTo(l,a):j.moveTo(l,a),m?j.lineTo(b,a):j.moveTo(b,a),n?j.lineTo(b,e):j.moveTo(b,e),q?j.lineTo(l,e):j.moveTo(l,e),j.stroke()}function ra(b){g.save();g.translate(n.left,n.top);g.lineWidth=b.bars.lineWidth;g.strokeStyle=b.color;var d;switch(b.bars.align){case "left":d=0;break;
case "right":d=-b.bars.barWidth;break;default:d=-b.bars.barWidth/2}var a=b.datapoints,c=d;d+=b.bars.barWidth;for(var e=b.bars.fill?function(a,c){return Z(b.bars,b.color,a,c)}:null,f=b.xaxis,h=b.yaxis,j=a.points,a=a.pointsize,l=0;l<j.length;l+=a)null!=j[l]&&ka(j[l],j[l+1],j[l+2],c,d,e,f,h,g,b.bars.horizontal,b.bars.lineWidth);g.restore()}function Z(b,d,a,c){var e=b.fill;if(!e)return null;if(b.fillColor)return ha(b.fillColor,a,c,d);b=k.color.parse(d);b.a="number"==typeof e?e:0.4;b.normalize();return b.toString()}
function ca(b){h.grid.hoverable&&$("plothover",b,function(b){return!1!=b.hoverable})}function da(b){h.grid.hoverable&&$("plothover",b,function(){return!1})}function ea(b){$("plotclick",b,function(b){return!1!=b.clickable})}function $(b,d,a){var c=I.offset(),e=d.pageX-c.left-n.left,f=d.pageY-c.top-n.top,g=N({left:e,top:f});g.pageX=d.pageX;g.pageY=d.pageY;d=h.grid.mouseActiveRadius;var l=d*d+1,p=null,k,m,w;for(k=x.length-1;0<=k;--k)if(a(x[k])){var u=x[k],r=u.xaxis,q=u.yaxis,s=u.datapoints.points,v=
r.c2p(e),R=q.c2p(f),t=d/r.scale,K=d/q.scale;w=u.datapoints.pointsize;r.options.inverseTransform&&(t=Number.MAX_VALUE);q.options.inverseTransform&&(K=Number.MAX_VALUE);if(u.lines.show||u.points.show)for(m=0;m<s.length;m+=w){var z=s[m],y=s[m+1];if(null!=z&&!(z-v>t||z-v<-t||y-R>K||y-R<-K))z=Math.abs(r.p2c(z)-e),y=Math.abs(q.p2c(y)-f),y=z*z+y*y,y<l&&(l=y,p=[k,m/w])}if(u.bars.show&&!p){switch(u.bars.align){case "left":r=0;break;case "right":r=-u.bars.barWidth;break;default:r=-u.bars.barWidth/2}u=r+u.bars.barWidth;
for(m=0;m<s.length;m+=w)if(z=s[m],y=s[m+1],q=s[m+2],null!=z&&(x[k].bars.horizontal?v<=Math.max(q,z)&&v>=Math.min(q,z)&&R>=y+r&&R<=y+u:v>=z+r&&v<=z+u&&R>=Math.min(q,y)&&R<=Math.max(q,y)))p=[k,m/w]}}p?(k=p[0],m=p[1],w=x[k].datapoints.pointsize,a={datapoint:x[k].datapoints.points.slice(m*w,(m+1)*w),dataIndex:m,series:x[k],seriesIndex:k}):a=null;a&&(a.pageX=parseInt(a.series.xaxis.p2c(a.datapoint[0])+c.left+n.left,10),a.pageY=parseInt(a.series.yaxis.p2c(a.datapoint[1])+c.top+n.top,10));if(h.grid.autoHighlight){for(c=
0;c<L.length;++c)e=L[c],e.auto==b&&(!a||!(e.series==a.series&&e.point[0]==a.datapoint[0]&&e.point[1]==a.datapoint[1]))&&la(e.series,e.point);a&&ma(a.series,a.datapoint,b)}j.trigger(b,[g,a])}function W(){var b=h.interaction.redrawOverlayInterval;-1==b?na():V||(V=setTimeout(na,b))}function na(){V=null;D.save();P.clear();D.translate(n.left,n.top);var b,d;for(b=0;b<L.length;++b)if(d=L[b],d.series.bars.show)ta(d.series,d.point);else{var a=d.series,c=d.point;d=c[0];var c=c[1],e=a.xaxis,f=a.yaxis,g="string"===
typeof a.highlightColor?a.highlightColor:k.color.parse(a.color).scale("a",0.5).toString();if(!(d<e.min||d>e.max||c<f.min||c>f.max)){var h=a.points.radius+a.points.lineWidth/2;D.lineWidth=h;D.strokeStyle=g;g=1.5*h;d=e.p2c(d);c=f.p2c(c);D.beginPath();"circle"==a.points.symbol?D.arc(d,c,g,0,2*Math.PI,!1):a.points.symbol(D,d,c,g,!1);D.closePath();D.stroke()}}D.restore();m(E.drawOverlay,[D])}function ma(b,d,a){"number"==typeof b&&(b=x[b]);if("number"==typeof d){var c=b.datapoints.pointsize;d=b.datapoints.points.slice(c*
d,c*(d+1))}c=oa(b,d);-1==c?(L.push({series:b,point:d,auto:a}),W()):a||(L[c].auto=!1)}function la(b,d){if(null==b&&null==d)L=[],W();else{"number"==typeof b&&(b=x[b]);if("number"==typeof d){var a=b.datapoints.pointsize;d=b.datapoints.points.slice(a*d,a*(d+1))}a=oa(b,d);-1!=a&&(L.splice(a,1),W())}}function oa(b,d){for(var a=0;a<L.length;++a){var c=L[a];if(c.series==b&&c.point[0]==d[0]&&c.point[1]==d[1])return a}return-1}function ta(b,d){var a="string"===typeof b.highlightColor?b.highlightColor:k.color.parse(b.color).scale("a",
0.5).toString(),c;switch(b.bars.align){case "left":c=0;break;case "right":c=-b.bars.barWidth;break;default:c=-b.bars.barWidth/2}D.lineWidth=b.bars.lineWidth;D.strokeStyle=a;ka(d[0],d[1],d[2]||0,c,c+b.bars.barWidth,function(){return a},b.xaxis,b.yaxis,D,b.bars.horizontal,b.bars.lineWidth)}function ha(b,d,a,c){if("string"==typeof b)return b;d=g.createLinearGradient(0,a,0,d);a=0;for(var e=b.colors.length;a<e;++a){var f=b.colors[a];if("string"!=typeof f){var h=k.color.parse(c);null!=f.brightness&&(h=
h.scale("rgb",f.brightness));null!=f.opacity&&(h.a*=f.opacity);f=h.toString()}d.addColorStop(a/(e-1),f)}return d}var x=[],h={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,
ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},
grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},z=null,P=null,I=null,g=null,D=null,B=[],F=[],n={left:0,right:0,top:0,bottom:0},J=0,G=0,E={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],
drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},u=this;u.setData=K;u.setupGrid=fa;u.draw=ga;u.getPlaceholder=function(){return j};u.getCanvas=function(){return z.element};u.getPlotOffset=function(){return n};u.width=function(){return J};u.height=function(){return G};u.offset=function(){var b=I.offset();b.left+=n.left;b.top+=n.top;return b};u.getData=function(){return x};u.getAxes=function(){var b={};k.each(B.concat(F),function(d,a){a&&(b[a.direction+(1!=a.n?a.n:"")+
"axis"]=a)});return b};u.getXAxes=function(){return B};u.getYAxes=function(){return F};u.c2p=N;u.p2c=function(b){var d={},a,c,e;for(a=0;a<B.length;++a)if((c=B[a])&&c.used)if(e="x"+c.n,null==b[e]&&1==c.n&&(e="x"),null!=b[e]){d.left=c.p2c(b[e]);break}for(a=0;a<F.length;++a)if((c=F[a])&&c.used)if(e="y"+c.n,null==b[e]&&1==c.n&&(e="y"),null!=b[e]){d.top=c.p2c(b[e]);break}return d};u.getOptions=function(){return h};u.highlight=ma;u.unhighlight=la;u.triggerRedrawOverlay=W;u.pointOffset=function(b){return{left:parseInt(B[t(b,
"x")-1].p2c(+b.x)+n.left,10),top:parseInt(F[t(b,"y")-1].p2c(+b.y)+n.top,10)}};u.shutdown=ba;u.destroy=function(){ba();j.removeData("plot").empty();x=[];D=g=I=P=z=h=null;B=[];F=[];E=null;L=[];u=null};u.resize=function(){var b=j.width(),d=j.height();z.resize(b,d);P.resize(b,d)};u.hooks=E;for(var X={Canvas:A},T=0;T<l.length;++T){var aa=l[T];aa.init(u,X);aa.options&&k.extend(!0,h,aa.options)}k.extend(!0,h,f);f&&f.colors&&(h.colors=f.colors);null==h.xaxis.color&&(h.xaxis.color=k.color.parse(h.grid.color).scale("a",
0.22).toString());null==h.yaxis.color&&(h.yaxis.color=k.color.parse(h.grid.color).scale("a",0.22).toString());null==h.xaxis.tickColor&&(h.xaxis.tickColor=h.grid.tickColor||h.xaxis.color);null==h.yaxis.tickColor&&(h.yaxis.tickColor=h.grid.tickColor||h.yaxis.color);null==h.grid.borderColor&&(h.grid.borderColor=h.grid.color);null==h.grid.tickColor&&(h.grid.tickColor=k.color.parse(h.grid.color).scale("a",0.22).toString());f=(f=j.css("font-size"))?+f.replace("px",""):13;T={style:j.css("font-style"),size:Math.round(0.8*
f),variant:j.css("font-variant"),weight:j.css("font-weight"),family:j.css("font-family")};X=h.xaxes.length||1;for(f=0;f<X;++f){if((l=h.xaxes[f])&&!l.tickColor)l.tickColor=l.color;l=k.extend(!0,{},h.xaxis,l);h.xaxes[f]=l;l.font&&(l.font=k.extend({},T,l.font),l.font.color||(l.font.color=l.color),l.font.lineHeight||(l.font.lineHeight=Math.round(1.15*l.font.size)))}X=h.yaxes.length||1;for(f=0;f<X;++f){if((l=h.yaxes[f])&&!l.tickColor)l.tickColor=l.color;l=k.extend(!0,{},h.yaxis,l);h.yaxes[f]=l;l.font&&
(l.font=k.extend({},T,l.font),l.font.color||(l.font.color=l.color),l.font.lineHeight||(l.font.lineHeight=Math.round(1.15*l.font.size)))}h.xaxis.noTicks&&null==h.xaxis.ticks&&(h.xaxis.ticks=h.xaxis.noTicks);h.yaxis.noTicks&&null==h.yaxis.ticks&&(h.yaxis.ticks=h.yaxis.noTicks);h.x2axis&&(h.xaxes[1]=k.extend(!0,{},h.xaxis,h.x2axis),h.xaxes[1].position="top",null==h.x2axis.min&&(h.xaxes[1].min=null),null==h.x2axis.max&&(h.xaxes[1].max=null));h.y2axis&&(h.yaxes[1]=k.extend(!0,{},h.yaxis,h.y2axis),h.yaxes[1].position=
"right",null==h.y2axis.min&&(h.yaxes[1].min=null),null==h.y2axis.max&&(h.yaxes[1].max=null));h.grid.coloredAreas&&(h.grid.markings=h.grid.coloredAreas);h.grid.coloredAreasColor&&(h.grid.markingsColor=h.grid.coloredAreasColor);h.lines&&k.extend(!0,h.series.lines,h.lines);h.points&&k.extend(!0,h.series.points,h.points);h.bars&&k.extend(!0,h.series.bars,h.bars);null!=h.shadowSize&&(h.series.shadowSize=h.shadowSize);null!=h.highlightColor&&(h.series.highlightColor=h.highlightColor);for(f=0;f<h.xaxes.length;++f)H(B,
f+1).options=h.xaxes[f];for(f=0;f<h.yaxes.length;++f)H(F,f+1).options=h.yaxes[f];for(var Q in E)h.hooks[Q]&&h.hooks[Q].length&&(E[Q]=E[Q].concat(h.hooks[Q]));m(E.processOptions,[h]);j.css("padding",0).children().filter(function(){return!k(this).hasClass("flot-overlay")&&!k(this).hasClass("flot-base")}).remove();"static"==j.css("position")&&j.css("position","relative");z=new A("flot-base",j);P=new A("flot-overlay",j);g=z.context;D=P.context;I=k(P.element).unbind();if(Q=j.data("plot"))Q.shutdown(),
P.clear();j.data("plot",u);K(p);fa();ga();h.grid.hoverable&&(I.mousemove(ca),I.bind("mouseleave",da));h.grid.clickable&&I.click(ea);m(E.bindEvents,[I]);var L=[],V=null}var m=Object.prototype.hasOwnProperty;k.fn.detach||(k.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});A.prototype.resize=function(j,k){if(0>=j||0>=k)throw Error("Invalid dimensions for plot, width = "+j+", height = "+k);var f=this.element,l=this.context,m=this.pixelRatio;this.width!=
j&&(f.width=j*m,f.style.width=j+"px",this.width=j);this.height!=k&&(f.height=k*m,f.style.height=k+"px",this.height=k);l.restore();l.save();l.scale(m,m)};A.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};A.prototype.render=function(){var j=this._textCache,k;for(k in j)if(m.call(j,k)){var f=this.getTextLayer(k),l=j[k];f.hide();for(var t in l)if(m.call(l,t)){var K=l[t],O;for(O in K)if(m.call(K,O)){for(var y=K[O].positions,A=0,H;H=y[A];A++)H.active?H.rendered||(f.append(H.element),
H.rendered=!0):(y.splice(A--,1),H.rendered&&H.element.detach());0==y.length&&delete K[O]}}f.show()}};A.prototype.getTextLayer=function(j){var p=this.text[j];null==p&&(null==this.textContainer&&(this.textContainer=k("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),p=this.text[j]=k("<div></div>").addClass(j).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer));
return p};A.prototype.getTextInfo=function(j,p,f,l,m){var t,A;p=""+p;l="object"===typeof f?f.style+" "+f.variant+" "+f.weight+" "+f.size+"px/"+f.lineHeight+"px "+f.family:f;t=this._textCache[j];null==t&&(t=this._textCache[j]={});A=t[l];null==A&&(A=t[l]={});t=A[p];null==t&&(j=k("<div></div>").html(p).css({position:"absolute","max-width":m,top:-9999}).appendTo(this.getTextLayer(j)),"object"===typeof f?j.css({font:l,color:f.color}):"string"===typeof f&&j.addClass(f),t=A[p]={width:j.outerWidth(!0),height:j.outerHeight(!0),
element:j,positions:[]},j.detach());return t};A.prototype.addText=function(j,k,f,l,m,t,A,y,N){j=this.getTextInfo(j,l,m,t,A);l=j.positions;"center"==y?k-=j.width/2:"right"==y&&(k-=j.width);"middle"==N?f-=j.height/2:"bottom"==N&&(f-=j.height);for(N=0;m=l[N];N++)if(m.x==k&&m.y==f){m.active=!0;return}m={active:!0,rendered:!1,element:l.length?j.element.clone():j.element,x:k,y:f};l.push(m);m.element.css({top:Math.round(f),left:Math.round(k),"text-align":y})};A.prototype.removeText=function(j,k,f,l,t,A){if(null==
l){if(k=this._textCache[j],null!=k)for(var O in k)if(m.call(k,O)){f=k[O];for(var y in f)if(m.call(f,y)){j=f[y].positions;for(l=0;t=j[l];l++)t.active=!1}}}else{j=this.getTextInfo(j,l,t,A).positions;for(l=0;t=j[l];l++)t.x==k&&t.y==f&&(t.active=!1)}};k.plot=function(j,m,f){return new t(k(j),m,f,k.plot.plugins)};k.plot.version="0.8.3";k.plot.plugins=[];k.fn.plot=function(j,m){return this.each(function(){k.plot(this,j,m)})}})(jQuery);
(function(v){function C(d,a,e,l){if(a.points.errorbars){d=[{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}];e=a.points.errorbars;if("x"==e||"xy"==e)a.points.xerr.asymmetric&&d.push({x:!0,number:!0,required:!0}),d.push({x:!0,number:!0,required:!0});if("y"==e||"xy"==e)a.points.yerr.asymmetric&&d.push({y:!0,number:!0,required:!0}),d.push({y:!0,number:!0,required:!0});l.format=d}}function A(d,a,e,l,c,r,B,g,j,h,w){l+=h;c+=h;r+=h;"x"==a.err?(c>e+j?u(d,[[c,l],[Math.max(e+j,w[0]),l]]):B=!1,r<e-
j?u(d,[[Math.min(e-j,w[1]),l],[r,l]]):g=!1):(c<l-j?u(d,[[e,c],[e,Math.min(l-j,w[0])]]):B=!1,r>l+j?u(d,[[e,Math.max(l+j,w[1])],[e,r]]):g=!1);j=null!=a.radius?a.radius:j;B&&("-"==a.upperCap?"x"==a.err?u(d,[[c,l-j],[c,l+j]]):u(d,[[e-j,c],[e+j,c]]):v.isFunction(a.upperCap)&&("x"==a.err?a.upperCap(d,c,l,j):a.upperCap(d,e,c,j)));g&&("-"==a.lowerCap?"x"==a.err?u(d,[[r,l-j],[r,l+j]]):u(d,[[e-j,r],[e+j,r]]):v.isFunction(a.lowerCap)&&("x"==a.err?a.lowerCap(d,r,l,j):a.lowerCap(d,e,r,j)))}function u(d,a){d.beginPath();
d.moveTo(a[0][0],a[0][1]);for(var e=1;e<a.length;e++)d.lineTo(a[e][0],a[e][1]);d.stroke()}function D(d,a){var e=d.getPlotOffset();a.save();a.translate(e.left,e.top);v.each(d.getData(),function(d,c){if(c.points.errorbars&&(c.points.xerr.show||c.points.yerr.show)){var e=c.datapoints.points,u=c.datapoints.pointsize,g=[c.xaxis,c.yaxis],j=c.points.radius,h=[c.points.xerr,c.points.yerr],w=!1;if(g[0].p2c(g[0].max)<g[0].p2c(g[0].min)){var w=!0,s=h[0].lowerCap;h[0].lowerCap=h[0].upperCap;h[0].upperCap=s}var v=
!1;g[1].p2c(g[1].min)<g[1].p2c(g[1].max)&&(v=!0,s=h[1].lowerCap,h[1].lowerCap=h[1].upperCap,h[1].upperCap=s);for(var n=0;n<c.datapoints.points.length;n+=u){var x,b=c.datapoints.points,p=null,q=null,k=null,m=null;x=c.points.xerr;var f=c.points.yerr,t=c.points.errorbars;"x"==t||"xy"==t?x.asymmetric?(p=b[n+2],q=b[n+3],"xy"==t&&(f.asymmetric?(k=b[n+4],m=b[n+5]):k=b[n+4])):(p=b[n+2],"xy"==t&&(f.asymmetric?(k=b[n+3],m=b[n+4]):k=b[n+3])):"y"==t&&(f.asymmetric?(k=b[n+2],m=b[n+3]):k=b[n+2]);null==q&&(q=p);
null==m&&(m=k);b=[p,q,k,m];x.show||(b[0]=null,b[1]=null);f.show||(b[2]=null,b[3]=null);x=b;for(f=0;f<h.length;f++)if(b=[g[f].min,g[f].max],x[f*h.length]&&(p=e[n],q=e[n+1],k=[p,q][f]+x[f*h.length+1],m=[p,q][f]-x[f*h.length],!("x"==h[f].err&&(q>g[1].max||q<g[1].min||k<g[0].min||m>g[0].max))))if(!("y"==h[f].err&&(p>g[0].max||p<g[0].min||k<g[1].min||m>g[1].max))){var z=t=!0;k>b[1]&&(t=!1,k=b[1]);m<b[0]&&(z=!1,m=b[0]);if("x"==h[f].err&&w||"y"==h[f].err&&v)s=m,m=k,k=s,s=z,z=t,t=s,s=b[0],b[0]=b[1],b[1]=
s;p=g[0].p2c(p);q=g[1].p2c(q);k=g[f].p2c(k);m=g[f].p2c(m);b[0]=g[f].p2c(b[0]);b[1]=g[f].p2c(b[1]);var s=h[f].lineWidth?h[f].lineWidth:c.points.lineWidth,y=null!=c.points.shadowSize?c.points.shadowSize:c.shadowSize;0<s&&0<y&&(y/=2,a.lineWidth=y,a.strokeStyle="rgba(0,0,0,0.1)",A(a,h[f],p,q,k,m,t,z,j,y+y/2,b),a.strokeStyle="rgba(0,0,0,0.2)",A(a,h[f],p,q,k,m,t,z,j,y/2,b));a.strokeStyle=h[f].color?h[f].color:c.color;a.lineWidth=s;A(a,h[f],p,q,k,m,t,z,j,0,b)}}}});a.restore()}v.plot.plugins.push({init:function(d){d.hooks.processRawData.push(C);
d.hooks.draw.push(D)},options:{series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}},name:"errorbars",version:"1.0"})})(jQuery);
(function(d){function b(a){var j,g=this,e=a.data||{};if(e.elem)g=a.dragTarget=e.elem,a.dragProxy=c.proxy||g,a.cursorOffsetX=e.pageX-e.left,a.cursorOffsetY=e.pageY-e.top,a.offsetX=a.pageX-a.cursorOffsetX,a.offsetY=a.pageY-a.cursorOffsetY;else if(c.dragging||0<e.which&&a.which!=e.which||d(a.target).is(e.not))return;switch(a.type){case "mousedown":return d.extend(e,d(g).offset(),{elem:g,target:a.target,pageX:a.pageX,pageY:a.pageY}),h.add(document,"mousemove mouseup",b,e),m(g,!1),c.dragging=null,!1;case !c.dragging&&
"mousemove":if(Math.pow(a.pageX-e.pageX,2)+Math.pow(a.pageY-e.pageY,2)<e.distance)break;a.target=e.target;j=f(a,"dragstart",g);!1!==j&&(c.dragging=g,c.proxy=a.dragProxy=d(j||g)[0]);case "mousemove":if(c.dragging){if(j=f(a,"drag",g),k.drop&&(k.drop.allowed=!1!==j,k.drop.handler(a)),!1!==j)break;a.type="mouseup"}case "mouseup":h.remove(document,"mousemove mouseup",b),c.dragging&&(k.drop&&k.drop.handler(a),f(a,"dragend",g)),m(g,!0),c.dragging=c.proxy=e.elem=!1}return!0}function f(a,b,c){a.type=b;b=d.event.dispatch.call(c,
a);return!1===b?!1:b||a.result}function l(){return!1===c.dragging}function m(a,b){a&&(a.unselectable=b?"off":"on",a.onselectstart=function(){return b},a.style&&(a.style.MozUserSelect=b?"":"none"))}d.fn.drag=function(a,b,c){return b&&this.bind("dragstart",a),c&&this.bind("dragend",c),a?this.bind("drag",b?b:a):this.trigger("drag")};var h=d.event,k=h.special,c=k.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=d.extend({distance:c.distance,which:c.which,not:c.not},a||{});a.distance=
Math.pow(a.distance,2);h.add(this,"mousedown",b,a);this.attachEvent&&this.attachEvent("ondragstart",l)},teardown:function(){h.remove(this,"mousedown",b);this===c.dragging&&(c.dragging=c.proxy=!1);m(this,!0);this.detachEvent&&this.detachEvent("ondragstart",l)}};k.dragstart=k.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(d){function b(b){var h=b||window.event,f=[].slice.call(arguments,1),c=0,a=0,j=0;b=d.event.fix(h);b.type="mousewheel";h.wheelDelta&&(c=h.wheelDelta/120);h.detail&&(c=-h.detail/3);j=c;void 0!==h.axis&&h.axis===h.HORIZONTAL_AXIS&&(j=0,a=-1*c);void 0!==h.wheelDeltaY&&(j=h.wheelDeltaY/120);void 0!==h.wheelDeltaX&&(a=-1*h.wheelDeltaX/120);f.unshift(b,c,a,j);return(d.event.dispatch||d.event.handle).apply(this,f)}var f=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks)for(var l=f.length;l;)d.event.fixHooks[f[--l]]=
d.event.mouseHooks;d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var d=f.length;d;)this.addEventListener(f[--d],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var d=f.length;d;)this.removeEventListener(f[--d],b,!1);else this.onmousewheel=null}};d.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(d){d.plot.plugins.push({init:function(b){function f(e,a){var c=b.offset();c.left=e.pageX-c.left;c.top=e.pageY-c.top;a?b.zoomOut({center:c}):b.zoom({center:c})}function l(b,a){b.preventDefault();f(b,0>a);return!1}function m(e){if(1!=e.which)return!1;var n=b.getPlaceholder().css("cursor");n&&(c=n);b.getPlaceholder().css("cursor",b.getOptions().pan.cursor);a=e.pageX;j=e.pageY}function h(e){var c=b.getOptions().pan.frameRate;!g&&c&&(g=setTimeout(function(){b.pan({left:a-e.pageX,top:j-e.pageY});
a=e.pageX;j=e.pageY;g=null},1E3*(1/c)))}function k(e){g&&(clearTimeout(g),g=null);b.getPlaceholder().css("cursor",c);b.pan({left:a-e.pageX,top:j-e.pageY})}var c="default",a=0,j=0,g=null;b.zoomOut=function(a){a||(a={});a.amount||(a.amount=b.getOptions().zoom.amount);a.amount=1/a.amount;b.zoom(a)};b.zoom=function(a){a||(a={});var c=a.center,h=a.amount||b.getOptions().zoom.amount,g=b.width(),f=b.height();c||(c={left:g/2,top:f/2});var j=c.left/g,k=c.top/f,p={x:{min:c.left-j*g/h,max:c.left+(1-j)*g/h},
y:{min:c.top-k*f/h,max:c.top+(1-k)*f/h}};d.each(b.getAxes(),function(a,b){var c=b.options,e=p[b.direction].min,d=p[b.direction].max,g=c.zoomRange,f=c.panRange;if(!1!==g){e=b.c2p(e);d=b.c2p(d);if(e>d)var n=e,e=d,d=n;f&&(null!=f[0]&&e<f[0]&&(e=f[0]),null!=f[1]&&d>f[1]&&(d=f[1]));f=d-e;if(!g||!(null!=g[0]&&f<g[0]&&1<h||null!=g[1]&&f>g[1]&&1>h))c.min=e,c.max=d}});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotzoom",[b,a])};b.pan=function(a){var c={x:+a.left,y:+a.top};isNaN(c.x)&&
(c.x=0);isNaN(c.y)&&(c.y=0);d.each(b.getAxes(),function(a,b){var e=b.options,d,f,g=c[b.direction];d=b.c2p(b.p2c(b.min)+g);f=b.c2p(b.p2c(b.max)+g);var h=e.panRange;!1!==h&&(h&&(null!=h[0]&&h[0]>d&&(g=h[0]-d,d+=g,f+=g),null!=h[1]&&h[1]<f&&(g=h[1]-f,d+=g,f+=g)),e.min=d,e.max=f)});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotpan",[b,a])};b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.zoom.interactive&&(b[c.zoom.trigger](f),b.mousewheel(l));c.pan.interactive&&(b.bind("dragstart",
{distance:10},m),b.bind("drag",h),b.bind("dragend",k))});b.hooks.shutdown.push(function(b,a){a.unbind(b.getOptions().zoom.trigger,f);a.unbind("mousewheel",l);a.unbind("dragstart",m);a.unbind("drag",h);a.unbind("dragend",k);g&&clearTimeout(g)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);
(function(b,a,l){function d(n){!0===j&&(j=n||1);for(var c=e.length-1;0<=c;c--){var f=b(e[c]);if(f[0]==a||f.is(":visible")){var l=f.width(),q=f.height(),g=f.data(m);if(g&&(l!==g.w||q!==g.h))f.trigger(p,[g.w=l,g.h=q]),j=n||!0}else g=f.data(m),g.w=0,g.h=0}null!==k&&(j&&(null==n||1E3>n-j)?k=a.requestAnimationFrame(d):(k=setTimeout(d,h[r]),j=!1))}"$:nomunge";var e=[],h=b.resize=b.extend(b.resize,{}),k,j=!1,p="resize",m=p+"-special-event",r="pendingDelay";h[r]=200;h.activeDelay=20;h.throttleWindow=!0;b.event.special[p]=
{setup:function(){if(!h.throttleWindow&&this.setTimeout)return!1;var a=b(this);e.push(this);a.data(m,{w:a.width(),h:a.height()});1===e.length&&(k=l,d())},teardown:function(){if(!h.throttleWindow&&this.setTimeout)return!1;for(var a=b(this),c=e.length-1;0<=c;c--)if(e[c]==this){e.splice(c,1);break}a.removeData(m);e.length||(j?cancelAnimationFrame(k):clearTimeout(k),k=null)},add:function(a){function c(a,c,g){var d=b(this),e=d.data(m)||{};e.w=c!==l?c:d.width();e.h=g!==l?g:d.height();f.apply(this,arguments)}
if(!h.throttleWindow&&this.setTimeout)return!1;var f;if(b.isFunction(a))return f=a,c;f=a.handler;a.handler=c}};a.requestAnimationFrame||(a.requestAnimationFrame=a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(d){return a.setTimeout(function(){d((new Date).getTime())},h.activeDelay)});a.cancelAnimationFrame||(a.cancelAnimationFrame=a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||
a.msCancelRequestAnimationFrame||clearTimeout)})(jQuery,this);(function(b){b.plot.plugins.push({init:function(a){function b(){var d=a.getPlaceholder();0==d.width()||0==d.height()||(a.resize(),a.setupGrid(),a.draw())}a.hooks.bindEvents.push(function(a){a.getPlaceholder().resize(b)});a.hooks.shutdown.push(function(a){a.getPlaceholder().unbind("resize",b)})},options:{},name:"resize",version:"1.0"})})(jQuery);
(function(l){l.plot.plugins.push({init:function(c){function q(b){a.active&&(r(b),c.getPlaceholder().trigger("plotselecting",[p()]))}function s(b){1==b.which&&(document.body.focus(),void 0!==document.onselectstart&&null==h.onselectstart&&(h.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==h.ondrag&&(h.ondrag=document.ondrag,document.ondrag=function(){return!1}),t(a.first,b),a.active=!0,m=function(b){m=null;void 0!==document.onselectstart&&
(document.onselectstart=h.onselectstart);void 0!==document.ondrag&&(document.ondrag=h.ondrag);a.active=!1;r(b);n()?u():(c.getPlaceholder().trigger("plotunselected",[]),c.getPlaceholder().trigger("plotselecting",[null]))},l(document).one("mouseup",m))}function p(){if(!n()||!a.show)return null;var b={},k=a.first,d=a.second;l.each(c.getAxes(),function(a,c){if(c.used){var f=c.c2p(k[c.direction]),j=c.c2p(d[c.direction]);b[a]={from:Math.min(f,j),to:Math.max(f,j)}}});return b}function u(){var b=p();c.getPlaceholder().trigger("plotselected",
[b]);b.xaxis&&b.yaxis&&c.getPlaceholder().trigger("selected",[{x1:b.xaxis.from,y1:b.yaxis.from,x2:b.xaxis.to,y2:b.yaxis.to}])}function t(b,k){var d=c.getOptions(),e=c.getPlaceholder().offset(),g=c.getPlotOffset(),f=k.pageX-e.left-g.left,j=c.width();b.x=0>f?0:f>j?j:f;e=k.pageY-e.top-g.top;g=c.height();b.y=0>e?0:e>g?g:e;"y"==d.selection.mode&&(b.x=b==a.first?0:c.width());"x"==d.selection.mode&&(b.y=b==a.first?0:c.height())}function r(b){null!=b.pageX&&(t(a.second,b),n()?(a.show=!0,c.triggerRedrawOverlay()):
v(!0))}function v(b){a.show&&(a.show=!1,c.triggerRedrawOverlay(),b||c.getPlaceholder().trigger("plotunselected",[]))}function w(b,a){var d,e,g,f,j=c.getAxes(),h;for(h in j)if(d=j[h],d.direction==a&&(f=a+d.n+"axis",!b[f]&&1==d.n&&(f=a+"axis"),b[f])){e=b[f].from;g=b[f].to;break}b[f]||(d="x"==a?c.getXAxes()[0]:c.getYAxes()[0],e=b[a+"1"],g=b[a+"2"]);null!=e&&(null!=g&&e>g)&&(f=e,e=g,g=f);return{from:e,to:g,axis:d}}function n(){var b=c.getOptions().selection.minSize;return Math.abs(a.second.x-a.first.x)>=
b&&Math.abs(a.second.y-a.first.y)>=b}var a={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},h={},m=null;c.clearSelection=v;c.setSelection=function(b,k){var d,e=c.getOptions();"y"==e.selection.mode?(a.first.x=0,a.second.x=c.width()):(d=w(b,"x"),a.first.x=d.axis.p2c(d.from),a.second.x=d.axis.p2c(d.to));"x"==e.selection.mode?(a.first.y=0,a.second.y=c.height()):(d=w(b,"y"),a.first.y=d.axis.p2c(d.from),a.second.y=d.axis.p2c(d.to));a.show=!0;c.triggerRedrawOverlay();!k&&n()&&u()};c.getSelection=
p;c.hooks.bindEvents.push(function(b,a){null!=b.getOptions().selection.mode&&(a.mousemove(q),a.mousedown(s))});c.hooks.drawOverlay.push(function(b,c){if(a.show&&n()){var d=b.getPlotOffset(),e=b.getOptions();c.save();c.translate(d.left,d.top);d=l.color.parse(e.selection.color);c.strokeStyle=d.scale("a",0.8).toString();c.lineWidth=1;c.lineJoin=e.selection.shape;c.fillStyle=d.scale("a",0.4).toString();var e=Math.min(a.first.x,a.second.x)+0.5,d=Math.min(a.first.y,a.second.y)+0.5,g=Math.abs(a.second.x-
a.first.x)-1,f=Math.abs(a.second.y-a.first.y)-1;c.fillRect(e,d,g,f);c.strokeRect(e,d,g,f);c.restore()}});c.hooks.shutdown.push(function(b,a){a.unbind("mousemove",q);a.unbind("mousedown",s);m&&l(document).unbind("mouseup",m)})},options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);
(function(e){function k(a){if(f){a.stack=[];var b=a.getPlaceholder();e(b).append("<div style='position:relative'><div style='z-index:100;position:absolute;right:12;top:12;z-index:2'>\t\t             <img class='zoomout' width='16' height='16' title='' alt='' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABYlBMVEU9m+Y6l+I8meQ+nehAn+o/nuk8muU3luEujdgsi9Yujdcwj9ogf8ojgs0ce8YYd8IaecQZa7YbbrkabbgWZ7IVZrEIVaAMWqUQYKsCFSgAAAA/nehAn+pAn+o9m+ZVru09m+Y8meQ+neg8meRUruxQquo6l+I/nulVr+44l+JMqOg3luEsi9ZqyfYujdcgf8o2mNpgxPQjgs0ce8YaecQbesUZa7YabbgabLcWZ7IcfcQpq+sVZrEQX6oepuoQYKsMWqUPcrwMWqUIVJ8UcbgKbbcJVqEIVaANb7gFUJsPbLQEPXUDKU8JarQBFCYCTJcCN2wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACZ5f+V5P+U5P+I3/9Qm9GY5f+W5P9Pm9F93P+T4/+R4/+N4f+L4f9k1P9f0v9Tzv9OzP8zisgivf8Xuv8xishAx/8zw/8jvv8Wuv8twf8Uuf////9LFEt0AAAAWnRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzzHDM2XAzM3DZ2YXM2XDZzIXzzDPZ88wzzJkzzJkz2fPMhfPMcNnMcNnZhczZzNlwM9lAzIMyLioiGx0mKy/TF9BpAAAAAWJLR0R1qGqY+wAAAPtJREFUGNMVxedfQVEYAOD3cm8iDm84114l2SuyZ5LcjHaKop3R/P9/nft8ecDucAKnUPK8UsGB02EH18jt4bw+nvd5OY975IKt7Vv/jj8gCAHW3a4T1oKh8eQ+rFKFHybjUFCAdXVkOovGNJpYdDaNqDdAG088Jp9SOl3qOfmSiGuBpPeYDCEZ+TQBQvSMgRCDPCGAuMkYEY3yiIDZfSaHmJPPIpjyhdfiW8lsLr0XPwp5E1CxPF9UqhZLtbKYl0UKtFZfrj4botj4Wi3rNQrNg+/WYatNaZv1c9SEzu9x1ypJNpskWbsnfx3o9QfD07Pzi8ur65vhoN/7B9wsL7lanTVQAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEzLTA0LTAzVDE3OjE4OjAxKzA4OjAw0kcQ3gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMS0wNS0xOFQyMzoyNzowMCswODowMPWTeDEAAABNdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDYuOC44LTcgUTE2IHg4Nl82NCAyMDE0LTAyLTI4IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3JnWaRffwAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABd0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMTYdr15vAAAAFnRFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADE25QCe4gAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxMzA1NzMyNDIw3zNdNgAAABF0RVh0VGh1bWI6OlNpemUANzcxQkKQmHCaAAAAYHRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vaG9tZS9mdHAvMTUyMC9lYXN5aWNvbi5jbi9lYXN5aWNvbi5jbi9jZG4taW1nLmVhc3lpY29uLmNuL3BuZy81MTIyLzUxMjIzMy5wbmelXfH0AAAAAElFTkSuQmCC' /></div></div>");
e(b).bind("plotselected",function(b,c){var j=g.zoomFunc,d=a.getAxes(),f=a.getPlaceholder(),h={};h.xmin=d.xaxis.min;h.xmax=d.xaxis.max;h.ymin=d.yaxis.min;h.ymax=d.yaxis.max;a.stack.push(h);d.xaxis.options.min=c.xaxis.from;d.xaxis.options.max=c.xaxis.to;d.yaxis.options.min=c.yaxis.from;d.yaxis.options.max=c.yaxis.to;a.clearSelection(!0);a.setupGrid();a.draw();e(f).find(".zoomout").css("visibility","visible");void 0!==j&&j(a,h)});e(b).find(".zoomout").click(function(){var b=g.zoomFunc,c=a.stack.pop(),
f=a.getPlaceholder();0===a.stack.length&&e(f).find(".zoomout").css("visibility","hidden");a.getAxes().xaxis.options.min=c.xmin;a.getAxes().xaxis.options.max=c.xmax;a.getAxes().yaxis.options.min=c.ymin;a.getAxes().yaxis.options.max=c.ymax;a.clearSelection(!0);a.setupGrid();a.draw();void 0!==b&&b(a,c)});e(b).find(".zoomout").css("visibility","hidden");f=0}}function l(a,b){b&&b.zoomStack&&("object"===typeof b.zoomStack?(g.zoomStack=b.zoomStack.enabled,g.zoomFunc=b.zoomStack.func):g.zoomStack=b.zoomStack);
g.zoomStack&&(f=1,a.hooks.drawOverlay.push(k))}var f=0,g={zoomStack:0,zoomFunc:void 0};e.plot.plugins.push({init:function(a){a.hooks.processOptions.push(l)},options:g,name:"zoomStack",version:0.1})})($);
function sprintf(){var k=arguments,q=0,r=function(b,a,f,c){f||(f=" ");a=b.length>=a?"":Array(1+a-b.length>>>0).join(f);return c?b+a:a+b},n=function(b,a,f,c,g,d){var e=c-b.length;0<e&&(b=f||!g?r(b,c,d,f):b.slice(0,a.length)+r("",e,"0",!0)+b.slice(a.length));return b},p=function(b,a,f,c,g,d,e){b>>>=0;f=f&&b&&{2:"0b",8:"0",16:"0x"}[a]||"";b=f+r(b.toString(a),d||0,"0",!1);return n(b,f,c,g,e)};return k[q++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,function(b,
a,f,c,g,d,e){var j,l;if("%%"==b)return"%";var h=!1;l="";var m=g=!1;j=" ";for(var t=f.length,s=0;f&&s<t;s++)switch(f.charAt(s)){case " ":l=" ";break;case "+":l="+";break;case "-":h=!0;break;case "'":j=f.charAt(s+1);break;case "0":g=!0;break;case "#":m=!0}c=c?"*"==c?+k[q++]:"*"==c.charAt(0)?+k[c.slice(1,-1)]:+c:0;0>c&&(c=-c,h=!0);if(!isFinite(c))throw Error("sprintf: (minimum-)width must be finite");d=d?"*"==d?+k[q++]:"*"==d.charAt(0)?+k[d.slice(1,-1)]:+d:-1<"fFeE".indexOf(e)?6:"d"==e?0:void 0;a=a?
k[a.slice(0,-1)]:k[q++];switch(e){case "s":return e=String(a),null!=d&&(e=e.slice(0,d)),n(e,"",h,c,g,j);case "c":return e=String.fromCharCode(+a),null!=d&&(e=e.slice(0,d)),n(e,"",h,c,g,void 0);case "b":return p(a,2,m,h,c,d,g);case "o":return p(a,8,m,h,c,d,g);case "x":return p(a,16,m,h,c,d,g);case "X":return p(a,16,m,h,c,d,g).toUpperCase();case "u":return p(a,10,m,h,c,d,g);case "i":case "d":return j=+a|0,b=0>j?"-":l,a=b+r(String(Math.abs(j)),d,"0",!1),n(a,b,h,c,g);case "e":case "E":case "f":case "F":case "g":case "G":return j=
+a,b=0>j?"-":l,l=["toExponential","toFixed","toPrecision"]["efg".indexOf(e.toLowerCase())],e=["toString","toUpperCase"]["eEfFgG".indexOf(e)%2],a=b+Math.abs(j)[l](d),n(a,b,h,c,g)[e]();default:return b}})};var dhtmlwindow={imagefiles:["windowfiles/min.gif","windowfiles/close.gif","windowfiles/restore.gif","windowfiles/resize.gif"],ajaxbustcache:!0,ajaxloadinghtml:"<b>Loading Page. Please wait...</b>",minimizeorder:0,zIndexvalue:100,tobjects:[],lastactivet:{},init:function(a){var b=document.createElement("div");b.id=a;b.className="dhtmlwindow";var c="",c='<div class="drag-handle">',c=navigator.platform.match(/^Win/)?c+('DHTML Window <div class="drag-controls"><img src="'+this.imagefiles[0]+'" title="Minimize" /><img src="'+
this.imagefiles[1]+'" title="Close" /></div>'):c+'DHTML Window <div class="drag-controls"><div class="osxButtons"><div class="osxClose"><a class="osxA osxClosebutton" href="#"><span class="osxSpan"><strong title="Close">x</strong></span></a></div><div class="osxMinimize"><a class="osxA osxMinimizebutton" href="#"><span class="osxSpan"><strong title="Minimize">&ndash;</strong></span></a></div></div></div>',c=c+'</div><div class="drag-contentarea"></div>',c=c+('<div class="drag-statusarea"><div class="drag-resizearea" style="background: transparent url('+
this.imagefiles[3]+') top right no-repeat;">&nbsp;</div></div>'),c=c+"</div>";b.innerHTML=c;document.getElementById("dhtmlwindowholder").appendChild(b);a=document.getElementById(a);b=a.getElementsByTagName("div");for(c=0;c<b.length;c++)/drag-/.test(b[c].className)&&(a[b[c].className.replace(/drag-/,"")]=b[c]);a.handle._parent=a;a.resizearea._parent=a;a.controls._parent=a;a.onclose=function(){return!0};a.onmousedown=function(){dhtmlwindow.setfocus(this)};a.ontouchstart=function(){dhtmlwindow.setfocus(this)};
a.handle.onmousedown=dhtmlwindow.setupdrag;a.handle.ontouchstart=dhtmlwindow.setupdrag;a.resizearea.onmousedown=dhtmlwindow.setupdrag;a.resizearea.ontouchstart=dhtmlwindow.setupdrag;a.controls.onclick=dhtmlwindow.enablecontrols;a.show=function(){dhtmlwindow.show(this)};a.hide=function(){dhtmlwindow.hide(this)};a.close=function(){dhtmlwindow.close(this)};a.setSize=function(a,b){dhtmlwindow.setSize(this,a,b)};a.moveTo=function(a,b){dhtmlwindow.moveTo(this,a,b)};a.isResize=function(a){dhtmlwindow.isResize(this,
a)};a.isScrolling=function(a){dhtmlwindow.isScrolling(this,a)};a.load=function(a,b,c){dhtmlwindow.load(this,a,b,c)};return this.tobjects[this.tobjects.length]=a},open:function(a,b,c,e,j,f){function d(a){return RegExp(a+"=([^,]+)","i").test(j)?parseInt(RegExp.$1):0}a=null==document.getElementById(a)?this.init(a):document.getElementById(a);this.setfocus(a);a.setSize(d("width"),d("height"));var g=d("center")?"middle":d("left"),h=d("center")?"middle":d("top");"undefined"!=typeof f&&("recal"==f&&0==this.scroll_top)&&
(window.attachEvent&&!window.opera?this.addEvent(window,function(){setTimeout(function(){a.moveTo(g,h)},400)},"load"):this.addEvent(window,function(){a.moveTo(g,h)},"load"));a.isResize(d("resize"));a.isScrolling(d("scrolling"));a.style.visibility="visible";a.style.display="block";a.contentarea.style.display="block";a.moveTo(g,h);a.load(b,c,e);"minimized"==a.state&&"Restore"==a.controls.firstChild.title&&(a.controls.firstChild.setAttribute("src",dhtmlwindow.imagefiles[0]),a.controls.firstChild.setAttribute("title",
"Minimize"),a.state="fullview");return a},setSize:function(a,b,c){a.style.width=Math.max(parseInt(b),150)+"px";a.contentarea.style.height=Math.max(parseInt(c),20)+"px"},moveTo:function(a,b,c){this.getviewpoint();a.style.left="middle"==b?this.scroll_left+(this.docwidth-a.offsetWidth)/2+"px":this.scroll_left+parseInt(b)+"px";a.style.top="middle"==c?this.scroll_top+(this.docheight-a.offsetHeight)/2+"px":this.scroll_top+parseInt(c)+"px"},isResize:function(a,b){a.statusarea.style.display=b?"block":"none";
a.resizeBool=b?1:0},isScrolling:function(a,b){a.contentarea.style.overflow=b?"auto":"hidden"},load:function(a,b,c,e){if(a.isClosed)alert("DHTML Window has been closed, so no window to load contents into. Open/Create the window again.");else{b=b.toLowerCase();"undefined"!=typeof e&&(a.handle.firstChild.nodeValue=e);if("inline"==b)a.contentarea.innerHTML=c;else if("div"==b)c=document.getElementById(c),a.contentarea.innerHTML=c.defaultHTML||c.innerHTML,c.defaultHTML||(c.defaultHTML=c.innerHTML),c.innerHTML=
"",c.style.display="none";else if("iframe"==b){a.contentarea.style.overflow="hidden";if(!a.contentarea.firstChild||"IFRAME"!=a.contentarea.firstChild.tagName)a.contentarea.innerHTML='<iframe src="" style="margin:0; padding:0; width:100%; height: 100%" name="_iframe-'+a.id+'"></iframe>';window.frames["_iframe-"+a.id].location.replace(c)}else"ajax"==b&&this.ajax_connect(c,a);a.contentarea.datatype=b}},setupdrag:function(a){var b=dhtmlwindow,c=this._parent;b.etarget=this;a=window.event||a;a.touches&&
a.touches.length?(b.initmousex=a.touches[0].clientX,b.initmousey=a.touches[0].clientY):(b.initmousex=a.clientX,b.initmousey=a.clientY);b.initx=parseInt(c.offsetLeft);b.inity=parseInt(c.offsetTop);b.width=parseInt(c.offsetWidth);b.contentheight=parseInt(c.contentarea.offsetHeight);"iframe"==c.contentarea.datatype&&(c.style.backgroundColor="#F8F8F8",c.contentarea.style.visibility="hidden");document.onmousemove=b.getdistance;document.ontouchmove=b.getdistance;document.onmouseup=function(){"iframe"==
c.contentarea.datatype&&(c.contentarea.style.backgroundColor="white",c.contentarea.style.visibility="visible");b.stop()};document.ontouchend=function(){"iframe"==c.contentarea.datatype&&(c.contentarea.style.backgroundColor="white",c.contentarea.style.visibility="visible");b.stop()};return!1},getdistance:function(a){var b=dhtmlwindow,c=b.etarget;a=window.event||a;a.touches&&a.touches.length?(b.distancex=a.touches[0].clientX-b.initmousex,b.distancey=a.touches[0].clientY-b.initmousey):(b.distancex=a.clientX-
b.initmousex,b.distancey=a.clientY-b.initmousey);"drag-handle"==c.className?b.move(c._parent,a):"drag-resizearea"==c.className&&b.resize(c._parent,a);return!1},getviewpoint:function(){var a=document.all&&!window.opera,b=document.documentElement&&parseInt(document.documentElement.clientWidth)||1E5;this.standardbody="CSS1Compat"==document.compatMode?document.documentElement:document.body;this.scroll_top=a?this.standardbody.scrollTop:window.pageYOffset;this.scroll_left=a?this.standardbody.scrollLeft:
window.pageXOffset;this.docwidth=a?this.standardbody.clientWidth:/Safari/i.test(navigator.userAgent)?window.innerWidth:Math.min(b,window.innerWidth-16);this.docheight=a?this.standardbody.clientHeight:window.innerHeight},rememberattrs:function(a){this.getviewpoint();a.lastx=parseInt(a.style.left||a.offsetLeft)-dhtmlwindow.scroll_left;a.lasty=parseInt(a.style.top||a.offsetTop)-dhtmlwindow.scroll_top;a.lastwidth=parseInt(a.style.width)},move:function(a){a.style.left=Math.max(0,dhtmlwindow.distancex+
dhtmlwindow.initx)+"px";a.style.top=Math.max(0,dhtmlwindow.distancey+dhtmlwindow.inity)+"px"},resize:function(a){a.style.width=Math.max(dhtmlwindow.width+dhtmlwindow.distancex,150)+"px";a.contentarea.style.height=Math.max(dhtmlwindow.contentheight+dhtmlwindow.distancey,20)+"px"},enablecontrols:function(a){var b=dhtmlwindow;a=window.event?window.event.srcElement:a.target;/Minimize/i.test(a.getAttribute("title"))?b.minimize(a,this._parent):/Restore/i.test(a.getAttribute("title"))?b.restore(a,this._parent):
/Close/i.test(a.getAttribute("title"))&&b.close(this._parent);return!1},minimize:function(a,b){dhtmlwindow.rememberattrs(b);a.setAttribute("src",dhtmlwindow.imagefiles[2]);a.setAttribute("title","Restore");b.state="minimized";b.contentarea.style.display="none";b.statusarea.style.display="none";"undefined"==typeof b.minimizeorder&&(dhtmlwindow.minimizeorder++,b.minimizeorder=dhtmlwindow.minimizeorder);b.style.left="10px";b.style.width="200px";b.style.top=dhtmlwindow.scroll_top+dhtmlwindow.docheight-
b.handle.offsetHeight*b.minimizeorder-10*b.minimizeorder+"px"},restore:function(a,b){dhtmlwindow.getviewpoint();a.setAttribute("src",dhtmlwindow.imagefiles[0]);a.setAttribute("title","Minimize");b.state="fullview";b.style.display="block";b.contentarea.style.display="block";b.resizeBool&&(b.statusarea.style.display="block");b.style.left=parseInt(b.lastx)+dhtmlwindow.scroll_left+"px";b.style.top=parseInt(b.lasty)+dhtmlwindow.scroll_top+"px";b.style.width=parseInt(b.lastwidth)+"px"},close:function(a){try{var b=
a.onclose()}catch(c){b=!0}finally{"undefined"==typeof b&&(alert('An error has occured somwhere inside your "onclose" event handler'),b=!0)}b&&("minimized"!=a.state&&dhtmlwindow.rememberattrs(a),window.frames["_iframe-"+a.id]?window.frames["_iframe-"+a.id].location.replace("about:blank"):a.contentarea.innerHTML="",a.style.display="none",a.isClosed=!0);return b},setopacity:function(a,b){a&&(a.filters&&a.filters[0]?"number"==typeof a.filters[0].opacity?a.filters[0].opacity=100*b:a.style.filter="alpha(opacity="+
100*b+")":"undefined"!=typeof a.style.MozOpacity?a.style.MozOpacity=b:"undefined"!=typeof a.style.opacity&&(a.style.opacity=b))},setfocus:function(a){this.zIndexvalue++;a.style.zIndex=this.zIndexvalue;a.isClosed=!1;this.setopacity(this.lastactivet.handle,0.5);this.setopacity(a.handle,1);this.lastactivet=a},show:function(a){a.isClosed?alert("DHTML Window has been closed, so nothing to show. Open/Create the window again."):(a.lastx?dhtmlwindow.restore(a.controls.firstChild,a):a.style.display="block",
this.setfocus(a),a.state="fullview")},hide:function(a){a.style.display="none"},ajax_connect:function(a,b){var c=!1,e="";if(window.XMLHttpRequest)c=new XMLHttpRequest;else if(window.ActiveXObject)try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(j){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}else return!1;b.contentarea.innerHTML=this.ajaxloadinghtml;c.onreadystatechange=function(){dhtmlwindow.ajax_loadpage(c,b)};this.ajaxbustcache&&(e=-1!=a.indexOf("?")?"&"+(new Date).getTime():"?"+(new Date).getTime());
c.open("GET",a+e,!0);c.send(null)},ajax_loadpage:function(a,b){if(4==a.readyState&&(200==a.status||-1==window.location.href.indexOf("http")))b.contentarea.innerHTML=a.responseText},stop:function(){dhtmlwindow.etarget=null;dhtmlwindow.distancex=0;dhtmlwindow.distancey=0;document.onmousemove=null;document.ontouchmove=null;document.onmouseup=null;document.ontouchend=null},addEvent:function(a,b,c){c=window.addEventListener?c:"on"+c;a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent&&a.attachEvent(c,
b)},cleanup:function(){for(var a=0;a<dhtmlwindow.tobjects.length;a++)dhtmlwindow.tobjects[a].handle._parent=dhtmlwindow.tobjects[a].resizearea._parent=dhtmlwindow.tobjects[a].controls._parent=null;window.onload=null}};window.onunload=dhtmlwindow.cleanup;
  /***********************************************
  * DHTML Window Widget-  Dynamic Drive (www.dynamicdrive.com)
  * This notice must stay intact for legal use.
  * Visit http://www.dynamicdrive.com/ for full source code
  ***********************************************/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[b]=d.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,b,d,c){if(b){d=$jscomp.global;e=e.split(".");for(c=0;c<e.length-1;c++){var a=e[c];a in d||(d[a]={});d=d[a]}e=e[e.length-1];c=d[e];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.fill",function(e){return e?e:function(b,d,c){var a=this.length||0;0>d&&(d=Math.max(0,a+d));if(null==c||c>a)c=a;c=Number(c);0>c&&(c=Math.max(0,a+c));for(d=Number(d||0);d<c;d++)this[d]=b;return this}},"es6-impl","es3");
$jscomp.checkStringArgs=function(e,b,d){if(null==e)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return e+""};
$jscomp.polyfill("String.prototype.repeat",function(e){return e?e:function(b){var d=$jscomp.checkStringArgs(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;)if(b&1&&(c+=d),b>>>=1)d+=d;return c}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;
$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(e){var b=0;return $jscomp.iteratorPrototype(function(){return b<e.length?{done:!1,value:e[b++]}:{done:!0}})};$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(e,b){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var d=0,c={next:function(){if(d<e.length){var a=d++;return{value:b(a,e[a]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");var fabric=fabric||{version:"1.7.22"};
"undefined"!==typeof exports&&(exports.fabric=fabric);"undefined"!==typeof document&&"undefined"!==typeof window?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=require("jsdom").jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E")),fabric.window=fabric.document.createWindow?fabric.document.createWindow():fabric.document.parentWindow);fabric.isTouchSupported="ontouchstart"in fabric.window;
fabric.isLikelyNode="undefined"!==typeof Buffer&&"undefined"===typeof window;fabric.SHARED_ATTRIBUTES="display transform fill fill-opacity fill-rule opacity stroke stroke-dasharray stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width id".split(" ");fabric.DPI=96;fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)";fabric.fontPaths={};fabric.iMatrix=[1,0,0,1,0,0];fabric.canvasModule="canvas";fabric.perfLimitSizeTotal=2097152;fabric.maxCacheSideLimit=4096;
fabric.minCacheSideLimit=256;fabric.charWidthsCache={};fabric.devicePixelRatio=fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1;
(function(){function e(a,c){if(this.__eventListeners[a]){var h=this.__eventListeners[a];c?h[h.indexOf(c)]=!1:fabric.util.array.fill(h,!1)}}function b(a,c){this.__eventListeners||(this.__eventListeners={});if(1===arguments.length)for(var h in a)this.on(h,a[h]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(c);return this}function d(a,c){if(this.__eventListeners){if(0===arguments.length)for(a in this.__eventListeners)e.call(this,a);else if(1===arguments.length&&
"object"===typeof arguments[0])for(var h in a)e.call(this,h,a[h]);else e.call(this,a,c);return this}}function c(a,c){if(this.__eventListeners){var h=this.__eventListeners[a];if(h){for(var f=0,b=h.length;f<b;f++)h[f]&&h[f].call(this,c||{});this.__eventListeners[a]=h.filter(function(a){return!1!==a});return this}}}fabric.Observable={observe:b,stopObserving:d,fire:c,on:b,off:d,trigger:c}})();
fabric.Collection={_objects:[],add:function(){this._objects.push.apply(this._objects,arguments);if(this._onObjectAdded)for(var e=0,b=arguments.length;e<b;e++)this._onObjectAdded(arguments[e]);this.renderOnAddRemove&&this.renderAll();return this},insertAt:function(e,b,d){var c=this.getObjects();d?c[b]=e:c.splice(b,0,e);this._onObjectAdded&&this._onObjectAdded(e);this.renderOnAddRemove&&this.renderAll();return this},remove:function(){for(var e=this.getObjects(),b,d=!1,c=0,a=arguments.length;c<a;c++)b=
e.indexOf(arguments[c]),-1!==b&&(d=!0,e.splice(b,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[c]));this.renderOnAddRemove&&d&&this.renderAll();return this},forEachObject:function(e,b){for(var d=this.getObjects(),c=0,a=d.length;c<a;c++)e.call(b,d[c],c,d);return this},getObjects:function(e){return"undefined"===typeof e?this._objects:this._objects.filter(function(b){return b.type===e})},item:function(e){return this.getObjects()[e]},isEmpty:function(){return 0===this.getObjects().length},
size:function(){return this.getObjects().length},contains:function(e){return-1<this.getObjects().indexOf(e)},complexity:function(){return this.getObjects().reduce(function(e,b){return e+=b.complexity?b.complexity():0},0)}};
fabric.CommonMethods={_setOptions:function(e){for(var b in e)this.set(b,e[b])},_initGradient:function(e,b){!e||!e.colorStops||e instanceof fabric.Gradient||this.set(b,new fabric.Gradient(e))},_initPattern:function(e,b,d){!e||!e.source||e instanceof fabric.Pattern?d&&d():this.set(b,new fabric.Pattern(e,d))},_initClipping:function(e){e.clipTo&&"string"===typeof e.clipTo&&(e=fabric.util.getFunctionBody(e.clipTo),"undefined"!==typeof e&&(this.clipTo=new Function("ctx",e)))},_setObject:function(e){for(var b in e)this._set(b,
e[b])},set:function(e,b){"object"===typeof e?this._setObject(e):"function"===typeof b&&"clipTo"!==e?this._set(e,b(this.get(e))):this._set(e,b);return this},_set:function(e,b){this[e]=b},toggle:function(e){var b=this.get(e);"boolean"===typeof b&&this.set(e,!b);return this},get:function(e){return this[e]}};
(function(e){var b=Math.sqrt,d=Math.atan2,c=Math.pow,a=Math.abs,g=Math.PI/180;fabric.util={removeFromArray:function(a,f){var c=a.indexOf(f);-1!==c&&a.splice(c,1);return a},getRandomInt:function(a,f){return Math.floor(Math.random()*(f-a+1))+a},degreesToRadians:function(a){return a*g},radiansToDegrees:function(a){return a/g},rotatePoint:function(a,f,c){a.subtractEquals(f);a=fabric.util.rotateVector(a,c);return(new fabric.Point(a.x,a.y)).addEquals(f)},rotateVector:function(a,f){var c=Math.sin(f),h=Math.cos(f);
return{x:a.x*h-a.y*c,y:a.x*c+a.y*h}},transformPoint:function(a,f,c){return c?new fabric.Point(f[0]*a.x+f[2]*a.y,f[1]*a.x+f[3]*a.y):new fabric.Point(f[0]*a.x+f[2]*a.y+f[4],f[1]*a.x+f[3]*a.y+f[5])},makeBoundingBoxFromPoints:function(a){var f=[a[0].x,a[1].x,a[2].x,a[3].x],c=fabric.util.array.min(f),f=fabric.util.array.max(f),f=Math.abs(c-f),b=[a[0].y,a[1].y,a[2].y,a[3].y];a=fabric.util.array.min(b);b=fabric.util.array.max(b);return{left:c,top:a,width:f,height:Math.abs(a-b)}},invertTransform:function(a){var f=
1/(a[0]*a[3]-a[1]*a[2]),f=[f*a[3],-f*a[1],-f*a[2],f*a[0]];a=fabric.util.transformPoint({x:a[4],y:a[5]},f,!0);f[4]=-a.x;f[5]=-a.y;return f},toFixed:function(a,f){return parseFloat(Number(a).toFixed(f))},parseUnit:function(a,f){var c=/\D{0,2}$/.exec(a),b=parseFloat(a);f||(f=fabric.Text.DEFAULT_SVG_FONT_SIZE);switch(c[0]){case "mm":return b*fabric.DPI/25.4;case "cm":return b*fabric.DPI/2.54;case "in":return b*fabric.DPI;case "pt":return b*fabric.DPI/72;case "pc":return b*fabric.DPI/72*12;case "em":return b*
f;default:return b}},falseFunction:function(){return!1},getKlass:function(a,f){a=fabric.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1));return fabric.util.resolveNamespace(f)[a]},resolveNamespace:function(a){if(!a)return fabric;a=a.split(".");var f=a.length,c,b=e||fabric.window;for(c=0;c<f;++c)b=b[a[c]];return b},loadImage:function(a,f,c,b){if(a){var d=fabric.util.createImage();d.onload=function(){f&&f.call(c,d);d=d.onload=d.onerror=null};d.onerror=function(){fabric.log("Error loading "+
d.src);f&&f.call(c,null,!0);d=d.onload=d.onerror=null};0!==a.indexOf("data")&&b&&(d.crossOrigin=b);d.src=a}else f&&f.call(c,a)},enlivenObjects:function(a,f,c,b){a=a||[];var d=[],h=0,g=a.length;g?a.forEach(function(a,l){a&&a.type?fabric.util.getKlass(a.type,c).fromObject(a,function(c,k){k||(d[l]=c);b&&b(a,c,k);++h===g&&f&&f(d)},!0):++h===g&&f&&f(d)}):f&&f(d)},enlivenPatterns:function(a,f){a=a||[];var c=[],b=0,d=a.length;d?a.forEach(function(a,h){a&&a.source?new fabric.Pattern(a,function(a){c[h]=a;
++b===d&&f&&f(c)}):(c[h]=a,++b===d&&f&&f(c))}):f&&f(c)},groupSVGElements:function(a,f,c){a=new fabric.PathGroup(a,f);"undefined"!==typeof c&&(a.sourcePath=c);return a},populateWithProperties:function(a,f,c){if(c&&"[object Array]"===Object.prototype.toString.call(c))for(var b=0,d=c.length;b<d;b++)c[b]in a&&(f[c[b]]=a[c[b]])},drawDashedLine:function(a,f,c,g,e,n){g-=f;var h=e-c;e=b(g*g+h*h);g=d(h,g);var h=n.length,l=0,k=!0;a.save();a.translate(f,c);a.moveTo(0,0);a.rotate(g);for(f=0;e>f;)f+=n[l++%h],
f>e&&(f=e),a[k?"lineTo":"moveTo"](f,0),k=!k;a.restore()},createCanvasElement:function(a){a||(a=fabric.document.createElement("canvas"));a.getContext||"undefined"===typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(a);return a},createImage:function(){return fabric.isLikelyNode?new (require("canvas").Image):fabric.document.createElement("img")},createAccessors:function(a){a=a.prototype;var f,c,b,d;for(f=a.stateProperties.length;f--;)c=a.stateProperties[f],b=c.charAt(0).toUpperCase()+c.slice(1),
d="set"+b,b="get"+b,a[b]||(a[b]=new Function('return this.get("'+c+'")')),a[d]||(a[d]=new Function("value",'return this.set("'+c+'", value)'))},clipContext:function(a,f){f.save();f.beginPath();a.clipTo(f);f.clip()},multiplyTransformMatrices:function(a,f,c){return[a[0]*f[0]+a[2]*f[1],a[1]*f[0]+a[3]*f[1],a[0]*f[2]+a[2]*f[3],a[1]*f[2]+a[3]*f[3],c?0:a[0]*f[4]+a[2]*f[5]+a[4],c?0:a[1]*f[4]+a[3]*f[5]+a[5]]},qrDecompose:function(a){var f=d(a[1],a[0]),h=c(a[0],2)+c(a[1],2),k=b(h),e=(a[0]*a[3]-a[2]*a[1])/k,
h=d(a[0]*a[2]+a[1]*a[3],h);return{angle:f/g,scaleX:k,scaleY:e,skewX:h/g,skewY:0,translateX:a[4],translateY:a[5]}},customTransformMatrix:function(c,f,b){b=[1,0,a(Math.tan(b*g)),1];c=[a(c),0,0,a(f)];return fabric.util.multiplyTransformMatrices(c,b,!0)},resetObjectTransform:function(a){a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.flipX=!1;a.flipY=!1;a.setAngle(0)},getFunctionBody:function(a){return(String(a).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(a,f,c,b){0<b&&(f=f>b?f-b:
0,c=c>b?c-b:0);var d=!0;f=a.getImageData(f,c,2*b||1,2*b||1);c=f.data.length;for(a=3;a<c&&(d=f.data[a],d=0>=d,!1!==d);a+=4);return d},parsePreserveAspectRatioAttribute:function(a){var f="meet",c;(a=a.split(" "))&&a.length&&(f=a.pop(),"meet"!==f&&"slice"!==f?(c=f,f="meet"):a.length&&(c=a.pop()));a="none"!==c?c.slice(1,4):"none";c="none"!==c?c.slice(5,8):"none";return{meetOrSlice:f,alignX:a,alignY:c}},clearFabricFontCache:function(a){a?fabric.charWidthsCache[a]&&delete fabric.charWidthsCache[a]:fabric.charWidthsCache=
{}},limitDimsByArea:function(a,f){var c=Math.sqrt(f*a);return{x:Math.floor(c),y:Math.floor(f/c)}},capValue:function(a,f,c){return Math.max(a,Math.min(f,c))}}})("undefined"!==typeof exports?exports:this);
(function(){function e(c,g,h,e,p,q,t){var l=f.call(arguments);if(a[l])return a[l];var k=Math.PI,m=t*k/180,n=Math.sin(m),m=Math.cos(m),y=0,x=0;h=Math.abs(h);e=Math.abs(e);var u=-m*c*.5-n*g*.5,C=-m*g*.5+n*c*.5,D=h*h,z=e*e,E=C*C,B=u*u,F=D*z-D*E-z*B,G=0;0>F?(D=Math.sqrt(1-F/(D*z)),h*=D,e*=D):G=(p===q?-1:1)*Math.sqrt(F/(D*E+z*B));E=G*h*C/e;B=-G*e*u/h;G=m*E-n*B+.5*c;D=n*E+m*B+.5*g;z=d(1,0,(u-E)/h,(C-B)/e);C=d((u-E)/h,(C-B)/e,(-u-E)/h,(-C-B)/e);0===q&&0<C?C-=2*k:1===q&&0>C&&(C+=2*k);k=Math.ceil(Math.abs(C/
k*2));u=[];C/=k;E=8/3*Math.sin(C/4)*Math.sin(C/4)/Math.sin(C/2);B=z+C;for(F=0;F<k;F++)u[F]=b(z,B,m,n,h,e,G,D,E,y,x),y=u[F][4],x=u[F][5],z=B,B+=C;return a[l]=u}function b(a,c,b,d,h,e,t,r,v,A,w){var l=f.call(arguments);if(g[l])return g[l];var k=Math.cos(a),m=Math.sin(a),n=Math.cos(c),p=Math.sin(c),q=b*h*n-d*e*p+t,E=d*h*n+b*e*p+r;g[l]=[A+v*(-b*h*m-d*e*k),w+v*(-d*h*m+b*e*k),q+v*(b*h*p+d*e*n),E+v*(d*h*p-b*e*n),q,E];return g[l]}function d(a,f,c,b){a=Math.atan2(f,a);c=Math.atan2(b,c);return c>=a?c-a:2*Math.PI-
(a-c)}function c(a,c,b,d,g,e,t,r){var l=f.call(arguments);if(h[l])return h[l];var k=Math.sqrt,m=Math.min,n=Math.max,p=Math.abs,q=[],C=[[],[]],D,z,E,B,F;z=6*a-12*b+6*g;D=-3*a+9*b-9*g+3*t;E=3*b-3*a;for(var G=0;2>G;++G)0<G&&(z=6*c-12*d+6*e,D=-3*c+9*d-9*e+3*r,E=3*d-3*c),1E-12>p(D)?1E-12>p(z)||(B=-E/z,0<B&&1>B&&q.push(B)):(B=z*z-4*E*D,0>B||(F=k(B),B=(-z+F)/(2*D),0<B&&1>B&&q.push(B),B=(-z-F)/(2*D),0<B&&1>B&&q.push(B)));for(p=k=q.length;k--;)B=q[k],z=1-B,D=z*z*z*a+3*z*z*B*b+3*z*B*B*g+B*B*B*t,C[0][k]=D,D=
z*z*z*c+3*z*z*B*d+3*z*B*B*e+B*B*B*r,C[1][k]=D;C[0][p]=a;C[1][p]=c;C[0][p+1]=t;C[1][p+1]=r;m=[{x:m.apply(null,C[0]),y:m.apply(null,C[1])},{x:n.apply(null,C[0]),y:n.apply(null,C[1])}];return h[l]=m}var a={},g={},h={},f=Array.prototype.join;fabric.util.drawArc=function(a,f,c,b){var d=[[],[],[],[]];b=e(b[5]-f,b[6]-c,b[0],b[1],b[3],b[4],b[2]);for(var g=0,h=b.length;g<h;g++)d[g][0]=b[g][0]+f,d[g][1]=b[g][1]+c,d[g][2]=b[g][2]+f,d[g][3]=b[g][3]+c,d[g][4]=b[g][4]+f,d[g][5]=b[g][5]+c,a.bezierCurveTo.apply(a,
d[g])};fabric.util.getBoundsOfArc=function(a,f,b,d,g,h,t,r,v){var l=0,k=0,m=[];b=e(r-a,v-f,b,d,h,t,g);d=0;for(g=b.length;d<g;d++)l=c(l,k,b[d][0],b[d][1],b[d][2],b[d][3],b[d][4],b[d][5]),m.push({x:l[0].x+a,y:l[0].y+f}),m.push({x:l[1].x+a,y:l[1].y+f}),l=b[d][4],k=b[d][5];return m};fabric.util.getBoundsOfCurve=c})();
(function(){function e(b,c,a){if(b&&0!==b.length){var d=b.length-1,h=c?b[d][c]:b[d];if(c)for(;d--;)a(b[d][c],h)&&(h=b[d][c]);else for(;d--;)a(b[d],h)&&(h=b[d]);return h}}var b=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(b){if(void 0===this||null===this)throw new TypeError;var c=Object(this),a=c.length>>>0;if(0===a)return-1;var d=0;0<arguments.length&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==Number.POSITIVE_INFINITY&&d!==Number.NEGATIVE_INFINITY&&(d=(0<d||-1)*
Math.floor(Math.abs(d))));if(d>=a)return-1;for(d=0<=d?d:Math.max(a-Math.abs(d),0);d<a;d++)if(d in c&&c[d]===b)return d;return-1});Array.prototype.forEach||(Array.prototype.forEach=function(b,c){for(var a=0,d=this.length>>>0;a<d;a++)a in this&&b.call(c,this[a],a,this)});Array.prototype.map||(Array.prototype.map=function(b,c){for(var a=[],d=0,h=this.length>>>0;d<h;d++)d in this&&(a[d]=b.call(c,this[d],d,this));return a});Array.prototype.every||(Array.prototype.every=function(b,c){for(var a=0,d=this.length>>>
0;a<d;a++)if(a in this&&!b.call(c,this[a],a,this))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(b,c){for(var a=0,d=this.length>>>0;a<d;a++)if(a in this&&b.call(c,this[a],a,this))return!0;return!1});Array.prototype.filter||(Array.prototype.filter=function(b,c){for(var a=[],d,h=0,f=this.length>>>0;h<f;h++)h in this&&(d=this[h],b.call(c,d,h,this)&&a.push(d));return a});Array.prototype.reduce||(Array.prototype.reduce=function(b){var c=this.length>>>0,a=0,d;if(1<arguments.length)d=
arguments[1];else{do{if(a in this){d=this[a++];break}if(++a>=c)throw new TypeError;}while(1)}for(;a<c;a++)a in this&&(d=b.call(null,d,this[a],a,this));return d});fabric.util.array={fill:function(b,c){for(var a=b.length;a--;)b[a]=c;return b},invoke:function(d,c){for(var a=b.call(arguments,2),g=[],h=0,f=d.length;h<f;h++)g[h]=a.length?d[h][c].apply(d[h],a):d[h][c].call(d[h]);return g},min:function(b,c){return e(b,c,function(a,c){return a<c})},max:function(b,c){return e(b,c,function(a,c){return a>=c})}}})();
(function(){function e(b,d,c){if(c)if(!fabric.isLikelyNode&&d instanceof Element)b=d;else if(d instanceof Array){b=[];for(var a=0,g=d.length;a<g;a++)b[a]=e({},d[a],c)}else if(d&&"object"===typeof d)for(a in d)d.hasOwnProperty(a)&&(b[a]=e({},d[a],c));else b=d;else for(a in d)b[a]=d[a];return b}fabric.util.object={extend:e,clone:function(b,d){return e({},b,d)}}})();
(function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")});fabric.util.string={camelize:function(e){return e.replace(/-+(.)?/g,function(b,d){return d?d.toUpperCase():""})},capitalize:function(e,b){return e.charAt(0).toUpperCase()+(b?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}})();
(function(){var e=Array.prototype.slice,b=Function.prototype.apply,d=function(){};Function.prototype.bind||(Function.prototype.bind=function(c){var a=this,g=e.call(arguments,1),h;h=g.length?function(){return b.call(a,this instanceof d?this:c,g.concat(e.call(arguments)))}:function(){return b.call(a,this instanceof d?this:c,arguments)};d.prototype=this.prototype;h.prototype=new d;return h})})();
(function(){function e(){}function b(a){for(var f=null,c=this;c.constructor.superclass;){var b=c.constructor.superclass.prototype[a];if(c[a]!==b){f=b;break}c=c.constructor.superclass.prototype}return f?1<arguments.length?f.apply(this,d.call(arguments,1)):f.call(this):console.log("tried to callSuper "+a+", method not found in prototype chain",this)}var d=Array.prototype.slice,c=function(){},a=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}(),g=function(c,f,b){for(var d in f)d in
c.prototype&&"function"===typeof c.prototype[d]&&-1<(f[d]+"").indexOf("callSuper")?c.prototype[d]=function(a){return function(){var c=this.constructor.superclass;this.constructor.superclass=b;var d=f[a].apply(this,arguments);this.constructor.superclass=c;if("initialize"!==a)return d}}(d):c.prototype[d]=f[d],a&&(f.toString!==Object.prototype.toString&&(c.prototype.toString=f.toString),f.valueOf!==Object.prototype.valueOf&&(c.prototype.valueOf=f.valueOf))};fabric.util.createClass=function(){function a(){this.initialize.apply(this,
arguments)}var f=null,l=d.call(arguments,0);"function"===typeof l[0]&&(f=l.shift());a.superclass=f;a.subclasses=[];f&&(e.prototype=f.prototype,a.prototype=new e,f.subclasses.push(a));for(var k=0,m=l.length;k<m;k++)g(a,l[k],f);a.prototype.initialize||(a.prototype.initialize=c);a.prototype.constructor=a;a.prototype.callSuper=b;return a}})();
(function(){function e(a){var f=Array.prototype.slice.call(arguments,1),c,b,d=f.length;for(b=0;b<d;b++)if(c=typeof a[f[b]],!/^(?:function|object|unknown)$/.test(c))return!1;return!0}function b(f,c){return function(b){c.call(a(f),b||fabric.window.event)}}function d(a,f){return function(c){if(m[a]&&m[a][f])for(var b=m[a][f],d=0,g=b.length;d<g;d++)b[d].call(this,c||fabric.window.event)}}function c(a,f,c){var b="touchend"===a.type?"changedTouches":"touches";return a[b]&&a[b][0]?a[b][0][f]-(a[b][0][f]-
a[b][0][c])||a[c]:a[c]}var a,g,h=function(){var a=0;return function(f){return f.__uniqueID||(f.__uniqueID="uniqueID__"+a++)}}();(function(){var f={};a=function(a){return f[a]};g=function(a,c){f[a]=c}})();var f=e(fabric.document.documentElement,"addEventListener","removeEventListener")&&e(fabric.window,"addEventListener","removeEventListener"),l=e(fabric.document.documentElement,"attachEvent","detachEvent")&&e(fabric.window,"attachEvent","detachEvent"),k={},m={},n;f?(f=function(a,f,c,b){a&&a.addEventListener(f,
c,l?!1:b)},n=function(a,f,c,b){a&&a.removeEventListener(f,c,l?!1:b)}):l?(f=function(a,f,c){if(a){var d=h(a);g(d,a);k[d]||(k[d]={});k[d][f]||(k[d][f]=[]);c={handler:c,wrappedHandler:b(d,c)};k[d][f].push(c);a.attachEvent("on"+f,c.wrappedHandler)}},n=function(a,f,c){if(a){var b=h(a),d;if(k[b]&&k[b][f])for(var g=0,l=k[b][f].length;g<l;g++)(d=k[b][f][g])&&d.handler===c&&(a.detachEvent("on"+f,d.wrappedHandler),k[b][f][g]=null)}}):(f=function(a,f,c){if(a){var b=h(a);m[b]||(m[b]={});if(!m[b][f]){m[b][f]=
[];var g=a["on"+f];g&&m[b][f].push(g);a["on"+f]=d(b,f)}m[b][f].push(c)}},n=function(a,f,c){if(a&&(a=h(a),m[a]&&m[a][f])){f=m[a][f];a=0;for(var b=f.length;a<b;a++)f[a]===c&&f.splice(a,1)}});fabric.util.addListener=f;fabric.util.removeListener=n;var p=function(a){return"unknown"!==typeof a.clientX?a.clientX:0},q=function(a){return"unknown"!==typeof a.clientY?a.clientY:0};fabric.isTouchSupported&&(p=function(a){return c(a,"pageX","clientX")},q=function(a){return c(a,"pageY","clientY")});fabric.util.getPointer=
function(a){a||(a=fabric.window.event);var f=fabric.util.getScrollLeftTop(a.target||("unknown"!==typeof a.srcElement?a.srcElement:null));return{x:p(a)+f.left,y:q(a)+f.top}};fabric.util.object.extend(fabric.util,fabric.Observable)})();
(function(){var e=fabric.document.createElement("div"),b="string"===typeof e.style.filter,d=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(a){return a};"string"===typeof e.style.opacity?c=function(a,c){a.style.opacity=c;return a}:b&&(c=function(a,c){var b=a.style;a.currentStyle&&!a.currentStyle.hasLayout&&(b.zoom=1);d.test(b.filter)?b.filter=b.filter.replace(d,.9999<=c?"":"alpha(opacity="+100*c+")"):b.filter+=" alpha(opacity="+100*c+")";return a});fabric.util.setStyle=function(a,b){var d=a.style;
if(!d)return a;if("string"===typeof b)return a.style.cssText+=";"+b,-1<b.indexOf("opacity")?c(a,b.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var f in b)"opacity"===f?c(a,b[f]):d["float"===f||"cssFloat"===f?"undefined"===typeof d.styleFloat?"cssFloat":"styleFloat":f]=b[f];return a}})();
(function(){function e(a,f){var c=fabric.document.createElement(a),b;for(b in f)"class"===b?c.className=f[b]:"for"===b?c.htmlFor=f[b]:c.setAttribute(b,f[b]);return c}function b(a){for(var f=0,c=0,b=fabric.document.documentElement,d=fabric.document.body||{scrollLeft:0,scrollTop:0};a&&(a.parentNode||a.host)&&(a=a.parentNode||a.host,a===fabric.document?(f=d.scrollLeft||b.scrollLeft||0,c=d.scrollTop||b.scrollTop||0):(f+=a.scrollLeft||0,c+=a.scrollTop||0),1!==a.nodeType||"fixed"!==fabric.util.getElementStyle(a,
"position")););return{left:f,top:c}}var d=Array.prototype.slice,c,a=function(a){return d.call(a,0)};try{c=a(fabric.document.childNodes)instanceof Array}catch(h){}c||(a=function(a){for(var f=Array(a.length),c=a.length;c--;)f[c]=a[c];return f});var g;g=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(a,f){var c=fabric.document.defaultView.getComputedStyle(a,null);return c?c[f]:void 0}:function(a,f){var c=a.style[f];!c&&a.currentStyle&&(c=a.currentStyle[f]);return c};
(function(){var a=fabric.document.documentElement.style,f="userSelect"in a?"userSelect":"MozUserSelect"in a?"MozUserSelect":"WebkitUserSelect"in a?"WebkitUserSelect":"KhtmlUserSelect"in a?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=function(a){"undefined"!==typeof a.onselectstart&&(a.onselectstart=fabric.util.falseFunction);f?a.style[f]="none":"string"===typeof a.unselectable&&(a.unselectable="on");return a};fabric.util.makeElementSelectable=function(a){"undefined"!==typeof a.onselectstart&&
(a.onselectstart=null);f?a.style[f]="":"string"===typeof a.unselectable&&(a.unselectable="");return a}})();(function(){fabric.util.getScript=function(a,f){var c=fabric.document.getElementsByTagName("head")[0],b=fabric.document.createElement("script"),d=!0;b.onload=b.onreadystatechange=function(a){!d||"string"===typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(d=!1,f(a||fabric.window.event),b=b.onload=b.onreadystatechange=null)};b.src=a;c.appendChild(b)}})();fabric.util.getById=
function(a){return"string"===typeof a?fabric.document.getElementById(a):a};fabric.util.toArray=a;fabric.util.makeElement=e;fabric.util.addClass=function(a,f){a&&-1===(" "+a.className+" ").indexOf(" "+f+" ")&&(a.className+=(a.className?" ":"")+f)};fabric.util.wrapElement=function(a,f,c){"string"===typeof f&&(f=e(f,c));a.parentNode&&a.parentNode.replaceChild(f,a);f.appendChild(a);return f};fabric.util.getScrollLeftTop=b;fabric.util.getElementOffset=function(a){var f;f=a&&a.ownerDocument;var c={left:0,
top:0},d={left:0,top:0},h={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!f)return d;for(var e in h)d[h[e]]+=parseInt(g(a,e),10)||0;f=f.documentElement;"undefined"!==typeof a.getBoundingClientRect&&(c=a.getBoundingClientRect());a=b(a);return{left:c.left+a.left-(f.clientLeft||0)+d.left,top:c.top+a.top-(f.clientTop||0)+d.top}};fabric.util.getElementStyle=g})();
(function(){function e(c,a){return c+(/\?/.test(c)?"&":"?")+a}function b(){}var d=function(){for(var c=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],a=c.length;a--;)try{if(c[a]())return c[a]}catch(g){}}();fabric.util.request=function(c,a){a||(a={});var g=a.method?a.method.toUpperCase():"GET",h=a.onComplete||function(){},f=d(),l=a.body||
a.parameters;f.onreadystatechange=function(){4===f.readyState&&(h(f),f.onreadystatechange=b)};"GET"===g&&(l=null,"string"===typeof a.parameters&&(c=e(c,a.parameters)));f.open(g,c,!0);"POST"!==g&&"PUT"!==g||f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");f.send(l);return f}})();fabric.log=function(){};fabric.warn=function(){};
"undefined"!==typeof console&&["log","warn"].forEach(function(e){"undefined"!==typeof console[e]&&"function"===typeof console[e].apply&&(fabric[e]=function(){return console[e].apply(console,arguments)})});
(function(){function e(){return!1}function b(){return d.apply(fabric.window,arguments)}var d=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(c){fabric.window.setTimeout(c,1E3/60)};fabric.util.animate=function(c){b(function(a){c||(c={});var d=a||+new Date,h=c.duration||500,f=d+h,l,k=c.onChange||e,m=c.abort||e,n=c.onComplete||e,p=c.easing||function(a,
f,c,b){return-c*Math.cos(a/b*(Math.PI/2))+c+f},q="startValue"in c?c.startValue:0,t="endValue"in c?c.endValue:100,r=c.byValue||t-q;c.onStart&&c.onStart();(function A(a){if(m())n(t,1,1);else{l=a||+new Date;var g=l>f?h:l-d;a=g/h;g=p(g,q,r,h);k(g,Math.abs((g-q)/r),a);l>f?c.onComplete&&c.onComplete():b(A)}})(d)})};fabric.util.requestAnimFrame=b})();
(function(){fabric.util.animateColor=function(e,b,d,c){e=(new fabric.Color(e)).getSource();b=(new fabric.Color(b)).getSource();c=c||{};fabric.util.animate(fabric.util.object.extend(c,{duration:d||500,startValue:e,endValue:b,byValue:b,easing:function(a,b,d,f){a=c.colorEasing?c.colorEasing(a,f):1-Math.cos(a/f*(Math.PI/2));f="rgba("+parseInt(b[0]+a*(d[0]-b[0]),10)+","+parseInt(b[1]+a*(d[1]-b[1]),10)+","+parseInt(b[2]+a*(d[2]-b[2]),10);f+=","+(b&&d?parseFloat(b[3]+a*(d[3]-b[3])):1);return f+")"}}))}})();
(function(){function e(a,c,b,f){a<Math.abs(c)?(a=c,f=b/4):f=0===c&&0===a?b/(2*Math.PI)*Math.asin(1):b/(2*Math.PI)*Math.asin(c/a);return{a:a,c:c,p:b,s:f}}function b(a,c,b){return a.a*Math.pow(2,10*--c)*Math.sin(2*(c*b-a.s)*Math.PI/a.p)}function d(a,b,d,f){return d-c(f-a,0,d,f)+b}function c(a,c,b,f){return(a/=f)<1/2.75?7.5625*b*a*a+c:a<2/2.75?b*(7.5625*(a-=1.5/2.75)*a+.75)+c:a<2.5/2.75?b*(7.5625*(a-=2.25/2.75)*a+.9375)+c:b*(7.5625*(a-=2.625/2.75)*a+.984375)+c}fabric.util.ease={easeInQuad:function(a,
c,b,f){return b*(a/=f)*a+c},easeOutQuad:function(a,c,b,f){return-b*(a/=f)*(a-2)+c},easeInOutQuad:function(a,c,b,f){a/=f/2;return 1>a?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c},easeInCubic:function(a,c,b,f){return b*(a/=f)*a*a+c},easeOutCubic:function(a,c,b,f){return b*((a=a/f-1)*a*a+1)+c},easeInOutCubic:function(a,c,b,f){a/=f/2;return 1>a?b/2*a*a*a+c:b/2*((a-=2)*a*a+2)+c},easeInQuart:function(a,c,b,f){return b*(a/=f)*a*a*a+c},easeOutQuart:function(a,c,b,f){return-b*((a=a/f-1)*a*a*a-1)+c},easeInOutQuart:function(a,
c,b,f){a/=f/2;return 1>a?b/2*a*a*a*a+c:-b/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(a,c,b,f){return b*(a/=f)*a*a*a*a+c},easeOutQuint:function(a,c,b,f){return b*((a=a/f-1)*a*a*a*a+1)+c},easeInOutQuint:function(a,c,b,f){a/=f/2;return 1>a?b/2*a*a*a*a*a+c:b/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(a,c,b,f){return-b*Math.cos(a/f*(Math.PI/2))+b+c},easeOutSine:function(a,c,b,f){return b*Math.sin(a/f*(Math.PI/2))+c},easeInOutSine:function(a,c,b,f){return-b/2*(Math.cos(Math.PI*a/f)-1)+c},easeInExpo:function(a,
c,b,f){return 0===a?c:b*Math.pow(2,10*(a/f-1))+c},easeOutExpo:function(a,c,b,f){return a===f?c+b:b*(-Math.pow(2,-10*a/f)+1)+c},easeInOutExpo:function(a,c,b,f){if(0===a)return c;if(a===f)return c+b;a/=f/2;return 1>a?b/2*Math.pow(2,10*(a-1))+c:b/2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(a,c,b,f){return-b*(Math.sqrt(1-(a/=f)*a)-1)+c},easeOutCirc:function(a,c,b,f){return b*Math.sqrt(1-(a=a/f-1)*a)+c},easeInOutCirc:function(a,c,b,f){a/=f/2;return 1>a?-b/2*(Math.sqrt(1-a*a)-1)+c:b/2*(Math.sqrt(1-
(a-=2)*a)+1)+c},easeInElastic:function(a,c,d,f){var g=0;if(0===a)return c;a/=f;if(1===a)return c+d;g||(g=.3*f);d=e(d,d,g,1.70158);return-b(d,a,f)+c},easeOutElastic:function(a,c,b,f){var d=0;if(0===a)return c;a/=f;if(1===a)return c+b;d||(d=.3*f);b=e(b,b,d,1.70158);return b.a*Math.pow(2,-10*a)*Math.sin(2*(a*f-b.s)*Math.PI/b.p)+b.c+c},easeInOutElastic:function(a,c,d,f){var g=0;if(0===a)return c;a/=f/2;if(2===a)return c+d;g||(g=.3*f*1.5);d=e(d,d,g,1.70158);return 1>a?-.5*b(d,a,f)+c:d.a*Math.pow(2,-10*
--a)*Math.sin(2*(a*f-d.s)*Math.PI/d.p)*.5+d.c+c},easeInBack:function(a,c,b,f,d){void 0===d&&(d=1.70158);return b*(a/=f)*a*((d+1)*a-d)+c},easeOutBack:function(a,c,b,f,d){void 0===d&&(d=1.70158);return b*((a=a/f-1)*a*((d+1)*a+d)+1)+c},easeInOutBack:function(a,c,b,f,d){void 0===d&&(d=1.70158);a/=f/2;return 1>a?b/2*a*a*(((d*=1.525)+1)*a-d)+c:b/2*((a-=2)*a*(((d*=1.525)+1)*a+d)+2)+c},easeInBounce:d,easeOutBounce:c,easeInOutBounce:function(a,b,h,f){return a<f/2?.5*d(2*a,0,h,f)+b:.5*c(2*a-f,0,h,f)+.5*h+b}}})();
(function(e){function b(a,f,c,b){var d="[object Array]"===Object.prototype.toString.call(f),g;"fill"!==a&&"stroke"!==a||"none"!==f?"strokeDashArray"===a?f="none"===f?null:f.replace(/,/g," ").split(/\s+/).map(function(a){return parseFloat(a)}):"transformMatrix"===a?f=c&&c.transformMatrix?t(c.transformMatrix,k.parseTransformAttribute(f)):k.parseTransformAttribute(f):"visible"===a?(f="none"===f||"hidden"===f?!1:!0,c&&!1===c.visible&&(f=!1)):"opacity"===a?(f=parseFloat(f),c&&"undefined"!==typeof c.opacity&&
(f*=c.opacity)):"originX"===a?f="start"===f?"left":"end"===f?"right":"center":g=d?f.map(q):q(f,b):f="";return!d&&isNaN(g)?f:g}function d(a){for(var f in x)if("undefined"!==typeof a[x[f]]&&""!==a[f]){if("undefined"===typeof a[f]){if(!k.Object.prototype[f])continue;a[f]=k.Object.prototype[f]}if(0!==a[f].indexOf("url(")){var c=new k.Color(a[f]);a[f]=c.setAlpha(p(c.getAlpha()*a[x[f]],2)).toRgba()}}return a}function c(a,f){for(var c,b=[],d=0;d<f.length;d++)c=f[d],c=a.getElementsByTagName(c),b=b.concat(Array.prototype.slice.call(c));
return b}function a(a,f){var c,b;a.replace(/;\s*$/,"").split(";").forEach(function(a){a=a.split(":");c=a[0].trim().toLowerCase();b=a[1].trim();f[c]=b})}function g(a,f){var c={},b;for(b in k.cssRules[f]){var d=a,g=b.split(" "),l,e=!0;if((l=h(d,g.pop()))&&g.length){for(var e=g,m=void 0,n=!0;d.parentNode&&1===d.parentNode.nodeType&&e.length;)n&&(m=e.pop()),d=d.parentNode,n=h(d,m);e=0===e.length}if(l&&e&&0===g.length)for(var p in k.cssRules[f][b])c[p]=k.cssRules[f][b][p]}return c}function h(a,f){var c=
a.nodeName,b=a.getAttribute("class"),d=a.getAttribute("id"),c=new RegExp("^"+c,"i");f=f.replace(c,"");d&&f.length&&(c=new RegExp("#"+d+"(?![a-zA-Z\\-]+)","i"),f=f.replace(c,""));if(b&&f.length)for(b=b.split(" "),d=b.length;d--;)c=new RegExp("\\."+b[d]+"(?![a-zA-Z\\-]+)","i"),f=f.replace(c,"");return 0===f.length}function f(a){for(var f=c(a,["use","svg:use"]),b=0;f.length&&b<f.length;){var d=f[b],g=d.getAttribute("xlink:href").substr(1),h=d.getAttribute("x")||0,e=d.getAttribute("y")||0;a:{var k=a,
m=void 0;k.getElementById&&(m=k.getElementById(g));if(m)g=m;else{for(var n=k.getElementsByTagName("*"),m=0;m<n.length;m++)if(k=n[m],g===k.getAttribute("id")){g=k;break a}g=void 0}}var g=g.cloneNode(!0),h=(g.getAttribute("transform")||"")+" translate("+h+", "+e+")",e=f.length,p;l(g);if(/^svg$/i.test(g.nodeName)){var q=g.ownerDocument.createElement("g"),m=0,n=g.attributes;for(p=n.length;m<p;m++)k=n.item(m),q.setAttribute(k.nodeName,k.nodeValue);for(;g.firstChild;)q.appendChild(g.firstChild);g=q}m=0;
n=d.attributes;for(p=n.length;m<p;m++)k=n.item(m),"x"!==k.nodeName&&"y"!==k.nodeName&&"xlink:href"!==k.nodeName&&("transform"===k.nodeName?h=k.nodeValue+" "+h:g.setAttribute(k.nodeName,k.nodeValue));g.setAttribute("transform",h);g.setAttribute("instantiated_by_use","1");g.removeAttribute("id");d.parentNode.replaceChild(g,d);f.length===e&&b++}}function l(a){var f=a.getAttribute("viewBox"),c=1,b=1,d,g,l,h=a.getAttribute("width"),e=a.getAttribute("height"),m=a.getAttribute("x")||0,n=a.getAttribute("y")||
0,p=a.getAttribute("preserveAspectRatio")||"";d=!f||!v.test(a.nodeName)||!(f=f.match(u));var t=!h||!e||"100%"===h||"100%"===e;g=d&&t;var r={},A="";r.width=0;r.height=0;if(r.toBeParsed=g)return r;if(d)return r.width=q(h),r.height=q(e),r;d=-parseFloat(f[1]);g=-parseFloat(f[2]);l=parseFloat(f[3]);f=parseFloat(f[4]);t?(r.width=l,r.height=f):(r.width=q(h),r.height=q(e),c=r.width/l,b=r.height/f);p=k.util.parsePreserveAspectRatioAttribute(p);"none"!==p.alignX&&(b=c=c>b?b:c);if(1===c&&1===b&&0===d&&0===g&&
0===m&&0===n)return r;if(m||n)A=" translate("+q(m)+" "+q(n)+") ";c=A+" matrix("+c+" 0 0 "+b+" "+d*c+" "+g*b+") ";if("svg"===a.nodeName){for(b=a.ownerDocument.createElement("g");a.firstChild;)b.appendChild(a.firstChild);a.appendChild(b)}else b=a,c=b.getAttribute("transform")+c;b.setAttribute("transform",c);return r}var k=e.fabric||(e.fabric={}),m=k.util.object.extend,n=k.util.object.clone,p=k.util.toFixed,q=k.util.parseUnit,t=k.util.multiplyTransformMatrices,r=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,
v=/^(symbol|image|marker|pattern|view|svg)$/i,A=/^(?:pattern|defs|symbol|metadata|clipPath|mask)$/i,w=/^(symbol|g|a|svg)$/i,y={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit",
"stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX",opacity:"opacity"},x={stroke:"strokeOpacity",fill:"fillOpacity"};k.cssRules={};k.gradientDefs={};k.parseTransformAttribute=function(){function a(a,f){var c=Math.cos(f[0]),b=Math.sin(f[0]),d=0,g=0;3===f.length&&(d=f[1],g=f[2]);a[0]=c;a[1]=b;a[2]=-b;a[3]=c;a[4]=d-(c*d-b*g);a[5]=g-(b*d+c*g)}function f(a,f){var c=2===f.length?f[1]:f[0];a[0]=f[0];a[3]=c}function c(a,f){a[4]=f[0];2===
f.length&&(a[5]=f[1])}var b=[1,0,0,1,0,0],d=k.reNum,g="(?:"+("(?:(matrix)\\s*\\(\\s*("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+d+")(?:(?:\\s+,?\\s*|,\\s*)("+d+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+d+")(?:(?:\\s+,?\\s*|,\\s*)("+d+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+d+")(?:(?:\\s+,?\\s*|,\\s*)("+d+")(?:\\s+,?\\s*|,\\s*)("+d+"))?\\s*\\))")+"|"+
("(?:(skewX)\\s*\\(\\s*("+d+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+d+")\\s*\\))")+")",l=new RegExp("^\\s*(?:"+("(?:"+g+"(?:(?:\\s+,?\\s*|,\\s*)*"+g+")*)")+"?)\\s*$"),h=new RegExp(g,"g");return function(d){var e=b.concat(),m=[];if(!d||d&&!l.test(d))return e;d.replace(h,function(d){var l=(new RegExp(g)).exec(d).filter(function(a){return!!a});d=l[1];l=l.slice(2).map(parseFloat);switch(d){case "translate":c(e,l);break;case "rotate":l[0]=k.util.degreesToRadians(l[0]);a(e,l);break;case "scale":f(e,
l);break;case "skewX":e[2]=Math.tan(k.util.degreesToRadians(l[0]));break;case "skewY":e[1]=Math.tan(k.util.degreesToRadians(l[0]));break;case "matrix":e=l}m.push(e.concat());e=b.concat()});for(d=m[0];1<m.length;)m.shift(),d=k.util.multiplyTransformMatrices(d,m[0]);return d}}();var u=new RegExp("^\\s*("+k.reNum+"+)\\s*,?\\s*("+k.reNum+"+)\\s*,?\\s*("+k.reNum+"+)\\s*,?\\s*("+k.reNum+"+)\\s*$");k.parseSVGDocument=function(a,c,b,d){if(a){f(a);var g=k.Object.__uid++,h=l(a),e=k.util.toArray(a.getElementsByTagName("*"));
h.crossOrigin=d&&d.crossOrigin;h.svgUid=g;if(0===e.length&&k.isLikelyNode){for(var e=a.selectNodes('//*[name(.)!="svg"]'),m=[],p=0,q=e.length;p<q;p++)m[p]=e[p];e=m}e=e.filter(function(a){l(a);var f;if(f=r.test(a.nodeName.replace("svg:",""))){a:{for(;a&&(a=a.parentNode);)if(a.nodeName&&A.test(a.nodeName.replace("svg:",""))&&!a.getAttribute("instantiated_by_use")){a=!0;break a}a=!1}f=!a}return f});!e||e&&!e.length?c&&c([],{}):(k.gradientDefs[g]=k.getGradientDefs(a),k.cssRules[g]=k.getCSSRules(a),k.parseElements(e,
function(a){c&&c(a,h)},n(h),b,d))}};var C=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+k.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+k.reNum+"))?\\s+(.*)");m(k,{parseFontDeclaration:function(a,f){var c=a.match(C);if(c){var b=c[1],d=c[3],g=c[4],l=c[5],c=c[6];b&&(f.fontStyle=b);d&&(f.fontWeight=isNaN(parseFloat(d))?d:parseFloat(d));g&&(f.fontSize=q(g));c&&(f.fontFamily=c);l&&(f.lineHeight="normal"===l?1:l)}},getGradientDefs:function(a){var f=
c(a,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),b,d,g,l={},h={};for(b=f.length;b--;)a=f[b],g=a.getAttribute("xlink:href"),d=a.getAttribute("id"),g&&(h[d]=g.substr(1)),l[d]=a;for(d in h)for(f=l[h[d]].cloneNode(!0),a=l[d];f.firstChild;)a.appendChild(f.firstChild);return l},parseAttributes:function(a,f,c){if(a){var l,h={},e;"undefined"===typeof c&&(c=a.getAttribute("svgUid"));a.parentNode&&w.test(a.parentNode.nodeName)&&(h=k.parseAttributes(a.parentNode,f,c));e=h&&
h.fontSize||a.getAttribute("font-size")||k.Text.DEFAULT_SVG_FONT_SIZE;f=f.reduce(function(f,c){(l=a.getAttribute(c))&&(f[c]=l);return f},{});f=m(f,m(g(a,c),k.parseStyleAttribute(a)));var n,p={},q;for(q in f)c=q in y?y[q]:q,n=b(c,f[q],h,e),p[c]=n;p&&p.font&&k.parseFontDeclaration(p.font,p);h=m(h,p);return w.test(a.nodeName)?h:d(h)}},parseElements:function(a,f,c,b,d){(new k.ElementsParser(a,f,c,b,d)).parse()},parseStyleAttribute:function(f){var c={};f=f.getAttribute("style");if(!f)return c;if("string"===
typeof f)a(f,c);else{var b,d,g;for(g in f)"undefined"!==typeof f[g]&&(b=g.toLowerCase(),d=f[g],c[b]=d)}return c},parsePointsAttribute:function(a){if(!a)return null;a=a.replace(/,/g," ").trim();a=a.split(/\s+/);var f=[],c,b;c=0;for(b=a.length;c<b;c+=2)f.push({x:parseFloat(a[c]),y:parseFloat(a[c+1])});return f},getCSSRules:function(a){a=a.getElementsByTagName("style");for(var f={},c,b=0,d=a.length;b<d;b++)c=a[b].textContent||a[b].text,c=c.replace(/\/\*[\s\S]*?\*\//g,""),""!==c.trim()&&(c=c.match(/[^{]*\{[\s\S]*?\}/g),
c=c.map(function(a){return a.trim()}),c.forEach(function(a){a=a.match(/([\s\S]*?)\s*\{([^}]*)\}/);for(var c={},b=a[2].trim().replace(/;$/,"").split(/\s*;\s*/),d=0,g=b.length;d<g;d++){var l=b[d].split(/\s*:\s*/);c[l[0]]=l[1]}a=a[1];a.split(",").forEach(function(a){a=a.replace(/^svg/i,"").trim();""!==a&&(f[a]?k.util.object.extend(f[a],c):f[a]=k.util.object.clone(c))})}));return f},loadSVGFromURL:function(a,f,c,b){a=a.replace(/^\n\s*/,"").trim();new k.util.request(a,{method:"get",onComplete:function(a){var d=
a.responseXML;d&&!d.documentElement&&k.window.ActiveXObject&&a.responseText&&(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));d&&d.documentElement||f&&f(null);k.parseSVGDocument(d.documentElement,function(a,c){f&&f(a,c)},c,b)}})},loadSVGFromString:function(a,f,c,b){a=a.trim();var d;if("undefined"!==typeof DOMParser){var g=new DOMParser;g&&g.parseFromString&&(d=g.parseFromString(a,"text/xml"))}else k.window.ActiveXObject&&
(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));k.parseSVGDocument(d.documentElement,function(a,c){f(a,c)},c,b)}})})("undefined"!==typeof exports?exports:this);fabric.ElementsParser=function(e,b,d,c,a){this.elements=e;this.callback=b;this.options=d;this.reviver=c;this.svgUid=d&&d.svgUid||0;this.parsingOptions=a};
fabric.ElementsParser.prototype.parse=function(){this.instances=Array(this.elements.length);this.numElements=this.elements.length;this.createObjects()};fabric.ElementsParser.prototype.createObjects=function(){for(var e=0,b=this.elements.length;e<b;e++)this.elements[e].setAttribute("svgUid",this.svgUid),function(b,c){setTimeout(function(){b.createObject(b.elements[c],c)},0)}(this,e)};
fabric.ElementsParser.prototype.createObject=function(e,b){var d=fabric[fabric.util.string.capitalize(e.tagName.replace("svg:",""))];if(d&&d.fromElement)try{this._createObject(d,e,b)}catch(c){fabric.log(c)}else this.checkIfDone()};
fabric.ElementsParser.prototype._createObject=function(e,b,d){e.async?e.fromElement(b,this.createCallback(d,b),this.options):(e=e.fromElement(b,this.options),this.resolveGradient(e,"fill"),this.resolveGradient(e,"stroke"),this.reviver&&this.reviver(b,e),this.instances[d]=e,this.checkIfDone())};fabric.ElementsParser.prototype.createCallback=function(e,b){var d=this;return function(c){d.resolveGradient(c,"fill");d.resolveGradient(c,"stroke");d.reviver&&d.reviver(b,c);d.instances[e]=c;d.checkIfDone()}};
fabric.ElementsParser.prototype.resolveGradient=function(e,b){var d=e.get(b);/^url\(/.test(d)&&(d=d.slice(5,d.length-1),fabric.gradientDefs[this.svgUid][d]&&e.set(b,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][d],e)))};fabric.ElementsParser.prototype.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter(function(e){return null!=e}),this.callback(this.instances))};
(function(e){function b(b,c){this.x=b;this.y=c}e=e.fabric||(e.fabric={});e.Point?e.warn("fabric.Point is already defined"):(e.Point=b,b.prototype={type:"point",constructor:b,add:function(d){return new b(this.x+d.x,this.y+d.y)},addEquals:function(b){this.x+=b.x;this.y+=b.y;return this},scalarAdd:function(d){return new b(this.x+d,this.y+d)},scalarAddEquals:function(b){this.x+=b;this.y+=b;return this},subtract:function(d){return new b(this.x-d.x,this.y-d.y)},subtractEquals:function(b){this.x-=b.x;this.y-=
b.y;return this},scalarSubtract:function(d){return new b(this.x-d,this.y-d)},scalarSubtractEquals:function(b){this.x-=b;this.y-=b;return this},multiply:function(d){return new b(this.x*d,this.y*d)},multiplyEquals:function(b){this.x*=b;this.y*=b;return this},divide:function(d){return new b(this.x/d,this.y/d)},divideEquals:function(b){this.x/=b;this.y/=b;return this},eq:function(b){return this.x===b.x&&this.y===b.y},lt:function(b){return this.x<b.x&&this.y<b.y},lte:function(b){return this.x<=b.x&&this.y<=
b.y},gt:function(b){return this.x>b.x&&this.y>b.y},gte:function(b){return this.x>=b.x&&this.y>=b.y},lerp:function(d,c){"undefined"===typeof c&&(c=.5);c=Math.max(Math.min(1,c),0);return new b(this.x+(d.x-this.x)*c,this.y+(d.y-this.y)*c)},distanceFrom:function(b){var c=this.x-b.x;b=this.y-b.y;return Math.sqrt(c*c+b*b)},midPointFrom:function(b){return this.lerp(b)},min:function(d){return new b(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new b(Math.max(this.x,d.x),Math.max(this.y,
d.y))},toString:function(){return this.x+","+this.y},setXY:function(b,c){this.x=b;this.y=c;return this},setX:function(b){this.x=b;return this},setY:function(b){this.y=b;return this},setFromPoint:function(b){this.x=b.x;this.y=b.y;return this},swap:function(b){var c=this.x,a=this.y;this.x=b.x;this.y=b.y;b.x=c;b.y=a},clone:function(){return new b(this.x,this.y)}})})("undefined"!==typeof exports?exports:this);
(function(e){function b(b){this.status=b;this.points=[]}var d=e.fabric||(e.fabric={});d.Intersection?d.warn("fabric.Intersection is already defined"):(d.Intersection=b,d.Intersection.prototype={constructor:b,appendPoint:function(b){this.points.push(b);return this},appendPoints:function(b){this.points=this.points.concat(b);return this}},d.Intersection.intersectLineLine=function(c,a,g,h){var f,l=(h.x-g.x)*(c.y-g.y)-(h.y-g.y)*(c.x-g.x);f=(a.x-c.x)*(c.y-g.y)-(a.y-c.y)*(c.x-g.x);g=(h.y-g.y)*(a.x-c.x)-
(h.x-g.x)*(a.y-c.y);0!==g?(l/=g,f/=g,0<=l&&1>=l&&0<=f&&1>=f?(f=new b("Intersection"),f.appendPoint(new d.Point(c.x+l*(a.x-c.x),c.y+l*(a.y-c.y)))):f=new b):f=0===l||0===f?new b("Coincident"):new b("Parallel");return f},d.Intersection.intersectLinePolygon=function(c,a,d){for(var g=new b,f=d.length,l,e,m=0;m<f;m++)l=d[m],e=d[(m+1)%f],l=b.intersectLineLine(c,a,l,e),g.appendPoints(l.points);0<g.points.length&&(g.status="Intersection");return g},d.Intersection.intersectPolygonPolygon=function(c,a){for(var d=
new b,h=c.length,f=0;f<h;f++){var l=b.intersectLinePolygon(c[f],c[(f+1)%h],a);d.appendPoints(l.points)}0<d.points.length&&(d.status="Intersection");return d},d.Intersection.intersectPolygonRectangle=function(c,a,g){var h=a.min(g),f=a.max(g);g=new d.Point(f.x,h.y);var l=new d.Point(h.x,f.y);a=b.intersectLinePolygon(h,g,c);g=b.intersectLinePolygon(g,f,c);f=b.intersectLinePolygon(f,l,c);c=b.intersectLinePolygon(l,h,c);h=new b;h.appendPoints(a.points);h.appendPoints(g.points);h.appendPoints(f.points);
h.appendPoints(c.points);0<h.points.length&&(h.status="Intersection");return h})})("undefined"!==typeof exports?exports:this);
(function(e){function b(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}function d(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var c=e.fabric||(e.fabric={});c.Color?c.warn("fabric.Color is already defined."):(c.Color=b,c.Color.prototype={_tryParsingColor:function(a){var c;a in b.colorNameMap&&(a=b.colorNameMap[a]);"transparent"===a&&(c=[255,255,255,0]);c||(c=b.sourceFromHex(a));c||(c=b.sourceFromRgb(a));c||(c=b.sourceFromHsl(a));c||(c=[0,0,0,1]);c&&
this.setSource(c)},_rgbToHsl:function(a,b,d){a/=255;b/=255;d/=255;var f,g,h,e=c.util.array.max([a,b,d]);g=c.util.array.min([a,b,d]);h=(e+g)/2;if(e===g)f=g=0;else{var n=e-g;g=.5<h?n/(2-e-g):n/(e+g);switch(e){case a:f=(b-d)/n+(b<d?6:0);break;case b:f=(d-a)/n+2;break;case d:f=(a-b)/n+4}f/=6}return[Math.round(360*f),Math.round(100*g),Math.round(100*h)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+
a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),a=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var a=this.getSource(),b=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+b[0]+","+b[1]+"%,"+b[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),b,c;b=a[0].toString(16);b=1===b.length?"0"+b:b;c=a[1].toString(16);c=1===c.length?"0"+c:c;a=a[2].toString(16);a=1===
a.length?"0"+a:a;return b.toUpperCase()+c.toUpperCase()+a.toUpperCase()},toHexa:function(){var a;a=255*this.getSource()[3];a=a.toString(16);a=1===a.length?"0"+a:a;return this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var b=this.getSource();b[3]=a;this.setSource(b);return this},toGrayscale:function(){var a=this.getSource(),b=parseInt((.3*a[0]+.59*a[1]+.11*a[2]).toFixed(0),10);this.setSource([b,b,b,a[3]]);return this},toBlackWhite:function(a){var b=
this.getSource(),c=(.3*b[0]+.59*b[1]+.11*b[2]).toFixed(0),b=b[3],c=Number(c)<Number(a||127)?0:255;this.setSource([c,c,c,b]);return this},overlayWith:function(a){a instanceof b||(a=new b(a));var c=[],d=this.getAlpha(),f=this.getSource();a=a.getSource();for(var l=0;3>l;l++)c.push(Math.round(.5*f[l]+.5*a[l]));c[3]=d;this.setSource(c);return this}},c.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/,c.Color.reHSLa=
/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,c.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,c.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},c.Color.fromRgb=function(a){return b.fromSource(b.sourceFromRgb(a))},
c.Color.sourceFromRgb=function(a){if(a=a.match(b.reRGBa)){var c=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),d=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),f=parseInt(a[3],10)/(/%$/.test(a[3])?100:1)*(/%$/.test(a[3])?255:1);return[parseInt(c,10),parseInt(d,10),parseInt(f,10),a[4]?parseFloat(a[4]):1]}},c.Color.fromRgba=b.fromRgb,c.Color.fromHsl=function(a){return b.fromSource(b.sourceFromHsl(a))},c.Color.sourceFromHsl=function(a){if(a=a.match(b.reHSLa)){var c=
(parseFloat(a[1])%360+360)%360/360,h=parseFloat(a[2])/(/%$/.test(a[2])?100:1),f=parseFloat(a[3])/(/%$/.test(a[3])?100:1);if(0===h)f=h=c=f;else var l=.5>=f?f*(h+1):f+h-f*h,e=2*f-l,f=d(e,l,c+1/3),h=d(e,l,c),c=d(e,l,c-1/3);return[Math.round(255*f),Math.round(255*h),Math.round(255*c),a[4]?parseFloat(a[4]):1]}},c.Color.fromHsla=b.fromHsl,c.Color.fromHex=function(a){return b.fromSource(b.sourceFromHex(a))},c.Color.sourceFromHex=function(a){if(a.match(b.reHex)){var c=a.slice(a.indexOf("#")+1),d=3===c.length||
4===c.length,f=8===c.length||4===c.length;a=d?c.charAt(0)+c.charAt(0):c.substring(0,2);var l=d?c.charAt(1)+c.charAt(1):c.substring(2,4),e=d?c.charAt(2)+c.charAt(2):c.substring(4,6),c=f?d?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(a,16),parseInt(l,16),parseInt(e,16),parseFloat((parseInt(c,16)/255).toFixed(2))]}},c.Color.fromSource=function(a){var c=new b;c.setSource(a);return c})})("undefined"!==typeof exports?exports:this);
(function(){function e(c){var a=c.getAttribute("style"),b=c.getAttribute("offset")||0,d,f,b=parseFloat(b)/(/%$/.test(b)?100:1),b=0>b?0:1<b?1:b;if(a){a=a.split(/\s*;\s*/);""===a[a.length-1]&&a.pop();for(var l=a.length;l--;){var e=a[l].split(/\s*:\s*/),m=e[0].trim(),e=e[1].trim();"stop-color"===m?d=e:"stop-opacity"===m&&(f=e)}}d||(d=c.getAttribute("stop-color")||"rgb(0,0,0)");f||(f=c.getAttribute("stop-opacity"));d=new fabric.Color(d);c=d.getAlpha();f=isNaN(parseFloat(f))?1:parseFloat(f);f*=c;return{offset:b,
color:d.toRgb(),opacity:f}}function b(c,a,b){var d,f=0,g,e="",m;for(m in a){"Infinity"===a[m]?a[m]=1:"-Infinity"===a[m]&&(a[m]=0);d=parseFloat(a[m],10);g="string"===typeof a[m]&&/^\d+%$/.test(a[m])?.01:1;if("x1"===m||"x2"===m||"r2"===m)g*="objectBoundingBox"===b?c.width:1,f="objectBoundingBox"===b?c.left||0:0;else if("y1"===m||"y2"===m)g*="objectBoundingBox"===b?c.height:1,f="objectBoundingBox"===b?c.top||0:0;a[m]=d*g+f}"ellipse"===c.type&&null!==a.r2&&"objectBoundingBox"===b&&c.rx!==c.ry&&(c=c.ry/
c.rx,e=" scale(1, "+c+")",a.y1&&(a.y1/=c),a.y2&&(a.y2/=c));return e}var d=fabric.util.object.clone;fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(b){b||(b={});var a;this.id=fabric.Object.__uid++;this.type=b.type||"linear";a={x1:b.coords.x1||0,y1:b.coords.y1||0,x2:b.coords.x2||0,y2:b.coords.y2||0};"radial"===this.type&&(a.r1=b.coords.r1||0,a.r2=b.coords.r2||0);this.coords=a;this.colorStops=b.colorStops.slice();b.gradientTransform&&(this.gradientTransform=b.gradientTransform);
this.offsetX=b.offsetX||this.offsetX;this.offsetY=b.offsetY||this.offsetY},addColorStop:function(b){for(var a in b){var c=new fabric.Color(b[a]);this.colorStops.push({offset:parseFloat(a),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(b){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};fabric.util.populateWithProperties(this,
a,b);return a},toSVG:function(b){var a=d(this.coords,!0),c,h=d(this.colorStops,!0),f=a.r1>a.r2;h.sort(function(a,f){return a.offset-f.offset});if(!b.group||"path-group"!==b.group.type)for(var l in a)if("x1"===l||"x2"===l)a[l]+=this.offsetX-b.width/2;else if("y1"===l||"y2"===l)a[l]+=this.offsetY-b.height/2;b='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"';this.gradientTransform&&(b+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" ');"linear"===this.type?c=["<linearGradient ",
b,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(c=["<radialGradient ",b,' cx="',f?a.x1:a.x2,'" cy="',f?a.y1:a.y2,'" r="',f?a.r1:a.r2,'" fx="',f?a.x2:a.x1,'" fy="',f?a.y2:a.y1,'">\n']);if("radial"===this.type){if(f)for(h=h.concat(),h.reverse(),f=0;f<h.length;f++)h[f].offset=1-h[f].offset;f=Math.min(a.r1,a.r2);if(0<f)for(a=f/Math.max(a.r1,a.r2),f=0;f<h.length;f++)h[f].offset+=a*(1-h[f].offset)}for(f=0;f<h.length;f++)a=h[f],c.push("<stop ",'offset="',100*a.offset+
"%",'" style="stop-color:',a.color,null!==a.opacity?";stop-opacity: "+a.opacity:";",'"/>\n');c.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n");return c.join("")},toLive:function(b,a){var c,d,f=fabric.util.object.clone(this.coords);if(this.type){if(a.group&&"path-group"===a.group.type)for(d in f)if("x1"===d||"x2"===d)f[d]+=-this.offsetX+a.width/2;else if("y1"===d||"y2"===d)f[d]+=-this.offsetY+a.height/2;"linear"===this.type?c=b.createLinearGradient(f.x1,f.y1,f.x2,f.y2):"radial"===
this.type&&(c=b.createRadialGradient(f.x1,f.y1,f.r1,f.x2,f.y2,f.r2));d=0;for(f=this.colorStops.length;d<f;d++){var l=this.colorStops[d].color,e=this.colorStops[d].opacity,m=this.colorStops[d].offset;"undefined"!==typeof e&&(l=(new fabric.Color(l)).setAlpha(e).toRgba());c.addColorStop(m,l)}return c}}});fabric.util.object.extend(fabric.Gradient,{fromElement:function(c,a){var d=c.getElementsByTagName("stop"),h,f=c.getAttribute("gradientUnits")||"objectBoundingBox",l=c.getAttribute("gradientTransform"),
k=[],m;h="linearGradient"===c.nodeName||"LINEARGRADIENT"===c.nodeName?"linear":"radial";"linear"===h?m={x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}:"radial"===h&&(m={x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"});for(var n=d.length;n--;)k.push(e(d[n]));d=b(a,m,f);h=new fabric.Gradient({type:h,
coords:m,colorStops:k,offsetX:-a.left,offsetY:-a.top});if(l||""!==d)h.gradientTransform=fabric.parseTransformAttribute((l||"")+d);return h},forObject:function(c,a){a||(a={});b(c,a.coords,"userSpaceOnUse");return new fabric.Gradient(a)}})})();
(function(){var e=fabric.util.toFixed;fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(b,d){b||(b={});this.id=fabric.Object.__uid++;this.setOptions(b);if(!b.source||b.source&&"string"!==typeof b.source)d&&d(this);else if("undefined"!==typeof fabric.util.getFunctionBody(b.source))this.source=new Function(fabric.util.getFunctionBody(b.source)),d&&d(this);else{var c=this;this.source=fabric.util.createImage();fabric.util.loadImage(b.source,function(a){c.source=
a;d&&d(c)})}},toObject:function(b){var d=fabric.Object.NUM_FRACTION_DIGITS,c;"function"===typeof this.source?c=String(this.source):"string"===typeof this.source.src?c=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(c=this.source.toDataURL());d={type:"pattern",source:c,repeat:this.repeat,offsetX:e(this.offsetX,d),offsetY:e(this.offsetY,d)};fabric.util.populateWithProperties(this,d,b);return d},toSVG:function(b){var d="function"===typeof this.source?this.source():this.source,
c=d.width/b.width,a=d.height/b.height,g=this.offsetX/b.width;b=this.offsetY/b.height;var h="";if("repeat-x"===this.repeat||"no-repeat"===this.repeat)a=1;if("repeat-y"===this.repeat||"no-repeat"===this.repeat)c=1;d.src?h=d.src:d.toDataURL&&(h=d.toDataURL());return'<pattern id="SVGID_'+this.id+'" x="'+g+'" y="'+b+'" width="'+c+'" height="'+a+'">\n<image x="0" y="0" width="'+d.width+'" height="'+d.height+'" xlink:href="'+h+'"></image>\n</pattern>\n'},setOptions:function(b){for(var d in b)this[d]=b[d]},
toLive:function(b){var d="function"===typeof this.source?this.source():this.source;return d&&("undefined"===typeof d.src||d.complete&&0!==d.naturalWidth&&0!==d.naturalHeight)?b.createPattern(d,this.repeat):""}})})();
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.toFixed;b.Shadow?b.warn("fabric.Shadow is already defined."):(b.Shadow=b.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(c){"string"===typeof c&&(c=this._parseShadow(c));for(var a in c)this[a]=c[a];this.id=b.Object.__uid++},_parseShadow:function(c){c=c.trim();var a=b.Shadow.reOffsetsAndBlur.exec(c)||[];return{color:(c.replace(b.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),
offsetX:parseInt(a[1],10)||0,offsetY:parseInt(a[2],10)||0,blur:parseInt(a[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(c){var a=40,g=40,h=b.Object.NUM_FRACTION_DIGITS,f=b.util.rotateVector({x:this.offsetX,y:this.offsetY},b.util.degreesToRadians(-c.angle));c.width&&c.height&&(a=100*d((Math.abs(f.x)+this.blur)/c.width,h)+20,g=100*d((Math.abs(f.y)+this.blur)/c.height,h)+20);c.flipX&&(f.x*=-1);c.flipY&&(f.y*=-1);return'<filter id="SVGID_'+
this.id+'" y="-'+g+'%" height="'+(100+2*g)+'%" x="-'+a+'%" width="'+(100+2*a)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+d(this.blur?this.blur/2:0,h)+'"></feGaussianBlur>\n\t<feOffset dx="'+d(f.x,h)+'" dy="'+d(f.y,h)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+this.color+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,
blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var c={},a=b.Shadow.prototype;["color","blur","offsetX","offsetY","affectStroke"].forEach(function(b){this[b]!==a[b]&&(c[b]=this[b])},this);return c}}),b.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)})("undefined"!==typeof exports?exports:this);
(function(){if(fabric.StaticCanvas)fabric.warn("fabric.StaticCanvas is already defined.");else{var e=fabric.util.object.extend,b=fabric.util.getElementOffset,d=fabric.util.removeFromArray,c=fabric.util.toFixed,a=fabric.util.transformPoint,g=fabric.util.invertTransform,h=Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass(fabric.CommonMethods,{initialize:function(a,b){b||(b={});this._initStatic(a,b)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,
includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:fabric.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!1,_initStatic:function(a,b){var f=fabric.StaticCanvas.prototype.renderAll.bind(this);this._objects=[];this._createLowerCanvas(a);this._initOptions(b);this._setImageSmoothing();this.interactive||this._initRetinaScaling();
b.overlayImage&&this.setOverlayImage(b.overlayImage,f);b.backgroundImage&&this.setBackgroundImage(b.backgroundImage,f);b.backgroundColor&&this.setBackgroundColor(b.backgroundColor,f);b.overlayColor&&this.setOverlayColor(b.overlayColor,f);this.calcOffset()},_isRetinaScaling:function(){return 1!==fabric.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?fabric.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",
this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio))},calcOffset:function(){this._offset=b(this.lowerCanvasEl);return this},setOverlayImage:function(a,b,c){return this.__setBgOverlayImage("overlayImage",a,b,c)},setBackgroundImage:function(a,b,c){return this.__setBgOverlayImage("backgroundImage",a,b,c)},setOverlayColor:function(a,b){return this.__setBgOverlayColor("overlayColor",
a,b)},setBackgroundColor:function(a,b){return this.__setBgOverlayColor("backgroundColor",a,b)},_setImageSmoothing:function(){var a=this.getContext();a.imageSmoothingEnabled=a.imageSmoothingEnabled||a.webkitImageSmoothingEnabled||a.mozImageSmoothingEnabled||a.msImageSmoothingEnabled||a.oImageSmoothingEnabled;a.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(a,b,c,d){"string"===typeof b?fabric.util.loadImage(b,function(b){b&&(this[a]=new fabric.Image(b,d));c&&c(b)},this,
d&&d.crossOrigin):(d&&b.setOptions(d),this[a]=b,c&&c(b));return this},__setBgOverlayColor:function(a,b,c){this[a]=b;this._initGradient(b,a);this._initPattern(b,a,c);return this},_createCanvasElement:function(a){a=fabric.util.createCanvasElement(a);a.style||(a.style={});if(!a)throw h;if("undefined"===typeof a.getContext)throw h;return a},_initOptions:function(a){this._setOptions(a);this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0;this.height=this.height||parseInt(this.lowerCanvasEl.height,
10)||0;this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(a){this.lowerCanvasEl=fabric.util.getById(a)||this._createCanvasElement(a);fabric.util.addClass(this.lowerCanvasEl,"lower-canvas");this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl);this.contextContainer=
this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(a,b){return this.setDimensions({width:a},b)},setHeight:function(a,b){return this.setDimensions({height:a},b)},setDimensions:function(a,b){var f;b=b||{};for(var c in a)f=a[c],b.cssOnly||(this._setBackstoreDimension(c,a[c]),f+="px"),b.backstoreOnly||this._setCssDimension(c,f);this._initRetinaScaling();this._setImageSmoothing();this.calcOffset();b.cssOnly||this.renderAll();
return this},_setBackstoreDimension:function(a,b){this.lowerCanvasEl[a]=b;this.upperCanvasEl&&(this.upperCanvasEl[a]=b);this.cacheCanvasEl&&(this.cacheCanvasEl[a]=b);this[a]=b;return this},_setCssDimension:function(a,b){this.lowerCanvasEl.style[a]=b;this.upperCanvasEl&&(this.upperCanvasEl.style[a]=b);this.wrapperEl&&(this.wrapperEl.style[a]=b);return this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(a){var b=this._activeGroup;this.viewportTransform=a;for(var f=
0,c=this._objects.length;f<c;f++)a=this._objects[f],a.group||a.setCoords(!1,!0);b&&b.setCoords(!1,!0);this.calcViewportBoundaries();this.renderAll();return this},zoomToPoint:function(b,c){var f=b,d=this.viewportTransform.slice(0);b=a(b,g(this.viewportTransform));d[0]=c;d[3]=c;var l=a(b,d);d[4]+=f.x-l.x;d[5]+=f.y-l.y;return this.setViewportTransform(d)},setZoom:function(a){this.zoomToPoint(new fabric.Point(0,0),a);return this},absolutePan:function(a){var b=this.viewportTransform.slice(0);b[4]=-a.x;
b[5]=-a.y;return this.setViewportTransform(b)},relativePan:function(a){return this.absolutePan(new fabric.Point(-a.x-this.viewportTransform[4],-a.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(a){this.stateful&&a.setupState();a._set("canvas",this);a.setCoords();this.fire("object:added",{target:a});a.fire("added")},_onObjectRemoved:function(a){this.fire("object:removed",{target:a});a.fire("removed");delete a.canvas},clearContext:function(a){a.clearRect(0,
0,this.width,this.height);return this},getContext:function(){return this.contextContainer},clear:function(){this._objects.length=0;this.overlayImage=this.backgroundImage=null;this.overlayColor=this.backgroundColor="";this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1);this.clearContext(this.contextContainer);this.fire("canvas:cleared");this.renderAll();return this},renderAll:function(){this.renderCanvas(this.contextContainer,
this._objects);return this},calcViewportBoundaries:function(){var b={},c=this.getWidth(),d=this.getHeight(),h=g(this.viewportTransform);b.tl=a({x:0,y:0},h);b.br=a({x:c,y:d},h);b.tr=new fabric.Point(b.br.x,b.tl.y);b.bl=new fabric.Point(b.tl.x,b.br.y);return this.vptCoords=b},renderCanvas:function(a,b){this.calcViewportBoundaries();this.clearContext(a);this.fire("before:render");this.clipTo&&fabric.util.clipContext(this,a);this._renderBackground(a);a.save();a.transform.apply(a,this.viewportTransform);
this._renderObjects(a,b);a.restore();!this.controlsAboveOverlay&&this.interactive&&this.drawControls(a);this.clipTo&&a.restore();this._renderOverlay(a);this.controlsAboveOverlay&&this.interactive&&this.drawControls(a);this.fire("after:render")},_renderObjects:function(a,b){for(var c=0,f=b.length;c<f;++c)b[c]&&b[c].render(a)},_renderBackgroundOrOverlay:function(a,b){var c=this[b+"Color"];c&&(a.fillStyle=c.toLive?c.toLive(a,this):c,a.fillRect(c.offsetX||0,c.offsetY||0,this.width,this.height));if(c=
this[b+"Image"])this[b+"Vpt"]&&(a.save(),a.transform.apply(a,this.viewportTransform)),c.render(a),this[b+"Vpt"]&&a.restore()},_renderBackground:function(a){this._renderBackgroundOrOverlay(a,"background")},_renderOverlay:function(a){this._renderBackgroundOrOverlay(a,"overlay")},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(a){return this._centerObject(a,new fabric.Point(this.getCenter().left,a.getCenterPoint().y))},centerObjectV:function(a){return this._centerObject(a,
new fabric.Point(a.getCenterPoint().x,this.getCenter().top))},centerObject:function(a){var b=this.getCenter();return this._centerObject(a,new fabric.Point(b.left,b.top))},viewportCenterObject:function(a){var b=this.getVpCenter();return this._centerObject(a,b)},viewportCenterObjectH:function(a){var b=this.getVpCenter();this._centerObject(a,new fabric.Point(b.x,a.getCenterPoint().y));return this},viewportCenterObjectV:function(a){var b=this.getVpCenter();return this._centerObject(a,new fabric.Point(a.getCenterPoint().x,
b.y))},getVpCenter:function(){var b=this.getCenter(),c=g(this.viewportTransform);return a({x:b.left,y:b.top},c)},_centerObject:function(a,b){a.setPositionByOrigin(b,"center","center");this.renderAll();return this},toDatalessJSON:function(a){return this.toDatalessObject(a)},toObject:function(a){return this._toObjectMethod("toObject",a)},toDatalessObject:function(a){return this._toObjectMethod("toDatalessObject",a)},_toObjectMethod:function(a,b){var c={objects:this._toObjects(a,b)};e(c,this.__serializeBgOverlay(a,
b));fabric.util.populateWithProperties(this,c,b);return c},_toObjects:function(a,b){return this.getObjects().filter(function(a){return!a.excludeFromExport}).map(function(c){return this._toObject(c,a,b)},this)},_toObject:function(a,b,c){var f;this.includeDefaultValues||(f=a.includeDefaultValues,a.includeDefaultValues=!1);b=a[b](c);this.includeDefaultValues||(a.includeDefaultValues=f);return b},__serializeBgOverlay:function(a,b){var c={},f=this.backgroundImage,d=this.overlayImage;this.backgroundColor&&
(c.background=this.backgroundColor.toObject?this.backgroundColor.toObject(b):this.backgroundColor);this.overlayColor&&(c.overlay=this.overlayColor.toObject?this.overlayColor.toObject(b):this.overlayColor);f&&!f.excludeFromExport&&(c.backgroundImage=this._toObject(f,a,b));d&&!d.excludeFromExport&&(c.overlayImage=this._toObject(d,a,b));return c},svgViewportTransformation:!0,toSVG:function(a,b){a||(a={});var c=[];this._setSVGPreamble(c,a);this._setSVGHeader(c,a);this._setSVGBgOverlayColor(c,"backgroundColor");
this._setSVGBgOverlayImage(c,"backgroundImage",b);this._setSVGObjects(c,b);this._setSVGBgOverlayColor(c,"overlayColor");this._setSVGBgOverlayImage(c,"overlayImage",b);c.push("</svg>");return c.join("")},_setSVGPreamble:function(a,b){b.suppressPreamble||a.push('<?xml version="1.0" encoding="',b.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(a,b){var f=b.width||this.width,d=
b.height||this.height,g;g='viewBox="0 0 '+this.width+" "+this.height+'" ';var h=fabric.Object.NUM_FRACTION_DIGITS;b.viewBox?g='viewBox="'+b.viewBox.x+" "+b.viewBox.y+" "+b.viewBox.width+" "+b.viewBox.height+'" ':this.svgViewportTransformation&&(g=this.viewportTransform,g='viewBox="'+c(-g[4]/g[0],h)+" "+c(-g[5]/g[3],h)+" "+c(this.width/g[0],h)+" "+c(this.height/g[3],h)+'" ');a.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',
f,'" ','height="',d,'" ',g,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",fabric.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),"</defs>\n")},createSVGRefElementsMarkup:function(){var a=this;return["backgroundColor","overlayColor"].map(function(b){if((b=a[b])&&b.toLive)return b.toSVG(a,!1)}).join("")},createSVGFontFacesMarkup:function(){for(var a="",b={},c,d,g,h,e,t=fabric.fontPaths,r=this.getObjects(),v=0,A=r.length;v<A;v++)if(c=r[v],d=
c.fontFamily,-1!==c.type.indexOf("text")&&!b[d]&&t[d]&&(b[d]=!0,c.styles))for(h in c=c.styles,c)for(e in g=c[h],g)d=g[e],d=d.fontFamily,!b[d]&&t[d]&&(b[d]=!0);for(var w in b)a+=["\t\t@font-face {\n\t\t\tfont-family: '",w,"';\n\t\t\tsrc: url('",t[w],"');\n\t\t}\n"].join("");a&&(a=['\t<style type="text/css"><![CDATA[\n',a,"]]\x3e</style>\n"].join(""));return a},_setSVGObjects:function(a,b){for(var c,f=0,d=this.getObjects(),g=d.length;f<g;f++)c=d[f],c.excludeFromExport||this._setSVGObject(a,c,b)},_setSVGObject:function(a,
b,c){a.push(b.toSVG(c))},_setSVGBgOverlayImage:function(a,b,c){this[b]&&this[b].toSVG&&a.push(this[b].toSVG(c))},_setSVGBgOverlayColor:function(a,b){var c=this[b];if(c)if(c.toLive){var f=c.repeat;a.push('<rect transform="translate(',this.width/2,",",this.height/2,')"',' x="',c.offsetX-this.width/2,'" y="',c.offsetY-this.height/2,'" ','width="',"repeat-y"===f||"no-repeat"===f?c.source.width:this.width,'" height="',"repeat-x"===f||"no-repeat"===f?c.source.height:this.height,'" fill="url(#SVGID_'+c.id+
')"',"></rect>\n")}else a.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[b],'"',"></rect>\n")},sendToBack:function(a){if(!a)return this;var b=this._activeGroup,c;if(a===b)for(c=b._objects,a=c.length;a--;)b=c[a],d(this._objects,b),this._objects.unshift(b);else d(this._objects,a),this._objects.unshift(a);return this.renderAll&&this.renderAll()},bringToFront:function(a){if(!a)return this;var b=this._activeGroup,c;if(a===b)for(c=b._objects,a=0;a<c.length;a++)b=
c[a],d(this._objects,b),this._objects.push(b);else d(this._objects,a),this._objects.push(a);return this.renderAll&&this.renderAll()},sendBackwards:function(a,b){if(!a)return this;var c=this._activeGroup,f,g,h,e=0;if(a===c)for(h=c._objects,c=0;c<h.length;c++)f=h[c],g=this._objects.indexOf(f),g>0+e&&(--g,d(this._objects,f),this._objects.splice(g,0,f)),e++;else g=this._objects.indexOf(a),0!==g&&(g=this._findNewLowerIndex(a,g,b),d(this._objects,a),this._objects.splice(g,0,a));this.renderAll&&this.renderAll();
return this},_findNewLowerIndex:function(a,b,c){if(c)for(c=b,--b;0<=b;--b){if(a.intersectsWithObject(this._objects[b])||a.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(a)){c=b;break}}else c=b-1;return c},bringForward:function(a,b){if(!a)return this;var c=this._activeGroup,f,g,h,e=0;if(a===c)for(h=c._objects,c=h.length;c--;)f=h[c],g=this._objects.indexOf(f),g<this._objects.length-1-e&&(g+=1,d(this._objects,f),this._objects.splice(g,0,f)),e++;else g=this._objects.indexOf(a),
g!==this._objects.length-1&&(g=this._findNewUpperIndex(a,g,b),d(this._objects,a),this._objects.splice(g,0,a));this.renderAll&&this.renderAll();return this},_findNewUpperIndex:function(a,b,c){if(c)for(c=b,b+=1;b<this._objects.length;++b){if(a.intersectsWithObject(this._objects[b])||a.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(a)){c=b;break}}else c=b+1;return c},moveTo:function(a,b){d(this._objects,a);this._objects.splice(b,0,a);return this.renderAll&&this.renderAll()},
dispose:function(){this.clear();return this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}});e(fabric.StaticCanvas.prototype,fabric.Observable);e(fabric.StaticCanvas.prototype,fabric.Collection);e(fabric.StaticCanvas.prototype,fabric.DataURLExporter);e(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(a){var b=fabric.util.createCanvasElement();if(!b||!b.getContext)return null;var c=b.getContext("2d");
if(!c)return null;switch(a){case "getImageData":return"undefined"!==typeof c.getImageData;case "setLineDash":return"undefined"!==typeof c.setLineDash;case "toDataURL":return"undefined"!==typeof b.toDataURL;case "toDataURLWithQuality":try{return b.toDataURL("image/jpeg",0),!0}catch(m){}return!1;default:return null}}});fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}})();
fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(e){this.shadow=new fabric.Shadow(e);return this},_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color;e.lineWidth=this.width;e.lineCap=this.strokeLineCap;e.lineJoin=this.strokeLineJoin;this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&e.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var e=
this.canvas.contextTop,b=this.canvas.getZoom();e.shadowColor=this.shadow.color;e.shadowBlur=this.shadow.blur*b;e.shadowOffsetX=this.shadow.offsetX*b;e.shadowOffsetY=this.shadow.offsetY*b}},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="";e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}});
(function(){fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(e){this.canvas=e;this._points=[]},onMouseDown:function(e){this._prepareForDrawing(e);this._captureDrawingPath(e);this._render()},onMouseMove:function(e){this._captureDrawingPath(e);this.canvas.clearContext(this.canvas.contextTop);this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(e){e=new fabric.Point(e.x,e.y);this._reset();this._addPoint(e);this.canvas.contextTop.moveTo(e.x,
e.y)},_addPoint:function(e){1<this._points.length&&e.eq(this._points[this._points.length-1])||this._points.push(e)},_reset:function(){this._points.length=0;this._setBrushStyles();this._setShadow()},_captureDrawingPath:function(e){e=new fabric.Point(e.x,e.y);this._addPoint(e)},_render:function(){var e=this.canvas.contextTop,b,d;b=this.canvas.viewportTransform;var c=this._points[0],a=this._points[1];e.save();e.transform(b[0],b[1],b[2],b[3],b[4],b[5]);e.beginPath();2===this._points.length&&c.x===a.x&&
c.y===a.y&&(b=this.width/1E3,c=new fabric.Point(c.x,c.y),a=new fabric.Point(a.x,a.y),c.x-=b,a.x+=b);e.moveTo(c.x,c.y);b=1;for(d=this._points.length;b<d;b++)a=c.midPointFrom(a),e.quadraticCurveTo(c.x,c.y,a.x,a.y),c=this._points[b],a=this._points[b+1];e.lineTo(c.x,c.y);e.stroke();e.restore()},convertPointsToSVGPath:function(e){var b=[],d,c=this.width/1E3,a=new fabric.Point(e[0].x,e[0].y),g=new fabric.Point(e[1].x,e[1].y),h=e.length,f=1,l=1,k=2<h;k&&(f=e[2].x<g.x?-1:e[2].x===g.x?0:1,l=e[2].y<g.y?-1:
e[2].y===g.y?0:1);b.push("M ",a.x-f*c," ",a.y-l*c," ");for(d=1;d<h;d++){if(!a.eq(g)){var m=a.midPointFrom(g);b.push("Q ",a.x," ",a.y," ",m.x," ",m.y," ")}a=e[d];d+1<e.length&&(g=e[d+1])}k&&(f=a.x>e[d-2].x?1:a.x===e[d-2].x?0:-1,l=a.y>e[d-2].y?1:a.y===e[d-2].y?0:-1);b.push("L ",a.x+f*c," ",a.y+l*c);return b},createPath:function(e){e=new fabric.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,
originX:"center",originY:"center"});var b=new fabric.Point(e.left,e.top);e.originX=fabric.Object.prototype.originX;e.originY=fabric.Object.prototype.originY;b=e.translateToGivenOrigin(b,"center","center",e.originX,e.originY);e.top=b.y;e.left=b.x;this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow));return e},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var e=this.convertPointsToSVGPath(this._points).join("");"M 0 0 Q 0 0 0 0 L 0 0"===e?this.canvas.renderAll():(e=
this.createPath(e),this.canvas.add(e),e.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:e}))}})})();
fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(e){this.canvas=e;this.points=[]},drawDot:function(e){e=this.addPoint(e);var b=this.canvas.contextTop,d=this.canvas.viewportTransform;b.save();b.transform(d[0],d[1],d[2],d[3],d[4],d[5]);b.fillStyle=e.fill;b.beginPath();b.arc(e.x,e.y,e.radius,0,2*Math.PI,!1);b.closePath();b.fill();b.restore()},onMouseDown:function(e){this.points.length=0;this.canvas.clearContext(this.canvas.contextTop);this._setShadow();this.drawDot(e)},
onMouseMove:function(e){this.drawDot(e)},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var b=[],d=0,c=this.points.length;d<c;d++){var a=this.points[d],a=new fabric.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&a.setShadow(this.shadow);b.push(a)}b=new fabric.Group(b,{originX:"center",originY:"center"});b.canvas=this.canvas;this.canvas.add(b);this.canvas.fire("path:created",{path:b});this.canvas.clearContext(this.canvas.contextTop);
this._resetShadow();this.canvas.renderOnAddRemove=e;this.canvas.renderAll()},addPoint:function(e){e=new fabric.Point(e.x,e.y);var b=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=(new fabric.Color(this.color)).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();e.radius=b;e.fill=d;this.points.push(e);return e}});
fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e;this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0;this.canvas.clearContext(this.canvas.contextTop);this._setShadow();this.addSprayChunk(e);this.render()},onMouseMove:function(e){this.addSprayChunk(e);this.render()},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=
!1;for(var b=[],d=0,c=this.sprayChunks.length;d<c;d++)for(var a=this.sprayChunks[d],g=0,h=a.length;g<h;g++){var f=new fabric.Rect({width:a[g].width,height:a[g].width,left:a[g].x+1,top:a[g].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&f.setShadow(this.shadow);b.push(f)}this.optimizeOverlapping&&(b=this._getOptimizedRects(b));b=new fabric.Group(b,{originX:"center",originY:"center"});b.canvas=this.canvas;this.canvas.add(b);this.canvas.fire("path:created",{path:b});this.canvas.clearContext(this.canvas.contextTop);
this._resetShadow();this.canvas.renderOnAddRemove=e;this.canvas.renderAll()},_getOptimizedRects:function(e){for(var b={},d,c=0,a=e.length;c<a;c++)d=e[c].left+""+e[c].top,b[d]||(b[d]=e[c]);e=[];for(d in b)e.push(b[d]);return e},render:function(){var e=this.canvas.contextTop;e.fillStyle=this.color;var b=this.canvas.viewportTransform;e.save();e.transform(b[0],b[1],b[2],b[3],b[4],b[5]);for(var b=0,d=this.sprayChunkPoints.length;b<d;b++){var c=this.sprayChunkPoints[b];"undefined"!==typeof c.opacity&&(e.globalAlpha=
c.opacity);e.fillRect(c.x,c.y,c.width,c.width)}e.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];for(var b,d,c,a=this.width/2,g=0;g<this.density;g++)b=fabric.util.getRandomInt(e.x-a,e.x+a),d=fabric.util.getRandomInt(e.y-a,e.y+a),c=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,b=new fabric.Point(b,d),b.width=c,this.randomOpacity&&(b.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(b);
this.sprayChunks.push(this.sprayChunkPoints)}});
fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var e=fabric.document.createElement("canvas"),b=e.getContext("2d");e.width=e.height=25;b.fillStyle=this.color;b.beginPath();b.arc(10,10,10,0,2*Math.PI,!1);b.closePath();b.fill();return e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles");
this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){e=this.callSuper("createPath",e);var b=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-b.x,offsetY:-b.y});return e}});
(function(){var e=fabric.util.getPointer,b=fabric.util.degreesToRadians,d=fabric.util.radiansToDegrees,c=Math.atan2,a=Math.abs,g=fabric.StaticCanvas.supports("setLineDash");fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(a,b){b||(b={});this._initStatic(a,b);this._initInteractive();this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",
altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._groupSelector=
this._currentTransform=null;this._initWrapperElement();this._createUpperCanvas();this._initEventListeners();this._initRetinaScaling();this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this);this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveGroup(),b=this.getActiveObject(),c,d=[],g=[];if(!a&&!b||this.preserveObjectStacking)d=this._objects;else{for(var h=0,e=this._objects.length;h<e;h++)c=this._objects[h],a&&a.contains(c)||c===b?g.push(c):d.push(c);a&&(a._set("_objects",
g),d.push(a));b&&d.push(b)}return d},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1);this.renderCanvas(this.contextContainer,this._chooseObjectsToRender());return this},renderTop:function(){var a=this.contextTop;this.clearContext(a);this.selection&&this._groupSelector&&this._drawSelection(a);this.fire("after:render");this.contextTopDirty=!0;return this},_resetCurrentTransform:function(){var a=this._currentTransform;
a.target.set({scaleX:a.original.scaleX,scaleY:a.original.scaleY,skewX:a.original.skewX,skewY:a.original.skewY,left:a.original.left,top:a.original.top});this._shouldCenterTransform(a.target)?"rotate"===a.action?this._setOriginToCenter(a.target):("center"!==a.originX&&(a.mouseXSign="right"===a.originX?-1:1),"center"!==a.originY&&(a.mouseYSign="bottom"===a.originY?-1:1),a.originX="center",a.originY="center"):(a.originX=a.original.originX,a.originY=a.original.originY)},containsPoint:function(a,b,c){a=
c||this.getPointer(a,!0);c=b.group&&b.group===this.getActiveGroup()?this._normalizePointer(b.group,a):{x:a.x,y:a.y};return b.containsPoint(c)||b._findTargetCorner(a)},_normalizePointer:function(a,b){var c=a.calcTransformMatrix(),c=fabric.util.invertTransform(c),f=this.restorePointerVpt(b);return fabric.util.transformPoint(f,c)},isTargetTransparent:function(a,b,c){var f=a.hasBorders,d=a.transparentCorners,g=this.contextCache,h=a.selectionBackgroundColor;a.hasBorders=a.transparentCorners=!1;a.selectionBackgroundColor=
"";g.save();g.transform.apply(g,this.viewportTransform);a.render(g);g.restore();a.active&&a._renderControls(g);a.hasBorders=f;a.transparentCorners=d;a.selectionBackgroundColor=h;a=fabric.util.isTransparent(g,b,c,this.targetFindTolerance);this.clearContext(g);return a},_shouldClearSelection:function(a,b){var c=this.getActiveGroup(),f=this.getActiveObject();return!b||b&&c&&!c.contains(b)&&c!==b&&!a[this.selectionKey]||b&&!b.evented||b&&!b.selectable&&f&&f!==b},_shouldCenterTransform:function(a){if(a){var b=
this._currentTransform,c;"scale"===b.action||"scaleX"===b.action||"scaleY"===b.action?c=this.centeredScaling||a.centeredScaling:"rotate"===b.action&&(c=this.centeredRotation||a.centeredRotation);return c?!b.altKey:b.altKey}},_getOriginFromCorner:function(a,b){var c={x:a.originX,y:a.originY};if("ml"===b||"tl"===b||"bl"===b)c.x="right";else if("mr"===b||"tr"===b||"br"===b)c.x="left";if("tl"===b||"mt"===b||"tr"===b)c.y="bottom";else if("bl"===b||"mb"===b||"br"===b)c.y="top";return c},_getActionFromCorner:function(a,
b,c){if(!b)return"drag";switch(b){case "mtr":return"rotate";case "ml":case "mr":return c[this.altActionKey]?"skewY":"scaleX";case "mt":case "mb":return c[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(a,c){if(c){var f=this.getPointer(a),d=c._findTargetCorner(this.getPointer(a,!0)),g=this._getActionFromCorner(c,d,a),h=this._getOriginFromCorner(c,d);this._currentTransform={target:c,action:g,corner:d,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,
offsetX:f.x-c.left,offsetY:f.y-c.top,originX:h.x,originY:h.y,ex:f.x,ey:f.y,lastX:f.x,lastY:f.y,left:c.left,top:c.top,theta:b(c.angle),width:c.width*c.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:a.shiftKey,altKey:a[this.centeredKey]};this._currentTransform.original={left:c.left,top:c.top,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,originX:h.x,originY:h.y};this._resetCurrentTransform()}},_translateObject:function(a,b){var c=this._currentTransform,f=c.target,d=a-c.offsetX,c=b-c.offsetY,
g=!f.get("lockMovementX")&&f.left!==d,h=!f.get("lockMovementY")&&f.top!==c;g&&f.set("left",d);h&&f.set("top",c);return g||h},_changeSkewTransformOrigin:function(a,b,c){var f="originX",d={0:"center"},g=b.target.skewX,h="left",e="right",l="mt"===b.corner||"ml"===b.corner?1:-1,k=1;a=0<a?1:-1;"y"===c&&(g=b.target.skewY,h="top",e="bottom",f="originY");d[-1]=h;d[1]=e;b.target.flipX&&(k*=-1);b.target.flipY&&(k*=-1);0===g?(b.skewSign=-l*a*k,b[f]=d[-a]):(g=0<g?1:-1,b.skewSign=g,b[f]=d[g*l*k])},_skewObject:function(a,
b,c){var f=this._currentTransform,d=f.target,g=d.get("lockSkewingX"),h=d.get("lockSkewingY");if(g&&"x"===c||h&&"y"===c)return!1;var h=d.getCenterPoint(),e=d.toLocalPoint(new fabric.Point(a,b),"center","center")[c],l=d.toLocalPoint(new fabric.Point(f.lastX,f.lastY),"center","center")[c],g=d._getTransformedDimensions();this._changeSkewTransformOrigin(e-l,f,c);e=d.toLocalPoint(new fabric.Point(a,b),f.originX,f.originY)[c];h=d.translateToOriginPoint(h,f.originX,f.originY);c=this._setObjectSkew(e,f,c,
g);f.lastX=a;f.lastY=b;d.setPositionByOrigin(h,f.originX,f.originY);return c},_setObjectSkew:function(a,b,c,d){var f=b.target,g=b.skewSign,h,e,l,k;"x"===c?(b="y",l="Y",h="X",e=0,k=f.skewY):(b="x",l="X",h="Y",e=f.skewX,k=0);e=f._getTransformedDimensions(e,k);a=2*Math.abs(a)-e[c];2>=a?c=0:(c=g*Math.atan(a/f["scale"+h]/(e[b]/f["scale"+l])),c=fabric.util.radiansToDegrees(c));a=f["skew"+h]!==c;f.set("skew"+h,c);0!==f["skew"+l]&&(h=f._getTransformedDimensions(),c=d[b]/h[b]*f["scale"+l],f.set("scale"+l,
c));return a},_scaleObject:function(a,b,c){var f=this._currentTransform,d=f.target,g=d.get("lockScalingX"),h=d.get("lockScalingY"),e=d.get("lockScalingFlip");if(g&&h)return!1;var l=d.translateToOriginPoint(d.getCenterPoint(),f.originX,f.originY);a=d.toLocalPoint(new fabric.Point(a,b),f.originX,f.originY);b=d._getTransformedDimensions();this._setLocalMouse(a,f);c=this._setObjectScale(a,f,g,h,c,e,b);d.setPositionByOrigin(l,f.originX,f.originY);return c},_setObjectScale:function(a,b,c,d,g,h,e){var f=
b.target,l=!1,k=!1,m=!1,n,p,q,u;q=a.x*f.scaleX/e.x;u=a.y*f.scaleY/e.y;n=f.scaleX!==q;p=f.scaleY!==u;h&&0>=q&&q<f.scaleX&&(l=!0);h&&0>=u&&u<f.scaleY&&(k=!0);"equally"!==g||c||d?g?"x"!==g||f.get("lockUniScaling")?"y"!==g||f.get("lockUniScaling")||k||d||f.set("scaleY",u)&&(m=m||p):l||c||f.set("scaleX",q)&&(m=m||n):(l||c||f.set("scaleX",q)&&(m=m||n),k||d||f.set("scaleY",u)&&(m=m||p)):l||k||(m=this._scaleObjectEqually(a,f,b,e));b.newScaleX=q;b.newScaleY=u;l||k||this._flipObject(b,g);return m},_scaleObjectEqually:function(a,
b,c,d){var f=a.y+a.x;d=d.y*c.original.scaleY/b.scaleY+d.x*c.original.scaleX/b.scaleX;var g=a.y/Math.abs(a.y);c.newScaleX=a.x/Math.abs(a.x)*Math.abs(c.original.scaleX*f/d);c.newScaleY=g*Math.abs(c.original.scaleY*f/d);a=c.newScaleX!==b.scaleX||c.newScaleY!==b.scaleY;b.set("scaleX",c.newScaleX);b.set("scaleY",c.newScaleY);return a},_flipObject:function(a,b){0>a.newScaleX&&"y"!==b&&("left"===a.originX?a.originX="right":"right"===a.originX&&(a.originX="left"));0>a.newScaleY&&"x"!==b&&("top"===a.originY?
a.originY="bottom":"bottom"===a.originY&&(a.originY="top"))},_setLocalMouse:function(b,c){var d=c.target,f=this.getZoom(),d=d.padding/f;"right"===c.originX?b.x*=-1:"center"===c.originX&&(b.x=2*b.x*c.mouseXSign,0>b.x&&(c.mouseXSign=-c.mouseXSign));"bottom"===c.originY?b.y*=-1:"center"===c.originY&&(b.y=2*b.y*c.mouseYSign,0>b.y&&(c.mouseYSign=-c.mouseYSign));a(b.x)>d?b.x=0>b.x?b.x+d:b.x-d:b.x=0;a(b.y)>d?b.y=0>b.y?b.y+d:b.y-d:b.y=0},_rotateObject:function(a,b){var f=this._currentTransform;if(f.target.get("lockRotation"))return!1;
var g=c(f.ey-f.top,f.ex-f.left),h=c(b-f.top,a-f.left),g=d(h-g+f.theta),h=!0;if(0<f.target.snapAngle){var e=f.target.snapAngle,l=f.target.snapThreshold||e,t=Math.ceil(g/e)*e,e=Math.floor(g/e)*e;Math.abs(g-e)<l?g=e:Math.abs(g-t)<l&&(g=t)}0>g&&(g=360+g);g%=360;f.target.angle===g?h=!1:f.target.angle=g;return h},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_resetObjectTransform:function(a){a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.setAngle(0)},_drawSelection:function(b){var c=this._groupSelector,
d=c.left,f=c.top,h=a(d),e=a(f);this.selectionColor&&(b.fillStyle=this.selectionColor,b.fillRect(c.ex-(0<d?0:-d),c.ey-(0<f?0:-f),h,e));this.selectionLineWidth&&this.selectionBorderColor&&(b.lineWidth=this.selectionLineWidth,b.strokeStyle=this.selectionBorderColor,1<this.selectionDashArray.length&&!g?(d=c.ex+.5-(0<d?0:h),c=c.ey+.5-(0<f?0:e),b.beginPath(),fabric.util.drawDashedLine(b,d,c,d+h,c,this.selectionDashArray),fabric.util.drawDashedLine(b,d,c+e-1,d+h,c+e-1,this.selectionDashArray),fabric.util.drawDashedLine(b,
d,c,d,c+e,this.selectionDashArray),fabric.util.drawDashedLine(b,d+h-1,c,d+h-1,c+e,this.selectionDashArray),b.closePath(),b.stroke()):(fabric.Object.prototype._setLineDash.call(this,b,this.selectionDashArray),b.strokeRect(c.ex+.5-(0<d?0:h),c.ey+.5-(0<f?0:e),h,e)))},findTarget:function(a,b){if(!this.skipTargetFind){var c=this.getPointer(a,!0),d=this.getActiveGroup(),f=this.getActiveObject(),g,h;this.targets=[];if(d&&!b&&d===this._searchPossibleTargets([d],c))return this._fireOverOutEvents(d,a),d;if(f&&
f._findTargetCorner(c))return this._fireOverOutEvents(f,a),f;if(f&&f===this._searchPossibleTargets([f],c))if(this.preserveObjectStacking)g=f,h=this.targets,this.targets=[];else return this._fireOverOutEvents(f,a),f;c=this._searchPossibleTargets(this._objects,c);a[this.altSelectionKey]&&c&&g&&c!==g&&(c=g,this.targets=h);this._fireOverOutEvents(c,a);return c}},_fireOverOutEvents:function(a,b){var c,d,f=this._hoveredTarget;f!==a&&(c={e:b,target:a,previousTarget:this._hoveredTarget},d={e:b,target:this._hoveredTarget,
nextTarget:a},this._hoveredTarget=a);a?f!==a&&(f&&(this.fire("mouse:out",d),f.fire("mouseout",d)),this.fire("mouse:over",c),a.fire("mouseover",c)):f&&(this.fire("mouse:out",d),f.fire("mouseout",d))},_checkTarget:function(a,b){if(b&&b.visible&&b.evented&&this.containsPoint(null,b,a)&&(!this.perPixelTargetFind&&!b.perPixelTargetFind||b.isEditing||!this.isTargetTransparent(b,a.x,a.y)))return!0},_searchPossibleTargets:function(a,b){for(var c,d=a.length;d--;)if(this._checkTarget(b,a[d])){c=a[d];"group"===
c.type&&c.subTargetCheck&&(d=this._normalizePointer(c,b),(d=this._searchPossibleTargets(c._objects,d))&&this.targets.push(d));break}return c},restorePointerVpt:function(a){return fabric.util.transformPoint(a,fabric.util.invertTransform(this.viewportTransform))},getPointer:function(a,b,c){c||(c=this.upperCanvasEl);a=e(a);var d=c.getBoundingClientRect(),f=d.width||0,g=d.height||0;f&&g||("top"in d&&"bottom"in d&&(g=Math.abs(d.top-d.bottom)),"right"in d&&"left"in d&&(f=Math.abs(d.right-d.left)));this.calcOffset();
a.x-=this._offset.left;a.y-=this._offset.top;b||(a=this.restorePointerVpt(a));0===f||0===g?c=b=1:(b=c.width/f,c=c.height/g);return{x:a.x*b,y:a.y*c}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement();fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+a);this.wrapperEl.appendChild(this.upperCanvasEl);this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl);
this._applyCanvasStyle(this.upperCanvasEl);this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement();this.cacheCanvasEl.setAttribute("width",this.width);this.cacheCanvasEl.setAttribute("height",this.height);this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{"class":this.containerClass});fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+
"px",height:this.getHeight()+"px",position:"relative"});fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var b=this.getWidth()||a.width,c=this.getHeight()||a.height;fabric.util.setStyle(a,{position:"absolute",width:b+"px",height:c+"px",left:0,top:0,"touch-action":"none"});a.width=b;a.height=c;fabric.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,b){b.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},
_setActiveObject:function(a){var b=this._activeObject;if(b&&(b.set("active",!1),a!==b&&b.onDeselect&&"function"===typeof b.onDeselect))b.onDeselect();this._activeObject=a;a.set("active",!0)},setActiveObject:function(a,b){var c=this.getActiveObject();c&&c!==a&&c.fire("deselected",{e:b});this._setActiveObject(a);this.fire("object:selected",{target:a,e:b});a.fire("selected",{e:b});this.renderAll();return this},getActiveObject:function(){return this._activeObject},_onObjectRemoved:function(a){this.getActiveObject()===
a&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected"));this._hoveredTarget===a&&(this._hoveredTarget=null);this.callSuper("_onObjectRemoved",a)},_discardActiveObject:function(){var a=this._activeObject;if(a&&(a.set("active",!1),a.onDeselect&&"function"===typeof a.onDeselect))a.onDeselect();this._activeObject=null},discardActiveObject:function(a){var b=this._activeObject;b&&(this.fire("before:selection:cleared",
{target:b,e:a}),this._discardActiveObject(),this.fire("selection:cleared",{e:a}),b.fire("deselected",{e:a}));return this},_setActiveGroup:function(a){(this._activeGroup=a)&&a.set("active",!0)},setActiveGroup:function(a,b){this._setActiveGroup(a);a&&(this.fire("object:selected",{target:a,e:b}),a.fire("selected",{e:b}));return this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var a=this.getActiveGroup();a&&a.destroy();this.setActiveGroup(null)},discardActiveGroup:function(a){var b=
this.getActiveGroup();b&&(this.fire("before:selection:cleared",{e:a,target:b}),this._discardActiveGroup(),this.fire("selection:cleared",{e:a}));return this},deactivateAll:function(){for(var a=this.getObjects(),b=0,c=a.length,d;b<c;b++)(d=a[b])&&d.set("active",!1);this._discardActiveGroup();this._discardActiveObject();return this},deactivateAllWithDispatch:function(a){for(var b=this.getObjects(),c=0,d=b.length,f;c<d;c++)(f=b[c])&&f.set("active",!1);this.discardActiveGroup(a);this.discardActiveObject(a);
return this},dispose:function(){fabric.StaticCanvas.prototype.dispose.call(this);var a=this.wrapperEl;this.removeListeners();a.removeChild(this.upperCanvasEl);a.removeChild(this.lowerCanvasEl);delete this.upperCanvasEl;a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl);delete this.wrapperEl;return this},clear:function(){this.discardActiveGroup();this.discardActiveObject();this.clearContext(this.contextTop);return this.callSuper("clear")},drawControls:function(a){var b=this.getActiveGroup();
b?b._renderControls(a):this._drawObjectsControls(a)},_drawObjectsControls:function(a){for(var b=0,c=this._objects.length;b<c;++b)this._objects[b]&&this._objects[b].active&&this._objects[b]._renderControls(a)},_toObject:function(a,b,c){var d=this._realizeGroupTransformOnObject(a);b=this.callSuper("_toObject",a,b,c);this._unwindGroupTransformOnObject(a,d);return b},_realizeGroupTransformOnObject:function(a){if(a.group&&a.group===this.getActiveGroup()){var b={};"angle flipX flipY left scaleX scaleY skewX skewY top".split(" ").forEach(function(c){b[c]=
a[c]});this.getActiveGroup().realizeTransform(a);return b}return null},_unwindGroupTransformOnObject:function(a,b){b&&a.set(b)},_setSVGObject:function(a,b,c){var d;d=this._realizeGroupTransformOnObject(b);this.callSuper("_setSVGObject",a,b,c);this._unwindGroupTransformOnObject(b,d)}});for(var h in fabric.StaticCanvas)"prototype"!==h&&(fabric.Canvas[h]=fabric.StaticCanvas[h]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){});fabric.Element=fabric.Canvas})();
(function(){function e(a,b){return"which"in a?a.which===b:a.button===b-1}var b={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},d=fabric.util.addListener,c=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:"n-resize ne-resize e-resize se-resize s-resize sw-resize w-resize nw-resize".split(" "),_initEventListeners:function(){this.removeListeners();this._bindEvents();d(fabric.window,"resize",this._onResize);d(this.upperCanvasEl,"mousedown",this._onMouseDown);d(this.upperCanvasEl,
"mousemove",this._onMouseMove);d(this.upperCanvasEl,"mouseout",this._onMouseOut);d(this.upperCanvasEl,"mouseenter",this._onMouseEnter);d(this.upperCanvasEl,"wheel",this._onMouseWheel);d(this.upperCanvasEl,"contextmenu",this._onContextMenu);d(this.upperCanvasEl,"touchstart",this._onMouseDown,{passive:!1});d(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1});"undefined"!==typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,
"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this.eventsBinded||(this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),
this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this.eventsBinded=!0)},removeListeners:function(){c(fabric.window,"resize",this._onResize);c(this.upperCanvasEl,"mousedown",this._onMouseDown);c(this.upperCanvasEl,
"mousemove",this._onMouseMove);c(this.upperCanvasEl,"mouseout",this._onMouseOut);c(this.upperCanvasEl,"mouseenter",this._onMouseEnter);c(this.upperCanvasEl,"wheel",this._onMouseWheel);c(this.upperCanvasEl,"contextmenu",this._onContextMenu);c(this.upperCanvasEl,"touchstart",this._onMouseDown);c(this.upperCanvasEl,"touchmove",this._onMouseMove);"undefined"!==typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),
eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(a,b){this.__onTransformGesture&&this.__onTransformGesture(a,b)},_onDrag:function(a,b){this.__onDrag&&this.__onDrag(a,b)},_onMouseWheel:function(a){this.__onMouseWheel(a)},_onMouseOut:function(a){var b=this._hoveredTarget;this.fire("mouse:out",{target:b,e:a});this._hoveredTarget=null;
b&&b.fire("mouseout",{e:a});this._iTextInstances&&this._iTextInstances.forEach(function(a){a.isEditing&&a.hiddenTextarea.focus()})},_onMouseEnter:function(a){this.findTarget(a)||(this.fire("mouse:over",{target:null,e:a}),this._hoveredTarget=null)},_onOrientationChange:function(a,b){this.__onOrientationChange&&this.__onOrientationChange(a,b)},_onShake:function(a,b){this.__onShake&&this.__onShake(a,b)},_onLongPress:function(a,b){this.__onLongPress&&this.__onLongPress(a,b)},_onContextMenu:function(a){this.stopContextMenu&&
(a.stopPropagation(),a.preventDefault());return!1},_onMouseDown:function(a){this.__onMouseDown(a);d(fabric.document,"touchend",this._onMouseUp,{passive:!1});d(fabric.document,"touchmove",this._onMouseMove,{passive:!1});c(this.upperCanvasEl,"mousemove",this._onMouseMove);c(this.upperCanvasEl,"touchmove",this._onMouseMove);"touchstart"===a.type?c(this.upperCanvasEl,"mousedown",this._onMouseDown):(d(fabric.document,"mouseup",this._onMouseUp),d(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(a){this.__onMouseUp(a);
c(fabric.document,"mouseup",this._onMouseUp);c(fabric.document,"touchend",this._onMouseUp);c(fabric.document,"mousemove",this._onMouseMove);c(fabric.document,"touchmove",this._onMouseMove);d(this.upperCanvasEl,"mousemove",this._onMouseMove);d(this.upperCanvasEl,"touchmove",this._onMouseMove,{passive:!1});if("touchend"===a.type){var b=this;setTimeout(function(){d(b.upperCanvasEl,"mousedown",b._onMouseDown)},400)}},_onMouseMove:function(a){!this.allowTouchScrolling&&a.preventDefault&&a.preventDefault();
this.__onMouseMove(a)},_onResize:function(){this.calcOffset()},_shouldRender:function(a,b){var c=this.getActiveGroup()||this.getActiveObject();return c&&c.isEditing&&a===c?!1:!!(a&&(a.isMoving||a!==c)||!a&&c||!a&&!c&&!this._groupSelector||b&&this._previousPointer&&this.selection&&(b.x!==this._previousPointer.x||b.y!==this._previousPointer.y))},__onMouseUp:function(a){var b;if(e(a,3))this.fireRightClick&&this._handleEvent(a,"up",b,3);else if(e(a,2))this.fireMiddleClick&&this._handleEvent(a,"up",b,
2);else if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(a);else{b=!0;var c=this._currentTransform,d=this._groupSelector,d=!d||0===d.left&&0===d.top;c&&(this._finalizeCurrentTransform(a),b=!c.actionPerformed);b=b?this.findTarget(a,!0):c.target;c=this._shouldRender(b,this.getPointer(a));b||!d?this._maybeGroupObjects(a):this._currentTransform=this._groupSelector=null;b&&(b.isMoving=!1);this._setCursorFromEvent(a,b);this._handleEvent(a,"up",b?b:null,1,d);b&&(b.__corner=0);
c&&this.renderAll()}},_handleEvent:function(a,b,c,d,e){var f="undefined"===typeof c?this.findTarget(a):c;c=this.targets||[];a={e:a,target:f,subTargets:c,button:d||1,isClick:e||!1};this.fire("mouse:"+b,a);f&&f.fire("mouse"+b,a);for(d=0;d<c.length;d++)c[d].fire("mouse"+b,a)},_finalizeCurrentTransform:function(a){var b=this._currentTransform,c=b.target;c._scaling&&(c._scaling=!1);c.setCoords();this._restoreOriginXY(c);if(b.actionPerformed||this.stateful&&c.hasStateChanged())this.fire("object:modified",
{target:c,e:a}),c.fire("modified",{e:a})},_restoreOriginXY:function(a){if(this._previousOriginX&&this._previousOriginY){var b=a.translateToOriginPoint(a.getCenterPoint(),this._previousOriginX,this._previousOriginY);a.originX=this._previousOriginX;a.originY=this._previousOriginY;a.left=b.x;a.top=b.y;this._previousOriginY=this._previousOriginX=null}},_onMouseDownInDrawingMode:function(a){this._isCurrentlyDrawing=!0;this.discardActiveObject(a).renderAll();this.clipTo&&fabric.util.clipContext(this,this.contextTop);
var b=this.getPointer(a);this.freeDrawingBrush.onMouseDown(b);this._handleEvent(a,"down")},_onMouseMoveInDrawingMode:function(a){if(this._isCurrentlyDrawing){var b=this.getPointer(a);this.freeDrawingBrush.onMouseMove(b)}this.setCursor(this.freeDrawingCursor);this._handleEvent(a,"move")},_onMouseUpInDrawingMode:function(a){this._isCurrentlyDrawing=!1;this.clipTo&&this.contextTop.restore();this.freeDrawingBrush.onMouseUp();this._handleEvent(a,"up")},__onMouseDown:function(a){var b=this.findTarget(a);
if(e(a,3))this.fireRightClick&&this._handleEvent(a,"down",b?b:null,3);else if(e(a,2))this.fireMiddleClick&&this._handleEvent(a,"down",b?b:null,2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(a);else if(!this._currentTransform){var c=this.getPointer(a,!0);this._previousPointer=c;var d=this._shouldRender(b,c),l=this._shouldGroup(a,b);this._shouldClearSelection(a,b)?this.deactivateAllWithDispatch(a):l&&(this._handleGrouping(a,b),b=this.getActiveGroup());!this.selection||b&&(b.selectable||
b.isEditing)||(this._groupSelector={ex:c.x,ey:c.y,top:0,left:0});b&&(!b.selectable||!b.__corner&&l||(this._beforeTransform(a,b),this._setupCurrentTransform(a,b)),c=this.getActiveObject(),b!==this.getActiveGroup()&&b!==c&&(this.deactivateAll(),b.selectable&&(c&&c.fire("deselected",{e:a}),this.setActiveObject(b,a))));this._handleEvent(a,"down",b?b:null);d&&this.renderAll()}},_beforeTransform:function(a,b){this.stateful&&b.saveState();if(b._findTargetCorner(this.getPointer(a)))this.onBeforeScaleRotate(b)},
_setOriginToCenter:function(a){this._previousOriginX=this._currentTransform.target.originX;this._previousOriginY=this._currentTransform.target.originY;var b=a.getCenterPoint();a.originX="center";a.originY="center";a.left=b.x;a.top=b.y;this._currentTransform.left=a.left;this._currentTransform.top=a.top},_setCenterToOrigin:function(a){var b=a.translateToOriginPoint(a.getCenterPoint(),this._previousOriginX,this._previousOriginY);a.originX=this._previousOriginX;a.originY=this._previousOriginY;a.left=
b.x;a.top=b.y;this._previousOriginY=this._previousOriginX=null},__onMouseMove:function(a){var b,c;if(this.isDrawingMode)this._onMouseMoveInDrawingMode(a);else if(!("undefined"!==typeof a.touches&&1<a.touches.length)){var d=this._groupSelector;d?(c=this.getPointer(a,!0),d.left=c.x-d.ex,d.top=c.y-d.ey,this.renderTop()):this._currentTransform?this._transformObject(a):(b=this.findTarget(a),this._setCursorFromEvent(a,b));this._handleEvent(a,"move",b?b:null)}},__onMouseWheel:function(a){this._handleEvent(a,
"wheel")},_transformObject:function(a){var b=this.getPointer(a),c=this._currentTransform;c.reset=!1;c.target.isMoving=!0;c.shiftKey=a.shiftKey;c.altKey=a[this.centeredKey];this._beforeScaleTransform(a,c);this._performTransformAction(a,c,b);c.actionPerformed&&this.renderAll()},_performTransformAction:function(a,b,c){var d=c.x,g=c.y;c=b.target;var e=b.action;if("rotate"===e)(d=this._rotateObject(d,g))&&this._fire("rotating",c,a);else if("scale"===e)(d=this._onScale(a,b,d,g))&&this._fire("scaling",c,
a);else if("scaleX"===e)(d=this._scaleObject(d,g,"x"))&&this._fire("scaling",c,a);else if("scaleY"===e)(d=this._scaleObject(d,g,"y"))&&this._fire("scaling",c,a);else if("skewX"===e)(d=this._skewObject(d,g,"x"))&&this._fire("skewing",c,a);else if("skewY"===e)(d=this._skewObject(d,g,"y"))&&this._fire("skewing",c,a);else if(d=this._translateObject(d,g))this._fire("moving",c,a),this.setCursor(c.moveCursor||this.moveCursor);b.actionPerformed=b.actionPerformed||d},_fire:function(a,b,c){this.fire("object:"+
a,{target:b,e:c});b.fire(a,{e:c})},_beforeScaleTransform:function(a,b){if("scale"===b.action||"scaleX"===b.action||"scaleY"===b.action){var c=this._shouldCenterTransform(b.target);if(c&&("center"!==b.originX||"center"!==b.originY)||!c&&"center"===b.originX&&"center"===b.originY)this._resetCurrentTransform(),b.reset=!0}},_onScale:function(a,b,c,d){if(!a[this.uniScaleKey]&&!this.uniScaleTransform||b.target.get("lockUniScaling"))return b.reset||"scale"!==b.currentAction||this._resetCurrentTransform(),
b.currentAction="scaleEqually",this._scaleObject(c,d,"equally");b.currentAction="scale";return this._scaleObject(c,d)},_setCursorFromEvent:function(a,b){if(!b)return this.setCursor(this.defaultCursor),!1;var c=b.hoverCursor||this.hoverCursor,d=this.getActiveGroup();(d=b._findTargetCorner&&(!d||!d.contains(b))&&b._findTargetCorner(this.getPointer(a,!0)))?this._setCornerCursor(d,b,a):this.setCursor(c);return!0},_setCornerCursor:function(a,c,d){if(a in b)this.setCursor(this._getRotatedCornerCursor(a,
c,d));else if("mtr"===a&&c.hasRotatingPoint)this.setCursor(this.rotationCursor);else return this.setCursor(this.defaultCursor),!1},_getRotatedCornerCursor:function(a,c,d){c=Math.round(c.getAngle()%360/45);0>c&&(c+=8);c+=b[a];d[this.altActionKey]&&0===b[a]%2&&(c+=2);return this.cursorMap[c%8]}})})();
(function(){var e=Math.min,b=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(b,c){var a=this.getActiveObject();return b[this.selectionKey]&&c&&c.selectable&&(this.getActiveGroup()||a&&a!==c)&&this.selection},_handleGrouping:function(b,c){var a=this.getActiveGroup();if(c===a&&(c=this.findTarget(b,!0),!c))return;a?this._updateActiveGroup(c,b):this._createActiveGroup(c,b);this._activeGroup&&this._activeGroup.saveCoords()},_updateActiveGroup:function(b,c){var a=this.getActiveGroup();
if(a.contains(b)){if(a.removeWithUpdate(b),b.set("active",!1),1===a.size()){this.discardActiveGroup(c);this.setActiveObject(a.item(0),c);return}}else a.addWithUpdate(b);this.fire("selection:created",{target:a,e:c});a.set("active",!0)},_createActiveGroup:function(b,c){if(this._activeObject&&b!==this._activeObject){var a=this._createGroup(b);a.addWithUpdate();this.setActiveGroup(a,c);this._activeObject=null;this.fire("selection:created",{target:a,e:c})}b.set("active",!0)},_createGroup:function(b){var c=
this.getObjects();b=c.indexOf(this._activeObject)<c.indexOf(b)?[this._activeObject,b]:[b,this._activeObject];this._activeObject.isEditing&&this._activeObject.exitEditing();return new fabric.Group(b,{canvas:this})},_groupSelectedObjects:function(b){var c=this._collectObjects();1===c.length?this.setActiveObject(c[0],b):1<c.length&&(c=new fabric.Group(c.reverse(),{canvas:this}),c.addWithUpdate(),this.setActiveGroup(c,b),c.saveCoords(),this.fire("selection:created",{target:c,e:b}),this.renderAll())},
_collectObjects:function(){var d=[],c;c=this._groupSelector.ex;for(var a=this._groupSelector.ey,g=c+this._groupSelector.left,h=a+this._groupSelector.top,f=new fabric.Point(e(c,g),e(a,h)),l=new fabric.Point(b(c,g),b(a,h)),a=c===g&&a===h,g=this._objects.length;g--&&!((c=this._objects[g])&&c.selectable&&c.visible&&(c.intersectsWithRect(f,l)||c.isContainedWithinRect(f,l)||c.containsPoint(f)||c.containsPoint(l))&&(c.set("active",!0),d.push(c),a)););return d},_maybeGroupObjects:function(b){this.selection&&
this._groupSelector&&this._groupSelectedObjects(b);if(b=this.getActiveGroup())b.setObjectsCoords().setCoords(),b.isMoving=!1,this.setCursor(this.defaultCursor);this._currentTransform=this._groupSelector=null}})})();
(function(){var e=fabric.StaticCanvas.supports("toDataURLWithQuality");fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(b){b||(b={});return this.__toDataURLWithMultiplier(b.format||"png",b.quality||1,{left:b.left||0,top:b.top||0,width:b.width||0,height:b.height||0},b.multiplier||1)},__toDataURLWithMultiplier:function(b,d,c,a){var g=this.getWidth(),e=this.getHeight(),f=(c.width||this.getWidth())*a,l=(c.height||this.getHeight())*a,k=this.getZoom()*a,m=this.viewportTransform,
n=this.interactive;this.viewportTransform=[k,0,0,k,(m[4]-c.left)*a,(m[5]-c.top)*a];this.interactive&&(this.interactive=!1);g!==f||e!==l?this.setDimensions({width:f,height:l},{backstoreOnly:!0}):this.renderAll();b=this.__toDataURL(b,d,c);n&&(this.interactive=n);this.viewportTransform=m;this.setDimensions({width:g,height:e},{backstoreOnly:!0});return b},__toDataURL:function(b,d){var c=this.contextContainer.canvas;"jpg"===b&&(b="jpeg");return e?c.toDataURL("image/"+b,d):c.toDataURL("image/"+b)},toDataURLWithMultiplier:function(b,
d,c){return this.toDataURL({format:b,multiplier:d,quality:c})}})})();
fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(e,b,d){return this.loadFromJSON(e,b,d)},loadFromJSON:function(e,b,d){if(e){var c="string"===typeof e?JSON.parse(e):fabric.util.object.clone(e),a=this,g=this.renderOnAddRemove;this.renderOnAddRemove=!1;this._enlivenObjects(c.objects,function(d){a.clear();a._setBgOverlay(c,function(){d.forEach(function(b,c){a.insertAt(b,c)});a.renderOnAddRemove=g;delete c.objects;delete c.backgroundImage;delete c.overlayImage;delete c.background;
delete c.overlay;a._setOptions(c);a.renderAll();b&&b()})},d);return this}},_setBgOverlay:function(e,b){var d={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var c=function(){d.backgroundImage&&d.overlayImage&&d.backgroundColor&&d.overlayColor&&b&&b()};this.__setBgOverlay("backgroundImage",e.backgroundImage,d,c);this.__setBgOverlay("overlayImage",e.overlayImage,d,c);this.__setBgOverlay("backgroundColor",e.background,
d,c);this.__setBgOverlay("overlayColor",e.overlay,d,c)}else b&&b()},__setBgOverlay:function(e,b,d,c){var a=this;if(b)if("backgroundImage"===e||"overlayImage"===e)fabric.util.enlivenObjects([b],function(b){a[e]=b[0];d[e]=!0;c&&c()});else this["set"+fabric.util.string.capitalize(e,!0)](b,function(){d[e]=!0;c&&c()});else d[e]=!0,c&&c()},_enlivenObjects:function(e,b,d){e&&0!==e.length?fabric.util.enlivenObjects(e,function(c){b&&b(c)},null,d):b&&b([])},_toDataURL:function(e,b){this.clone(function(d){b(d.toDataURL(e))})},
_toDataURLWithMultiplier:function(e,b,d){this.clone(function(c){d(c.toDataURLWithMultiplier(e,b))})},clone:function(e,b){var d=JSON.stringify(this.toJSON(b));this.cloneWithoutData(function(b){b.loadFromJSON(d,function(){e&&e(b)})})},cloneWithoutData:function(e){var b=fabric.document.createElement("canvas");b.width=this.getWidth();b.height=this.getHeight();var d=new fabric.Canvas(b);d.clipTo=this.clipTo;this.backgroundImage?(d.setBackgroundImage(this.backgroundImage.src,function(){d.renderAll();e&&
e(d)}),d.backgroundImageOpacity=this.backgroundImageOpacity,d.backgroundImageStretch=this.backgroundImageStretch):e&&e(d)}});
(function(e){var b=e.fabric||(e.fabric={});e=b.util.object.extend;var d=b.util.object.clone,c=b.util.toFixed,a=b.util.string.capitalize,g=b.util.degreesToRadians,h=b.StaticCanvas.supports("setLineDash");b.Object||(b.Object=b.util.createClass(b.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",
borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,
evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!b.isLikelyNode,statefullCache:!1,noScaleCache:!0,dirty:!0,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule".split(" "),
cacheProperties:"fill stroke strokeWidth strokeDashArray width height strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor".split(" "),initialize:function(a){a=a||{};this.setOptions(a)},_createCacheCanvas:function(){this._cacheProperties={};this._cacheCanvas=b.document.createElement("canvas");this._cacheContext=this._cacheCanvas.getContext("2d");this._updateCacheCanvas()},_limitCacheSize:function(a){var c=b.perfLimitSizeTotal,d=a.width,f=a.height,g=b.maxCacheSideLimit,e=b.minCacheSideLimit;
if(d<=g&&f<=g&&d*f<=c)return d<e&&(a.width=e),f<e&&(a.height=e),a;var h=b.util.limitDimsByArea(d/f,c),t=b.util.capValue,c=t(e,h.x,g),g=t(e,h.y,g);d>c&&(a.zoomX/=d/c,a.width=c,a.capped=!0);f>g&&(a.zoomY/=f/g,a.height=g,a.capped=!0);return a},_getCacheCanvasDimensions:function(){var a=this.canvas&&this.canvas.getZoom()||1,c=this.getObjectScaling(),d=this.canvas&&this.canvas._isRetinaScaling()?b.devicePixelRatio:1,g=this._getNonTransformedDimensions(),e=c.scaleX*a*d,a=c.scaleY*a*d;return{width:g.x*e+
2,height:g.y*a+2,zoomX:e,zoomY:a,x:g.x,y:g.y}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform){var a=this.canvas._currentTransform.action;if(this===this.canvas._currentTransform.target&&a.slice&&"scale"===a.slice(0,5))return!1}var a=this._cacheCanvas,c=this._limitCacheSize(this._getCacheCanvasDimensions()),d=b.minCacheSideLimit,g=c.width,e=c.height,h=c.zoomX,q=c.zoomY,t=g!==this.cacheWidth||e!==this.cacheHeight,r=this.zoomX!==h||this.zoomY!==q,v=0,A=
0,w=!1;if(t){var w=this._cacheCanvas.width,y=this._cacheCanvas.height,x=g>w||e>y,w=x||(g<.9*w||e<.9*y)&&w>d&&y>d;x&&!c.capped&&(g>d||e>d)&&(v=.1*g,A=.1*e)}return t||r?(w?(a.width=Math.ceil(g+v),a.height=Math.ceil(e+A)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,a.width,a.height)),d=c.x*h/2,c=c.y*q/2,this.cacheTranslationX=Math.round(a.width/2-d)+d,this.cacheTranslationY=Math.round(a.height/2-c)+c,this.cacheWidth=g,this.cacheHeight=e,this._cacheContext.translate(this.cacheTranslationX,
this.cacheTranslationY),this._cacheContext.scale(h,q),this.zoomX=h,this.zoomY=q,!0):!1},setOptions:function(a){this._setOptions(a);this._initGradient(a.fill,"fill");this._initGradient(a.stroke,"stroke");this._initClipping(a);this._initPattern(a.fill,"fill");this._initPattern(a.stroke,"stroke")},transform:function(a,b){this.group&&!this.group._transformDone&&this.group===this.canvas._activeGroup&&this.group.transform(a);var c=b?this._getLeftTopCoords():this.getCenterPoint();a.translate(c.x,c.y);this.angle&&
a.rotate(g(this.angle));a.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1));this.skewX&&a.transform(1,0,Math.tan(g(this.skewX)),1,0,0);this.skewY&&a.transform(1,Math.tan(g(this.skewY)),0,1,0,0)},toObject:function(a){var d=b.Object.NUM_FRACTION_DIGITS,d={type:this.type,originX:this.originX,originY:this.originY,left:c(this.left,d),top:c(this.top,d),width:c(this.width,d),height:c(this.height,d),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?
this.stroke.toObject():this.stroke,strokeWidth:c(this.strokeWidth,d),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:c(this.strokeMiterLimit,d),scaleX:c(this.scaleX,d),scaleY:c(this.scaleY,d),angle:c(this.getAngle(),d),flipX:this.flipX,flipY:this.flipY,opacity:c(this.opacity,d),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,
clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:c(this.skewX,d),skewY:c(this.skewY,d)};b.util.populateWithProperties(this,d,a);this.includeDefaultValues||(d=this._removeDefaultValues(d));return d},toDatalessObject:function(a){return this.toObject(a)},_removeDefaultValues:function(a){var c=b.util.getKlass(a.type).prototype;
c.stateProperties.forEach(function(b){a[b]===c[b]&&delete a[b];"[object Array]"===Object.prototype.toString.call(a[b])&&"[object Array]"===Object.prototype.toString.call(c[b])&&0===a[b].length&&0===c[b].length&&delete a[b]});return a},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){var a=this.scaleX,b=this.scaleY;if(this.group)var c=this.group.getObjectScaling(),a=a*c.scaleX,b=b*c.scaleY;return{scaleX:a,scaleY:b}},_set:function(a,c){var d=this[a]!==c;if("scaleX"===
a||"scaleY"===a)c=this._constrainScale(c);"scaleX"===a&&0>c?(this.flipX=!this.flipX,c*=-1):"scaleY"===a&&0>c?(this.flipY=!this.flipY,c*=-1):"shadow"!==a||!c||c instanceof b.Shadow?"dirty"===a&&this.group&&this.group.set("dirty",c):c=new b.Shadow(c);this[a]=c;d&&-1<this.cacheProperties.indexOf(a)&&(this.group&&this.group.set("dirty",!0),this.dirty=!0);d&&this.group&&-1<this.stateProperties.indexOf(a)&&this.group.set("dirty",!0);if("width"===a||"height"===a)this.minScaleLimit=Math.min(.1,1/Math.max(this.width,
this.height));return this},setOnGroup:function(){},setSourcePath:function(a){this.sourcePath=a;return this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:b.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height||!this.visible},render:function(a,c){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(a.save(),this._setupCompositeOperation(a),this.drawSelectionBackground(a),
c||this.transform(a),this._setOpacity(a),this._setShadow(a),this.transformMatrix&&a.transform.apply(a,this.transformMatrix),this.clipTo&&b.util.clipContext(this,a),this.shouldCache(c)?(this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty(c)&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,c),this.dirty=!1),this.drawCacheOnCanvas(a)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(a,c),c&&this.objectCaching&&this.statefullCache&&
this.saveState({propertySet:"cacheProperties"})),this.clipTo&&a.restore(),a.restore())},_removeCacheCanvas:function(){this._cacheCanvas=null;this.cacheHeight=this.cacheWidth=0},needsItsOwnCache:function(){return!1},shouldCache:function(a){return!a&&this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching())},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawObject:function(a,b){this._renderBackground(a);this._setStrokeStyles(a);
this._setFillStyles(a);this._render(a,b)},drawCacheOnCanvas:function(a){a.scale(1/this.zoomX,1/this.zoomY);a.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(a){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!a&&this._updateCacheCanvas())return!0;if(this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!a){a=this.cacheWidth/this.zoomX;var b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-a/
2,-b/2,a,b)}return!0}return!1},_renderBackground:function(a){if(this.backgroundColor){var b=this._getNonTransformedDimensions();a.fillStyle=this.backgroundColor;a.fillRect(-b.x/2,-b.y/2,b.x,b.y);this._removeShadow(a)}},_setOpacity:function(a){a.globalAlpha*=this.opacity},_setStrokeStyles:function(a){this.stroke&&(a.lineWidth=this.strokeWidth,a.lineCap=this.strokeLineCap,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,a.strokeStyle=this.stroke.toLive?this.stroke.toLive(a,this):this.stroke)},
_setFillStyles:function(a){this.fill&&(a.fillStyle=this.fill.toLive?this.fill.toLive(a,this):this.fill)},_setLineDash:function(a,b,c){b&&(1&b.length&&b.push.apply(b,b),h?a.setLineDash(b):c&&c(a))},_renderControls:function(a){if(this.active&&(!this.group||this.group===this.canvas.getActiveGroup())){var c=this.getViewportTransform(),d=this.calcTransformMatrix(),d=b.util.multiplyTransformMatrices(c,d),c=b.util.qrDecompose(d);a.save();a.translate(c.translateX,c.translateY);a.lineWidth=1*this.borderScaleFactor;
this.group||(a.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1);this.group&&this.group===this.canvas.getActiveGroup()?(a.rotate(g(c.angle)),this.drawBordersInGroup(a,c)):(a.rotate(g(this.angle)),this.drawBorders(a));this.drawControls(a);a.restore()}},_setShadow:function(a){if(this.shadow){var c=this.canvas&&this.canvas.viewportTransform[0]||1,d=this.canvas&&this.canvas.viewportTransform[3]||1,f=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(c*=b.devicePixelRatio,d*=
b.devicePixelRatio);a.shadowColor=this.shadow.color;a.shadowBlur=this.shadow.blur*(c+d)*(f.scaleX+f.scaleY)/4;a.shadowOffsetX=this.shadow.offsetX*c*f.scaleX;a.shadowOffsetY=this.shadow.offsetY*d*f.scaleY}},_removeShadow:function(a){this.shadow&&(a.shadowColor="",a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0)},_applyPatternGradientTransform:function(a,b){if(b.toLive){var c=b.gradientTransform||b.patternTransform;c&&a.transform.apply(a,c);a.translate(-this.width/2+b.offsetX||0,-this.height/2+b.offsetY||
0)}},_renderFill:function(a){this.fill&&(a.save(),this._applyPatternGradientTransform(a,this.fill),"evenodd"===this.fillRule?a.fill("evenodd"):a.fill(),a.restore())},_renderStroke:function(a){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(a,this.stroke),a.stroke(),a.restore())},clone:function(a,c){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(c),
a):new b.Object(this.toObject(c))},cloneAsImage:function(a,c){var d=this.toDataURL(c);b.util.loadImage(d,function(c){a&&a(new b.Image(c))});return this},toDataURL:function(a){a||(a={});var c=b.util.createCanvasElement(),d=this.getBoundingRect();c.width=d.width;c.height=d.height;b.util.wrapElement(c,"div");c=new b.StaticCanvas(c,{enableRetinaScaling:a.enableRetinaScaling});"jpg"===a.format&&(a.format="jpeg");"jpeg"===a.format&&(c.backgroundColor="#fff");d={active:this.get("active"),left:this.getLeft(),
top:this.getTop()};this.set("active",!1);this.setPositionByOrigin(new b.Point(c.getWidth()/2,c.getHeight()/2),"center","center");var f=this.canvas;c.add(this);a=c.toDataURL(a);this.set(d).setCoords();this.canvas=f;c.dispose();return a},isType:function(a){return this.type===a},complexity:function(){return 1},toJSON:function(a){return this.toObject(a)},setGradient:function(a,c){c||(c={});var d={colorStops:[]};d.type=c.type||(c.r1||c.r2?"radial":"linear");d.coords={x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2};if(c.r1||
c.r2)d.coords.r1=c.r1,d.coords.r2=c.r2;d.gradientTransform=c.gradientTransform;b.Gradient.prototype.addColorStop.call(d,c.colorStops);return this.set(a,b.Gradient.forObject(this,d))},setPatternFill:function(a){return this.set("fill",new b.Pattern(a))},setShadow:function(a){return this.set("shadow",a?new b.Shadow(a):null)},setColor:function(a){this.set("fill",a);return this},setAngle:function(a){var b=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;b&&this._setOriginToCenter();
this.set("angle",a);b&&this._resetOrigin();return this},centerH:function(){this.canvas&&this.canvas.centerObjectH(this);return this},viewportCenterH:function(){this.canvas&&this.canvas.viewportCenterObjectH(this);return this},centerV:function(){this.canvas&&this.canvas.centerObjectV(this);return this},viewportCenterV:function(){this.canvas&&this.canvas.viewportCenterObjectV(this);return this},center:function(){this.canvas&&this.canvas.centerObject(this);return this},viewportCenter:function(){this.canvas&&
this.canvas.viewportCenterObject(this);return this},remove:function(){this.canvas&&(this.group&&this.group===this.canvas._activeGroup&&this.group.remove(this),this.canvas.remove(this));return this},getLocalPointer:function(a,c){c=c||this.canvas.getPointer(a);var d=new b.Point(c.x,c.y),f=this._getLeftTopCoords();this.angle&&(d=b.util.rotatePoint(d,f,g(-this.angle)));return{x:d.x-f.x,y:d.y-f.y}},_setupCompositeOperation:function(a){this.globalCompositeOperation&&(a.globalCompositeOperation=this.globalCompositeOperation)}}),
b.util.createAccessors(b.Object),b.Object.prototype.rotate=b.Object.prototype.setAngle,e(b.Object.prototype,b.Observable),b.Object.NUM_FRACTION_DIGITS=2,b.Object._fromObject=function(a,c,g,e,h){var f=b[a];c=d(c,!0);if(e)b.util.enlivenPatterns([c.fill,c.stroke],function(a){"undefined"!==typeof a[0]&&(c.fill=a[0]);"undefined"!==typeof a[1]&&(c.stroke=a[1]);a=h?new f(c[h],c):new f(c);g&&g(a)});else return a=h?new f(c[h],c):new f(c),g&&g(a),a},b.Object.__uid=0)})("undefined"!==typeof exports?exports:
this);
(function(){var e=fabric.util.degreesToRadians,b={left:-.5,center:0,right:.5},d={top:-.5,center:0,bottom:.5};fabric.util.object.extend(fabric.Object.prototype,{translateToGivenOrigin:function(c,a,g,e,f){var h=c.x,k=c.y;a="string"===typeof a?b[a]:a-.5;e="string"===typeof e?b[e]:e-.5;a=e-a;g="string"===typeof g?d[g]:g-.5;f="string"===typeof f?d[f]:f-.5;g=f-g;if(a||g)k=this._getTransformedDimensions(),h=c.x+a*k.x,k=c.y+g*k.y;return new fabric.Point(h,k)},translateToCenterPoint:function(b,a,d){a=this.translateToGivenOrigin(b,
a,d,"center","center");return this.angle?fabric.util.rotatePoint(a,b,e(this.angle)):a},translateToOriginPoint:function(b,a,d){a=this.translateToGivenOrigin(b,"center","center",a,d);return this.angle?fabric.util.rotatePoint(a,b,e(this.angle)):a},getCenterPoint:function(){var b=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(b,this.originX,this.originY)},getPointByOrigin:function(b,a){var c=this.getCenterPoint();return this.translateToOriginPoint(c,b,a)},toLocalPoint:function(b,
a,d){var c=this.getCenterPoint();a="undefined"!==typeof a&&"undefined"!==typeof d?this.translateToGivenOrigin(c,"center","center",a,d):new fabric.Point(this.left,this.top);b=new fabric.Point(b.x,b.y);this.angle&&(b=fabric.util.rotatePoint(b,c,-e(this.angle)));return b.subtractEquals(a)},setPositionByOrigin:function(b,a,d){b=this.translateToCenterPoint(b,a,d);b=this.translateToOriginPoint(b,this.originX,this.originY);this.set("left",b.x);this.set("top",b.y)},adjustPosition:function(c){var a=e(this.angle),
d=this.getWidth(),h=Math.cos(a)*d,a=Math.sin(a)*d,f,d="string"===typeof this.originX?b[this.originX]:this.originX-.5;f="string"===typeof c?b[c]:c-.5;this.left+=h*(f-d);this.top+=a*(f-d);this.setCoords();this.originX=c},_setOriginToCenter:function(){this._originalOriginX=this.originX;this._originalOriginY=this.originY;var b=this.getCenterPoint();this.originY=this.originX="center";this.left=b.x;this.top=b.y},_resetOrigin:function(){var b=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,
this._originalOriginY);this.originX=this._originalOriginX;this.originY=this._originalOriginY;this.left=b.x;this.top=b.y;this._originalOriginY=this._originalOriginX=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")},onDeselect:function(){}})})();
(function(){var e=fabric.util.degreesToRadians,b=fabric.util.multiplyTransformMatrices;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,aCoords:null,getCoords:function(b,c){this.oCoords||this.setCoords();var a=b?this.aCoords:this.oCoords,a=c?this.calcCoords(b):a;return[new fabric.Point(a.tl.x,a.tl.y),new fabric.Point(a.tr.x,a.tr.y),new fabric.Point(a.br.x,a.br.y),new fabric.Point(a.bl.x,a.bl.y)]},intersectsWithRect:function(b,c,a,e){a=this.getCoords(a,e);return"Intersection"===fabric.Intersection.intersectPolygonRectangle(a,
b,c).status},intersectsWithObject:function(b,c,a){return"Intersection"===fabric.Intersection.intersectPolygonPolygon(this.getCoords(c,a),b.getCoords(c,a)).status||b.isContainedWithinObject(this,c,a)||this.isContainedWithinObject(b,c,a)},isContainedWithinObject:function(b,c,a){var d=this.getCoords(c,a),e=0;for(c=b._getImageLines(a?b.calcCoords(c):c?b.aCoords:b.oCoords);4>e;e++)if(!b.containsPoint(d[e],c))return!1;return!0},isContainedWithinRect:function(b,c,a,e){a=this.getBoundingRect(a,e);return a.left>=
b.x&&a.left+a.width<=c.x&&a.top>=b.y&&a.top+a.height<=c.y},containsPoint:function(b,c,a,e){c=c||this._getImageLines(e?this.calcCoords(a):a?this.aCoords:this.oCoords);b=this._findCrossPoints(b,c);return 0!==b&&1===b%2},isOnScreen:function(b){if(!this.canvas)return!1;var c=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br;b=this.getCoords(!0,b);for(var d,e=0;4>e;e++)if(d=b[e],d.x<=a.x&&d.x>=c.x&&d.y<=a.y&&d.y>=c.y)return!0;return this.intersectsWithRect(c,a,!0)||this.containsPoint({x:(c.x+a.x)/2,
y:(c.y+a.y)/2},null,!0)?!0:!1},_getImageLines:function(b){return{topline:{o:b.tl,d:b.tr},rightline:{o:b.tr,d:b.br},bottomline:{o:b.br,d:b.bl},leftline:{o:b.bl,d:b.tl}}},_findCrossPoints:function(b,c){var a,d,e,f=0,l;for(l in c)if(e=c[l],!(e.o.y<b.y&&e.d.y<b.y||e.o.y>=b.y&&e.d.y>=b.y)&&(e.o.x===e.d.x&&e.o.x>=b.x?a=e.o.x:(a=(e.d.y-e.o.y)/(e.d.x-e.o.x),d=b.y-0*b.x,e=e.o.y-a*e.o.x,a=-(d-e)/(0-a)),a>=b.x&&(f+=1),2===f))break;return f},getBoundingRectWidth:function(){return this.getBoundingRect().width},
getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(b,c){var a=this.getCoords(b,c);return fabric.util.makeBoundingBoxFromPoints(a)},getWidth:function(){return this._getTransformedDimensions().x},getHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(b){return Math.abs(b)<this.minScaleLimit?0>b?-this.minScaleLimit:this.minScaleLimit:b!==b?this.minScaleLimit:0===b?1E-4:b},scale:function(b){b=this._constrainScale(b);0>b&&(this.flipX=
!this.flipX,this.flipY=!this.flipY,b*=-1);this.scaleY=this.scaleX=b;return this.setCoords()},scaleToWidth:function(b){var c=this.getBoundingRect().width/this.getWidth();return this.scale(b/this.width/c)},scaleToHeight:function(b){var c=this.getBoundingRect().height/this.getHeight();return this.scale(b/this.height/c)},calcCoords:function(b){var c=e(this.angle),a=this.getViewportTransform(),d=b?this._getTransformedDimensions():this._calculateCurrentDimensions(),h=d.x,f=d.y,d=Math.sin(c),l=Math.cos(c),
k=0<h?Math.atan(f/h):0,m=h/Math.cos(k)/2,n=Math.cos(k+c)*m,c=Math.sin(k+c)*m,k=this.getCenterPoint(),k=b?k:fabric.util.transformPoint(k,a),a=new fabric.Point(k.x-n,k.y-c),h=new fabric.Point(a.x+h*l,a.y+h*d),f=new fabric.Point(a.x-f*d,a.y+f*l),n=new fabric.Point(k.x+n,k.y+c);if(!b)var p=new fabric.Point((a.x+f.x)/2,(a.y+f.y)/2),q=new fabric.Point((h.x+a.x)/2,(h.y+a.y)/2),t=new fabric.Point((n.x+h.x)/2,(n.y+h.y)/2),r=new fabric.Point((n.x+f.x)/2,(n.y+f.y)/2),v=new fabric.Point(q.x+d*this.rotatingPointOffset,
q.y-l*this.rotatingPointOffset);k={tl:a,tr:h,br:n,bl:f};b||(k.ml=p,k.mt=q,k.mr=t,k.mb=r,k.mtr=v);return k},setCoords:function(b,c){this.oCoords=this.calcCoords(b);c||(this.aCoords=this.calcCoords(!0));b||this._setCornerCoords&&this._setCornerCoords();return this},_calcRotateMatrix:function(){if(this.angle){var b=e(this.angle),c=Math.cos(b),b=Math.sin(b);if(6.123233995736766E-17===c||-1.8369701987210297E-16===c)c=0;return[c,b,-b,c,0,0]}return fabric.iMatrix.concat()},calcTransformMatrix:function(d){var c=
this.getCenterPoint(),a=[1,0,0,1,c.x,c.y],c=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0),a=this.group&&!d?b(this.group.calcTransformMatrix(),a):a;this.angle&&(d=this._calcRotateMatrix(),a=b(a,d));return a=b(a,c)},_calcDimensionsTransformMatrix:function(d,c,a){a=[this.scaleX*(a&&this.flipX?-1:1),0,0,this.scaleY*(a&&this.flipY?-1:1),0,0];d&&(d=[1,0,Math.tan(e(d)),1],a=b(a,d,!0));c&&(d=[1,Math.tan(e(c)),0,1],a=b(a,d,!0));return a},_getNonTransformedDimensions:function(){var b=this.strokeWidth;
return{x:this.width+b,y:this.height+b}},_getTransformedDimensions:function(b,c){"undefined"===typeof b&&(b=this.skewX);"undefined"===typeof c&&(c=this.skewY);for(var a=this._getNonTransformedDimensions(),d=a.x/2,a=a.y/2,d=[{x:-d,y:-a},{x:d,y:-a},{x:-d,y:a},{x:d,y:a}],e=this._calcDimensionsTransformMatrix(b,c,!1),a=0;a<d.length;a++)d[a]=fabric.util.transformPoint(d[a],e);d=fabric.util.makeBoundingBoxFromPoints(d);return{x:d.width,y:d.height}},_calculateCurrentDimensions:function(){var b=this.getViewportTransform(),
c=this._getTransformedDimensions();return fabric.util.transformPoint(c,b,!0).scalarAdd(2*this.padding)}})})();
fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this);return this},bringToFront:function(){this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this);return this},sendBackwards:function(e){this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas.sendBackwards(this,e);return this},bringForward:function(e){this.group?
fabric.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas.bringForward(this,e);return this},moveTo:function(e){this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas.moveTo(this,e);return this}});
(function(){function e(b,d){if(d){if(d.toLive)return b+": url(#SVGID_"+d.id+"); ";var c=new fabric.Color(d),a=b+": "+c.toRgb()+"; ",c=c.getAlpha();1!==c&&(a+=b+"-opacity: "+c.toString()+"; ");return a}return b+": none; "}fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(b){var d=this.fillRule,c=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",g=this.strokeLineCap?this.strokeLineCap:"butt",h=this.strokeLineJoin?this.strokeLineJoin:
"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",l="undefined"!==typeof this.opacity?this.opacity:"1",k=this.visible?"":" visibility: hidden;";b=b?"":this.getSvgFilter();var m=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",c,"; stroke-dasharray: ",a,"; stroke-linecap: ",g,"; stroke-linejoin: ",h,"; stroke-miterlimit: ",f,"; ",m,"fill-rule: ",d,"; opacity: ",l,";",b,k].join("")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?
'id="'+this.id+'" ':""},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var b=fabric.util.toFixed,d=this.getAngle(),c=this.getSkewX()%360,a=this.getSkewY()%360,e=this.getCenterPoint(),h=fabric.Object.NUM_FRACTION_DIGITS,e="path-group"===this.type?"":"translate("+b(e.x,h)+" "+b(e.y,h)+")",d=0!==d?" rotate("+b(d,h)+")":"",f=1===this.scaleX&&1===this.scaleY?"":" scale("+b(this.scaleX,h)+" "+b(this.scaleY,h)+")",c=0!==c?" skewX("+b(c,h)+")":"",b=0!==a?" skewY("+b(a,h)+
")":"",a="path-group"===this.type?this.width:0,h="path-group"===this.type?this.height:0;return[e,d,f,this.flipX?" matrix(-1 0 0 1 "+a+" 0) ":"",this.flipY?" matrix(1 0 0 -1 0 "+h+")":"",c,b].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var b=[];this.fill&&this.fill.toLive&&b.push(this.fill.toSVG(this,!1));this.stroke&&this.stroke.toLive&&b.push(this.stroke.toSVG(this,!1));this.shadow&&b.push(this.shadow.toSVG(this));
return b}})})();
(function(){function e(b,a,e){var c={};e.forEach(function(a){c[a]=b[a]});d(b[a],c,!0)}function b(c,a,d){if(c===a)return!0;if(Array.isArray(c)){if(c.length!==a.length)return!1;d=0;for(var e=c.length;d<e;d++)if(!b(c[d],a[d]))return!1;return!0}if(c&&"object"===typeof c){var f=Object.keys(c),g;if(!d&&f.length!==Object.keys(a).length)return!1;d=0;for(e=f.length;d<e;d++)if(g=f[d],!b(c[g],a[g]))return!1;return!0}}var d=fabric.util.object.extend;fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(c){c=
c||"stateProperties";var a="_"+c;return Object.keys(this[a]).length<this[c].length?!0:!b(this[a],this,!0)},saveState:function(b){var a=b&&b.propertySet||"stateProperties",c="_"+a;if(!this[c])return this.setupState(b);e(this,c,this[a]);b&&b.stateProperties&&e(this,c,b.stateProperties);return this},setupState:function(b){b=b||{};var a=b.propertySet||"stateProperties";b.propertySet=a;this["_"+a]={};this.saveState(b);return this}})})();
(function(){var e=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(b){if(!this.hasControls||!this.active)return!1;var d=b.x;b=b.y;var c;this.__corner=0;for(var a in this.oCoords)if(this.isControlVisible(a)&&("mtr"!==a||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==a&&"mr"!==a&&"mb"!==a&&"ml"!==a)&&(c=this._getImageLines(this.oCoords[a].corner),c=this._findCrossPoints({x:d,y:b},c),0!==c&&1===c%2))return this.__corner=
a;return!1},_setCornerCoords:function(){var b=this.oCoords,d=e(45-this.angle),c=.707106*this.cornerSize,a=c*Math.cos(d),d=c*Math.sin(d),g,h;for(h in b)c=b[h].x,g=b[h].y,b[h].corner={tl:{x:c-d,y:g-a},tr:{x:c+a,y:g-d},bl:{x:c-a,y:g+d},br:{x:c+d,y:g+a}}},drawSelectionBackground:function(b){if(!this.selectionBackgroundColor||this.group||!this.active||this.canvas&&!this.canvas.interactive)return this;b.save();var d=this.getCenterPoint(),c=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;
b.translate(d.x,d.y);b.scale(1/a[0],1/a[3]);b.rotate(e(this.angle));b.fillStyle=this.selectionBackgroundColor;b.fillRect(-c.x/2,-c.y/2,c.x,c.y);b.restore();return this},drawBorders:function(b){if(!this.hasBorders)return this;var d=this._calculateCurrentDimensions(),c=1/this.borderScaleFactor,a=d.x+c,d=d.y+c;b.save();b.strokeStyle=this.borderColor;this._setLineDash(b,this.borderDashArray,null);b.strokeRect(-a/2,-d/2,a,d);this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&
this.hasControls&&(a=-d/2,b.beginPath(),b.moveTo(0,a),b.lineTo(0,a-this.rotatingPointOffset),b.closePath(),b.stroke());b.restore();return this},drawBordersInGroup:function(b,d){if(!this.hasBorders)return this;var c=this._getNonTransformedDimensions(),a=fabric.util.customTransformMatrix(d.scaleX,d.scaleY,d.skewX),a=fabric.util.transformPoint(c,a),e=1/this.borderScaleFactor,c=a.x+e,a=a.y+e;b.save();this._setLineDash(b,this.borderDashArray,null);b.strokeStyle=this.borderColor;b.strokeRect(-c/2,-a/2,
c,a);b.restore();return this},drawControls:function(b){if(!this.hasControls)return this;var d=this._calculateCurrentDimensions(),c=d.x,d=d.y,a=this.cornerSize,e=-(c+a)/2,a=-(d+a)/2,h=this.transparentCorners?"stroke":"fill";b.save();b.strokeStyle=b.fillStyle=this.cornerColor;this.transparentCorners||(b.strokeStyle=this.cornerStrokeColor);this._setLineDash(b,this.cornerDashArray,null);this._drawControl("tl",b,h,e,a);this._drawControl("tr",b,h,e+c,a);this._drawControl("bl",b,h,e,a+d);this._drawControl("br",
b,h,e+c,a+d);this.get("lockUniScaling")||(this._drawControl("mt",b,h,e+c/2,a),this._drawControl("mb",b,h,e+c/2,a+d),this._drawControl("mr",b,h,e+c,a+d/2),this._drawControl("ml",b,h,e,a+d/2));this.hasRotatingPoint&&this._drawControl("mtr",b,h,e+c/2,a-this.rotatingPointOffset);b.restore();return this},_drawControl:function(b,d,c,a,e){if(this.isControlVisible(b)){b=this.cornerSize;var g=!this.transparentCorners&&this.cornerStrokeColor;switch(this.cornerStyle){case "circle":d.beginPath();d.arc(a+b/2,
e+b/2,b/2,0,2*Math.PI,!1);d[c]();g&&d.stroke();break;default:"undefined"!==typeof G_vmlCanvasManager||this.transparentCorners||d.clearRect(a,e,b,b),d[c+"Rect"](a,e,b,b),g&&d.strokeRect(a,e,b,b)}}},isControlVisible:function(b){return this._getControlsVisibility()[b]},setControlVisible:function(b,d){this._getControlsVisibility()[b]=d;return this},setControlsVisibility:function(b){b||(b={});for(var d in b)this.setControlVisible(d,b[d]);return this},_getControlsVisibility:function(){this._controlsVisibility||
(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0});return this._controlsVisibility}})})();
fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,b){b=b||{};var d=function(){},c=b.onComplete||d,a=b.onChange||d,g=this;fabric.util.animate({startValue:e.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(b){e.set("left",b);g.renderAll();a()},onComplete:function(){e.setCoords();c()}});return this},fxCenterObjectV:function(e,b){b=b||{};var d=function(){},c=b.onComplete||d,a=b.onChange||d,g=this;fabric.util.animate({startValue:e.get("top"),
endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(b){e.set("top",b);g.renderAll();a()},onComplete:function(){e.setCoords();c()}});return this},fxRemove:function(e,b){b=b||{};var d=function(){},c=b.onComplete||d,a=b.onChange||d,g=this;fabric.util.animate({startValue:e.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){e.set("active",!1)},onChange:function(b){e.set("opacity",b);g.renderAll();a()},onComplete:function(){g.remove(e);c()}});return this}});
fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var e=[],b,d;for(b in arguments[0])e.push(b);for(var c=0,a=e.length;c<a;c++)b=e[c],d=c!==a-1,this._animate(b,arguments[0][b],arguments[1],d)}else this._animate.apply(this,arguments);return this},_animate:function(e,b,d,c){var a=this,g;b=b.toString();d=d?fabric.util.object.clone(d):{};~e.indexOf(".")&&(g=e.split("."));var h=g?this.get(g[0])[g[1]]:this.get(e);"from"in d||(d.from=h);
b=~b.indexOf("=")?h+parseFloat(b.replace("=","")):parseFloat(b);fabric.util.animate({startValue:d.from,endValue:b,byValue:d.by,easing:d.easing,duration:d.duration,abort:d.abort&&function(){return d.abort.call(a)},onChange:function(b,h,k){g?a[g[0]][g[1]]=b:a.set(e,b);c||d.onChange&&d.onChange(b,h,k)},onComplete:function(b,e,g){c||(a.setCoords(),d.onComplete&&d.onComplete(b,e,g))}})}});
(function(e){function b(a,b){var c=a.origin,d=a.axis1,f=a.axis2,e=a.dimension,g=b.nearest,h=b.center,l=b.farthest;return function(){switch(this.get(c)){case g:return Math.min(this.get(d),this.get(f));case h:return Math.min(this.get(d),this.get(f))+.5*this.get(e);case l:return Math.max(this.get(d),this.get(f))}}}var d=e.fabric||(e.fabric={}),c=d.util.object.extend,a=d.util.object.clone,g={x1:1,x2:1,y1:1,y2:1},h=d.StaticCanvas.supports("setLineDash");d.Line?d.warn("fabric.Line is already defined"):
(d.Line=d.util.createClass(d.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:d.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,b){a||(a=[0,0,0,0]);this.callSuper("initialize",b);this.set("x1",a[0]);this.set("y1",a[1]);this.set("x2",a[2]);this.set("y2",a[3]);this._setWidthHeight(b)},_setWidthHeight:function(a){a||(a={});this.width=Math.abs(this.x2-this.x1);this.height=Math.abs(this.y2-this.y1);this.left="left"in a?a.left:this._getLeftToOriginX();this.top=
"top"in a?a.top:this._getTopToOriginY()},_set:function(a,b){this.callSuper("_set",a,b);"undefined"!==typeof g[a]&&this._setWidthHeight();return this},_getLeftToOriginX:b({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:b({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a,b){a.beginPath();if(b){var c=this.getCenterPoint(),d=this.strokeWidth/2;
a.translate(c.x-("butt"===this.strokeLineCap&&0===this.height?0:d),c.y-("butt"===this.strokeLineCap&&0===this.width?0:d))}if(!this.strokeDashArray||this.strokeDashArray&&h)c=this.calcLinePoints(),a.moveTo(c.x1,c.y1),a.lineTo(c.x2,c.y2);a.lineWidth=this.strokeWidth;c=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle;this.stroke&&this._renderStroke(a);a.strokeStyle=c},_renderDashedStroke:function(a){var b=this.calcLinePoints();a.beginPath();d.util.drawDashedLine(a,b.x1,b.y1,b.x2,b.y2,this.strokeDashArray);
a.closePath()},toObject:function(a){return c(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");"butt"===this.strokeLineCap&&(0===this.width&&(a.y-=this.strokeWidth),0===this.height&&(a.x-=this.strokeWidth));return a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,b=this.y1<=this.y2?-1:1;return{x1:a*this.width*.5,x2:a*this.width*-.5,y1:b*this.height*.5,y2:b*this.height*-.5}},toSVG:function(a){var b=
this._createBaseSVGMarkup(),c={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};this.group&&"path-group"===this.group.type||(c=this.calcLinePoints());b.push("<line ",this.getSvgId(),'x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n');return a?a(b.join("")):b.join("")}}),d.Line.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat(["x1","y1","x2","y2"]),d.Line.fromElement=function(a,b){b=b||{};var f=d.parseAttributes(a,
d.Line.ATTRIBUTE_NAMES),e=[f.x1||0,f.y1||0,f.x2||0,f.y2||0];b.originX="left";b.originY="top";return new d.Line(e,c(f,b))},d.Line.fromObject=function(b,c,e){var f=a(b,!0);f.points=[b.x1,b.y1,b.x2,b.y2];(b=d.Object._fromObject("Line",f,function(a){delete a.points;c&&c(a)},e,"points"))&&delete b.points;return b})})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=Math.PI,c=b.util.object.extend;b.Circle?b.warn("fabric.Circle is already defined."):(b.Circle=b.util.createClass(b.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*d,cacheProperties:b.Object.prototype.cacheProperties.concat("radius"),initialize:function(a){this.callSuper("initialize",a);this.set("radius",a&&a.radius||0)},_set:function(a,b){this.callSuper("_set",a,b);"radius"===a&&this.setRadius(b);return this},toObject:function(a){return this.callSuper("toObject",
["radius","startAngle","endAngle"].concat(a))},toSVG:function(a){var b=this._createBaseSVGMarkup(),c=0,f=0,e=(this.endAngle-this.startAngle)%(2*d);0===e?(this.group&&"path-group"===this.group.type&&(c=this.left+this.radius,f=this.top+this.radius),b.push("<circle ",this.getSvgId(),'cx="'+c+'" cy="'+f+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n')):b.push('<path d="M '+Math.cos(this.startAngle)*this.radius+" "+
Math.sin(this.startAngle)*this.radius," A "+this.radius+" "+this.radius," 0 ",+(e>d?1:0)+" 1"," "+Math.cos(this.endAngle)*this.radius+" "+Math.sin(this.endAngle)*this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');return a?a(b.join("")):b.join("")},_render:function(a,b){a.beginPath();a.arc(b?this.left+this.radius:0,b?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1);this._renderFill(a);this._renderStroke(a)},
getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){this.radius=a;return this.set("width",2*a).set("height",2*a)}}),b.Circle.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat(["cx","cy","r"]),b.Circle.fromElement=function(a,d){d||(d={});var e=b.parseAttributes(a,b.Circle.ATTRIBUTE_NAMES);if(!("radius"in e&&0<=e.radius))throw Error("value of `r` attribute is required and can not be negative");e.left=
e.left||0;e.top=e.top||0;e=new b.Circle(c(e,d));e.left-=e.radius;e.top-=e.radius;return e},b.Circle.fromObject=function(a,c,d){return b.Object._fromObject("Circle",a,c,d)})})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={});b.Triangle?b.warn("fabric.Triangle is already defined"):(b.Triangle=b.util.createClass(b.Object,{type:"triangle",initialize:function(b){this.callSuper("initialize",b);this.set("width",b&&b.width||100).set("height",b&&b.height||100)},_render:function(b){var c=this.width/2,a=this.height/2;b.beginPath();b.moveTo(-c,a);b.lineTo(0,-a);b.lineTo(c,a);b.closePath();this._renderFill(b);this._renderStroke(b)},_renderDashedStroke:function(d){var c=this.width/2,a=this.height/
2;d.beginPath();b.util.drawDashedLine(d,-c,a,0,-a,this.strokeDashArray);b.util.drawDashedLine(d,0,-a,c,a,this.strokeDashArray);b.util.drawDashedLine(d,c,a,-c,a,this.strokeDashArray);d.closePath()},toSVG:function(b){var c=this._createBaseSVGMarkup(),a=this.width/2,d=this.height/2,a=[-a+" "+d,"0 "+-d,a+" "+d].join();c.push("<polygon ",this.getSvgId(),'points="',a,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>');return b?b(c.join("")):c.join("")}}),b.Triangle.fromObject=
function(d,c,a){return b.Object._fromObject("Triangle",d,c,a)})})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=2*Math.PI,c=b.util.object.extend;b.Ellipse?b.warn("fabric.Ellipse is already defined."):(b.Ellipse=b.util.createClass(b.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:b.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(a){this.callSuper("initialize",a);this.set("rx",a&&a.rx||0);this.set("ry",a&&a.ry||0)},_set:function(a,b){this.callSuper("_set",a,b);switch(a){case "rx":this.rx=b;this.set("width",2*b);break;case "ry":this.ry=b,this.set("height",
2*b)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(a){return this.callSuper("toObject",["rx","ry"].concat(a))},toSVG:function(a){var b=this._createBaseSVGMarkup(),c=0,d=0;this.group&&"path-group"===this.group.type&&(c=this.left+this.rx,d=this.top+this.ry);b.push("<ellipse ",this.getSvgId(),'cx="',c,'" cy="',d,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),
this.getSvgTransformMatrix(),'"/>\n');return a?a(b.join("")):b.join("")},_render:function(a,b){a.beginPath();a.save();a.transform(1,0,0,this.ry/this.rx,0,0);a.arc(b?this.left+this.rx:0,b?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,d,!1);a.restore();this._renderFill(a);this._renderStroke(a)}}),b.Ellipse.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat(["cx","cy","rx","ry"]),b.Ellipse.fromElement=function(a,d){d||(d={});var e=b.parseAttributes(a,b.Ellipse.ATTRIBUTE_NAMES);e.left=e.left||0;e.top=e.top||
0;e=new b.Ellipse(c(e,d));e.top-=e.ry;e.left-=e.rx;return e},b.Ellipse.fromObject=function(a,c,d){return b.Object._fromObject("Ellipse",a,c,d)})})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.object.extend;b.Rect?b.warn("fabric.Rect is already defined"):(b.Rect=b.util.createClass(b.Object,{stateProperties:b.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:b.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(b){this.callSuper("initialize",b);this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(b,a){if(1===
this.width&&1===this.height)b.fillRect(-.5,-.5,1,1);else{var c=this.rx?Math.min(this.rx,this.width/2):0,d=this.ry?Math.min(this.ry,this.height/2):0,f=this.width,e=this.height,k=a?this.left:-this.width/2,m=a?this.top:-this.height/2,n=0!==c||0!==d;b.beginPath();b.moveTo(k+c,m);b.lineTo(k+f-c,m);n&&b.bezierCurveTo(k+f-.4477152502*c,m,k+f,m+.4477152502*d,k+f,m+d);b.lineTo(k+f,m+e-d);n&&b.bezierCurveTo(k+f,m+e-.4477152502*d,k+f-.4477152502*c,m+e,k+f-c,m+e);b.lineTo(k+c,m+e);n&&b.bezierCurveTo(k+.4477152502*
c,m+e,k,m+e-.4477152502*d,k,m+e-d);b.lineTo(k,m+d);n&&b.bezierCurveTo(k,m+.4477152502*d,k+.4477152502*c,m,k+c,m);b.closePath();this._renderFill(b);this._renderStroke(b)}},_renderDashedStroke:function(c){var a=-this.width/2,d=-this.height/2,e=this.width,f=this.height;c.beginPath();b.util.drawDashedLine(c,a,d,a+e,d,this.strokeDashArray);b.util.drawDashedLine(c,a+e,d,a+e,d+f,this.strokeDashArray);b.util.drawDashedLine(c,a+e,d+f,a,d+f,this.strokeDashArray);b.util.drawDashedLine(c,a,d+f,a,d,this.strokeDashArray);
c.closePath()},toObject:function(b){return this.callSuper("toObject",["rx","ry"].concat(b))},toSVG:function(b){var a=this._createBaseSVGMarkup(),c=this.left,d=this.top;this.group&&"path-group"===this.group.type||(c=-this.width/2,d=-this.height/2);a.push("<rect ",this.getSvgId(),'x="',c,'" y="',d,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n');
return b?b(a.join("")):a.join("")}}),b.Rect.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),b.Rect.fromElement=function(c,a){if(!c)return null;a=a||{};var e=b.parseAttributes(c,b.Rect.ATTRIBUTE_NAMES);e.left=e.left||0;e.top=e.top||0;e=new b.Rect(d(a?b.util.object.clone(a):{},e));e.visible=e.visible&&0<e.width&&0<e.height;return e},b.Rect.fromObject=function(c,a,d){return b.Object._fromObject("Rect",c,a,d)})})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.object.extend,c=b.util.array.min,a=b.util.array.max,g=b.util.toFixed,h=b.Object.NUM_FRACTION_DIGITS;b.Polyline?b.warn("fabric.Polyline is already defined"):(b.Polyline=b.util.createClass(b.Object,{type:"polyline",points:null,minX:0,minY:0,cacheProperties:b.Object.prototype.cacheProperties.concat("points"),initialize:function(a,b){b=b||{};this.points=a||[];this.callSuper("initialize",b);this._calcDimensions();"top"in b||(this.top=this.minY);"left"in
b||(this.left=this.minX);this.pathOffset={x:this.minX+this.width/2,y:this.minY+this.height/2}},_calcDimensions:function(){var b=this.points,d=c(b,"x"),e=c(b,"y"),g=a(b,"x"),b=a(b,"y");this.width=g-d||0;this.height=b-e||0;this.minX=d||0;this.minY=e||0},toObject:function(a){return d(this.callSuper("toObject",a),{points:this.points.concat()})},toSVG:function(a){var b=[],c=0,d=0,f=this._createBaseSVGMarkup();this.group&&"path-group"===this.group.type||(c=this.pathOffset.x,d=this.pathOffset.y);for(var e=
0,q=this.points.length;e<q;e++)b.push(g(this.points[e].x-c,h),",",g(this.points[e].y-d,h)," ");f.push("<",this.type," ",this.getSvgId(),'points="',b.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');return a?a(f.join("")):f.join("")},commonRender:function(a,b){var c,d=this.points.length,f=b?0:this.pathOffset.x,e=b?0:this.pathOffset.y;if(!d||isNaN(this.points[d-1].y))return!1;a.beginPath();a.moveTo(this.points[0].x-f,this.points[0].y-
e);for(var g=0;g<d;g++)c=this.points[g],a.lineTo(c.x-f,c.y-e);return!0},_render:function(a,b){this.commonRender(a,b)&&(this._renderFill(a),this._renderStroke(a))},_renderDashedStroke:function(a){var c,d;a.beginPath();for(var f=0,e=this.points.length;f<e;f++)c=this.points[f],d=this.points[f+1]||c,b.util.drawDashedLine(a,c.x,c.y,d.x,d.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),b.Polyline.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat(),b.Polyline.fromElement=function(a,
c){if(!a)return null;c||(c={});var d=b.parsePointsAttribute(a.getAttribute("points")),f=b.parseAttributes(a,b.Polyline.ATTRIBUTE_NAMES);return new b.Polyline(d,b.util.object.extend(f,c))},b.Polyline.fromObject=function(a,c,d){return b.Object._fromObject("Polyline",a,c,d,"points")})})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.object.extend;b.Polygon?b.warn("fabric.Polygon is already defined"):(b.Polygon=b.util.createClass(b.Polyline,{type:"polygon",_render:function(b,a){this.commonRender(b,a)&&(b.closePath(),this._renderFill(b),this._renderStroke(b))},_renderDashedStroke:function(b){this.callSuper("_renderDashedStroke",b);b.closePath()}}),b.Polygon.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat(),b.Polygon.fromElement=function(c,a){if(!c)return null;a||(a={});var e=b.parsePointsAttribute(c.getAttribute("points")),
h=b.parseAttributes(c,b.Polygon.ATTRIBUTE_NAMES);return new b.Polygon(e,d(h,a))},b.Polygon.fromObject=function(c,a,d){return b.Object._fromObject("Polygon",c,a,d,"points")})})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.array.min,c=b.util.array.max,a=b.util.object.extend,g=Object.prototype.toString,h=b.util.drawArc,f={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},l={m:"l",M:"L"};b.Path?b.warn("fabric.Path is already defined"):(b.Path=b.util.createClass(b.Object,{type:"path",path:null,minX:0,minY:0,cacheProperties:b.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:b.Object.prototype.stateProperties.concat("path"),initialize:function(a,b){b=b||{};
this.callSuper("initialize",b);a||(a=[]);var c="[object Array]"===g.call(a);if(this.path=c?a:a.match&&a.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi))c||(this.path=this._parsePath()),this._setPositionDimensions(b)},_setPositionDimensions:function(a){var b=this._parseDimensions();this.minX=b.left;this.minY=b.top;this.width=b.width;this.height=b.height;"undefined"===typeof a.left&&(this.left=b.left+("center"===this.originX?this.width/2:"right"===this.originX?this.width:0));"undefined"===typeof a.top&&(this.top=
b.top+("center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0));this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_renderPathCommands:function(a){var b,c=null,d=0,f=0,e=0,g=0,l=0,k=0,w,y,x=-this.pathOffset.x,u=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(u=x=0);a.beginPath();for(var C=0,D=this.path.length;C<D;++C){b=this.path[C];switch(b[0]){case "l":e+=b[1];g+=b[2];a.lineTo(e+x,g+u);break;case "L":e=b[1];g=b[2];a.lineTo(e+
x,g+u);break;case "h":e+=b[1];a.lineTo(e+x,g+u);break;case "H":e=b[1];a.lineTo(e+x,g+u);break;case "v":g+=b[1];a.lineTo(e+x,g+u);break;case "V":g=b[1];a.lineTo(e+x,g+u);break;case "m":e+=b[1];g+=b[2];d=e;f=g;a.moveTo(e+x,g+u);break;case "M":e=b[1];g=b[2];d=e;f=g;a.moveTo(e+x,g+u);break;case "c":w=e+b[5];y=g+b[6];l=e+b[3];k=g+b[4];a.bezierCurveTo(e+b[1]+x,g+b[2]+u,l+x,k+u,w+x,y+u);e=w;g=y;break;case "C":e=b[5];g=b[6];l=b[3];k=b[4];a.bezierCurveTo(b[1]+x,b[2]+u,l+x,k+u,e+x,g+u);break;case "s":w=e+b[3];
y=g+b[4];null===c[0].match(/[CcSs]/)?(l=e,k=g):(l=2*e-l,k=2*g-k);a.bezierCurveTo(l+x,k+u,e+b[1]+x,g+b[2]+u,w+x,y+u);l=e+b[1];k=g+b[2];e=w;g=y;break;case "S":w=b[3];y=b[4];null===c[0].match(/[CcSs]/)?(l=e,k=g):(l=2*e-l,k=2*g-k);a.bezierCurveTo(l+x,k+u,b[1]+x,b[2]+u,w+x,y+u);e=w;g=y;l=b[1];k=b[2];break;case "q":w=e+b[3];y=g+b[4];l=e+b[1];k=g+b[2];a.quadraticCurveTo(l+x,k+u,w+x,y+u);e=w;g=y;break;case "Q":w=b[3];y=b[4];a.quadraticCurveTo(b[1]+x,b[2]+u,w+x,y+u);e=w;g=y;l=b[1];k=b[2];break;case "t":w=
e+b[1];y=g+b[2];null===c[0].match(/[QqTt]/)?(l=e,k=g):(l=2*e-l,k=2*g-k);a.quadraticCurveTo(l+x,k+u,w+x,y+u);e=w;g=y;break;case "T":w=b[1];y=b[2];null===c[0].match(/[QqTt]/)?(l=e,k=g):(l=2*e-l,k=2*g-k);a.quadraticCurveTo(l+x,k+u,w+x,y+u);e=w;g=y;break;case "a":h(a,e+x,g+u,[b[1],b[2],b[3],b[4],b[5],b[6]+e+x,b[7]+g+u]);e+=b[6];g+=b[7];break;case "A":h(a,e+x,g+u,[b[1],b[2],b[3],b[4],b[5],b[6]+x,b[7]+u]);e=b[6];g=b[7];break;case "z":case "Z":e=d,g=f,a.closePath()}c=b}},_render:function(a){this._renderPathCommands(a);
this._renderFill(a);this._renderStroke(a)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(b){return a(this.callSuper("toObject",["sourcePath","pathOffset"].concat(b)),{path:this.path.map(function(a){return a.slice()}),top:this.top,left:this.left})},toDatalessObject:function(a){a=this.toObject(a);this.sourcePath&&(a.path=this.sourcePath);delete a.sourcePath;return a},toSVG:function(a){for(var b=[],c=this._createBaseSVGMarkup(),
d="",f=0,e=this.path.length;f<e;f++)b.push(this.path[f].join(" "));b=b.join(" ");this.group&&"path-group"===this.group.type||(d=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") ");c.push("<path ",this.getSvgId(),'d="',b,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),d,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n");return a?a(c.join("")):c.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var a=[],b=[],c,d,e=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/ig,
g,h=0,v=this.path.length;h<v;h++){c=this.path[h];g=c.slice(1).trim();for(b.length=0;d=e.exec(g);)b.push(d[0]);c=[c.charAt(0)];g=0;for(var A=b.length;g<A;g++)d=parseFloat(b[g]),isNaN(d)||c.push(d);d=c[0];g=f[d.toLowerCase()];A=l[d]||d;if(c.length-1>g)for(var w=1,y=c.length;w<y;w+=g)a.push([d].concat(c.slice(w,w+g))),d=A;else a.push(c)}return a},_parseDimensions:function(){for(var a=[],f=[],e,g=null,h=0,l=0,r=0,v=0,A=0,w=0,y,x,u,C=0,D=this.path.length;C<D;++C){e=this.path[C];switch(e[0]){case "l":r+=
e[1];v+=e[2];u=[];break;case "L":r=e[1];v=e[2];u=[];break;case "h":r+=e[1];u=[];break;case "H":r=e[1];u=[];break;case "v":v+=e[1];u=[];break;case "V":v=e[1];u=[];break;case "m":r+=e[1];v+=e[2];h=r;l=v;u=[];break;case "M":r=e[1];v=e[2];h=r;l=v;u=[];break;case "c":y=r+e[5];x=v+e[6];A=r+e[3];w=v+e[4];u=b.util.getBoundsOfCurve(r,v,r+e[1],v+e[2],A,w,y,x);r=y;v=x;break;case "C":A=e[3];w=e[4];u=b.util.getBoundsOfCurve(r,v,e[1],e[2],A,w,e[5],e[6]);r=e[5];v=e[6];break;case "s":y=r+e[3];x=v+e[4];null===g[0].match(/[CcSs]/)?
(A=r,w=v):(A=2*r-A,w=2*v-w);u=b.util.getBoundsOfCurve(r,v,A,w,r+e[1],v+e[2],y,x);A=r+e[1];w=v+e[2];r=y;v=x;break;case "S":y=e[3];x=e[4];null===g[0].match(/[CcSs]/)?(A=r,w=v):(A=2*r-A,w=2*v-w);u=b.util.getBoundsOfCurve(r,v,A,w,e[1],e[2],y,x);r=y;v=x;A=e[1];w=e[2];break;case "q":y=r+e[3];x=v+e[4];A=r+e[1];w=v+e[2];u=b.util.getBoundsOfCurve(r,v,A,w,A,w,y,x);r=y;v=x;break;case "Q":A=e[1];w=e[2];u=b.util.getBoundsOfCurve(r,v,A,w,A,w,e[3],e[4]);r=e[3];v=e[4];break;case "t":y=r+e[1];x=v+e[2];null===g[0].match(/[QqTt]/)?
(A=r,w=v):(A=2*r-A,w=2*v-w);u=b.util.getBoundsOfCurve(r,v,A,w,A,w,y,x);r=y;v=x;break;case "T":y=e[1];x=e[2];null===g[0].match(/[QqTt]/)?(A=r,w=v):(A=2*r-A,w=2*v-w);u=b.util.getBoundsOfCurve(r,v,A,w,A,w,y,x);r=y;v=x;break;case "a":u=b.util.getBoundsOfArc(r,v,e[1],e[2],e[3],e[4],e[5],e[6]+r,e[7]+v);r+=e[6];v+=e[7];break;case "A":u=b.util.getBoundsOfArc(r,v,e[1],e[2],e[3],e[4],e[5],e[6],e[7]);r=e[6];v=e[7];break;case "z":case "Z":r=h,v=l}g=e;u.forEach(function(b){a.push(b.x);f.push(b.y)});a.push(r);
f.push(v)}e=d(a)||0;g=d(f)||0;h=c(a)||0;l=c(f)||0;return{left:e,top:g,width:h-e,height:l-g}}}),b.Path.fromObject=function(a,c,d){var e;if("string"===typeof a.path)b.loadSVGFromURL(a.path,function(b){var d=a.path;e=b[0];delete a.path;e.setOptions(a);e.setSourcePath(d);c&&c(e)});else return b.Object._fromObject("Path",a,c,d,"path")},b.Path.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat(["d"]),b.Path.fromElement=function(c,d,e){c=b.parseAttributes(c,b.Path.ATTRIBUTE_NAMES);d&&d(new b.Path(c.d,a(c,e)))},
b.Path.async=!0)})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.object.extend;b.PathGroup?b.warn("fabric.PathGroup is already defined"):(b.PathGroup=b.util.createClass(b.Object,{type:"path-group",fill:"",cacheProperties:[],initialize:function(b,a){a=a||{};this.paths=b||[];for(var c=this.paths.length;c--;)this.paths[c].group=this;a.toBeParsed&&(this.parseDimensionsFromPaths(a),delete a.toBeParsed);this.setOptions(a);this.setCoords()},parseDimensionsFromPaths:function(c){for(var a,d,e=[],f=[],l,k=this.paths.length;k--;){a=
this.paths[k];d=a.height+a.strokeWidth;l=a.width+a.strokeWidth;a=[{x:a.left,y:a.top},{x:a.left+l,y:a.top},{x:a.left,y:a.top+d},{x:a.left+l,y:a.top+d}];l=this.paths[k].transformMatrix;for(var m=0;m<a.length;m++)d=a[m],l&&(d=b.util.transformPoint(d,l,!1)),e.push(d.x),f.push(d.y)}c.width=Math.max.apply(null,e);c.height=Math.max.apply(null,f)},drawObject:function(b){b.save();b.translate(-this.width/2,-this.height/2);for(var a=0,c=this.paths.length;a<c;++a)this.paths[a].render(b,!0);b.restore()},shouldCache:function(){var b=
this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isCaching());if(this.caching=b)for(var a=0,d=this.paths.length;a<d;a++)if(this.paths[a].willDrawShadow())return this.caching=!1;return b},willDrawShadow:function(){if(this.shadow)return!0;for(var b=0,a=this.paths.length;b<a;b++)if(this.paths[b].willDrawShadow())return!0;return!1},isCaching:function(){return this.caching||this.group&&this.group.isCaching()},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;
for(var b=0,a=this.paths.length;b<a;b++)if(this.paths[b].isCacheDirty(!0))return this._cacheCanvas&&(b=this.cacheWidth/this.zoomX,a=this.cacheHeight/this.zoomY,this._cacheContext.clearRect(-b/2,-a/2,b,a)),!0;return!1},_set:function(b,a){if("fill"===b&&a&&this.isSameColor())for(var c=this.paths.length;c--;)this.paths[c]._set(b,a);return this.callSuper("_set",b,a)},toObject:function(b){var a=this.paths.map(function(a){var c=a.includeDefaultValues;a.includeDefaultValues=a.group.includeDefaultValues;
var d=a.toObject(b);a.includeDefaultValues=c;return d});return d(this.callSuper("toObject",["sourcePath"].concat(b)),{paths:a})},toDatalessObject:function(b){b=this.toObject(b);this.sourcePath&&(b.paths=this.sourcePath);return b},toSVG:function(b){var a=this.getObjects(),c=this.getPointByOrigin("left","top"),d="translate("+c.x+" "+c.y+")",c=this._createBaseSVGMarkup();c.push("<g ",this.getSvgId(),'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransformMatrix(),d,this.getSvgTransform(),
'" ',">\n");for(var d=0,e=a.length;d<e;d++)c.push("\t",a[d].toSVG(b));c.push("</g>\n");return b?b(c.join("")):c.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var b=this.getObjects()[0].get("fill")||"";if("string"!==typeof b)return!1;b=b.toLowerCase();return this.getObjects().every(function(a){a=a.get("fill")||"";return"string"===typeof a&&a.toLowerCase()===b})},complexity:function(){return this.paths.reduce(function(b,
a){return b+(a&&a.complexity?a.complexity():0)},0)},getObjects:function(){return this.paths}}),b.PathGroup.fromObject=function(c,a){var d=c.paths;delete c.paths;"string"===typeof d?b.loadSVGFromURL(d,function(e){e=b.util.groupSVGElements(e,c,d);c.paths=d;a(e)}):b.util.enlivenObjects(d,function(e){e=new b.PathGroup(e,c);c.paths=d;a(e)})},b.PathGroup.async=!0)})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.object.extend,c=b.util.array.min,a=b.util.array.max;if(!b.Group){var g={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};b.Group=b.util.createClass(b.Object,b.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],initialize:function(a,b,c){b=b||{};this._objects=[];c&&this.callSuper("initialize",b);this._objects=a||[];for(a=this._objects.length;a--;)this._objects[a].group=this;
b.originX&&(this.originX=b.originX);b.originY&&(this.originY=b.originY);c?(this._updateObjectsCoords(!0),this._updateObjectsACoords()):(this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",b));this.setCoords();this.saveCoords()},_updateObjectsACoords:function(){for(var a=this._objects.length;a--;)this._objects[a].setCoords(!0,!0)},_updateObjectsCoords:function(a){for(var b=this.getCenterPoint(),c=this._objects.length;c--;)this._updateObjectCoords(this._objects[c],b,a)},_updateObjectCoords:function(a,
b,c){a.__origHasControls=a.hasControls;a.hasControls=!1;if(!c){c=a.getLeft();var d=a.getTop();a.set({left:c-b.x,top:d-b.y});a.setCoords(!0,!0)}},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){this._restoreObjectsState();b.util.resetObjectTransform(this);a&&(this._objects.push(a),a.group=this,a._set("canvas",this.canvas));this.forEachObject(this._setObjectActive,this);this._calcBounds();this._updateObjectsCoords();this.setCoords();this.dirty=!0;return this},
_setObjectActive:function(a){a.set("active",!0);a.group=this},removeWithUpdate:function(a){this._restoreObjectsState();b.util.resetObjectTransform(this);this.forEachObject(this._setObjectActive,this);this.remove(a);this._calcBounds();this._updateObjectsCoords();this.setCoords();this.dirty=!0;return this},_onObjectAdded:function(a){this.dirty=!0;a.group=this;a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0;delete a.group;a.set("active",!1)},delegatedProperties:{fill:!0,stroke:!0,
strokeWidth:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(a,b){var c=this._objects.length;if(this.delegatedProperties[a]||"canvas"===a)for(;c--;)this._objects[c].set(a,b);else for(;c--;)this._objects[c].setOnGroup(a,b);this.callSuper("_set",a,b)},toObject:function(a){var b=this.getObjects().map(function(b){var c=b.includeDefaultValues;b.includeDefaultValues=b.group.includeDefaultValues;var d=b.toObject(a);b.includeDefaultValues=
c;return d});return d(this.callSuper("toObject",a),{objects:b})},toDatalessObject:function(a){var b=this.getObjects().map(function(b){var c=b.includeDefaultValues;b.includeDefaultValues=b.group.includeDefaultValues;var d=b.toDatalessObject(a);b.includeDefaultValues=c;return d});return d(this.callSuper("toDatalessObject",a),{objects:b})},render:function(a){this._transformDone=!0;this.callSuper("render",a);this._transformDone=!1},shouldCache:function(){var a=this.objectCaching&&(!this.group||this.needsItsOwnCache()||
!this.group.isCaching());if(this.caching=a)for(var b=0,c=this._objects.length;b<c;b++)if(this._objects[b].willDrawShadow())return this.caching=!1;return a},willDrawShadow:function(){if(this.callSuper("willDrawShadow"))return!0;for(var a=0,b=this._objects.length;a<b;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isCaching:function(){return this.caching||this.group&&this.group.isCaching()},drawObject:function(a){for(var b=0,c=this._objects.length;b<c;b++)this._renderObject(this._objects[b],
a)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var a=0,b=this._objects.length;a<b;a++)if(this._objects[a].isCacheDirty(!0))return this._cacheCanvas&&(a=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY,this._cacheContext.clearRect(-a/2,-b/2,a,b)),!0;return!1},_renderControls:function(a,b){a.save();a.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;this.callSuper("_renderControls",a,b);for(var c=0,d=this._objects.length;c<
d;c++)this._objects[c]._renderControls(a);a.restore()},_renderObject:function(a,b){if(a.visible){var c=a.hasRotatingPoint;a.hasRotatingPoint=!1;a.render(b);a.hasRotatingPoint=c}},_restoreObjectsState:function(){this._objects.forEach(this._restoreObjectState,this);return this},realizeTransform:function(a){var c=a.calcTransformMatrix(),c=b.util.qrDecompose(c),d=new b.Point(c.translateX,c.translateY);a.flipX=!1;a.flipY=!1;a.set("scaleX",c.scaleX);a.set("scaleY",c.scaleY);a.skewX=c.skewX;a.skewY=c.skewY;
a.angle=c.angle;a.setPositionByOrigin(d,"center","center");return a},_restoreObjectState:function(a){this.realizeTransform(a);a.setCoords();a.hasControls=a.__origHasControls;delete a.__origHasControls;a.set("active",!1);delete a.group;return this},destroy:function(){this._objects.forEach(function(a){a.set("dirty",!0)});return this._restoreObjectsState()},saveCoords:function(){this._originalLeft=this.get("left");this._originalTop=this.get("top");return this},hasMoved:function(){return this._originalLeft!==
this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){this.forEachObject(function(a){a.setCoords(!0,!0)});return this},_calcBounds:function(a){for(var b=[],c=[],d,e,g=["tr","br","bl","tl"],h=0,q=this._objects.length,t,r=g.length;h<q;++h)for(d=this._objects[h],d.setCoords(!0),t=0;t<r;t++)e=g[t],b.push(d.oCoords[e].x),c.push(d.oCoords[e].y);this.set(this._getBounds(b,c,a))},_getBounds:function(d,e,g){var f=new b.Point(c(d),c(e));d=new b.Point(a(d),a(e));d={width:d.x-f.x||
0,height:d.y-f.y||0};g||(d.left=f.x||0,d.top=f.y||0,"center"===this.originX&&(d.left+=d.width/2),"right"===this.originX&&(d.left+=d.width),"center"===this.originY&&(d.top+=d.height/2),"bottom"===this.originY&&(d.top+=d.height));return d},toSVG:function(a){var b=this._createBaseSVGMarkup();b.push("<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style="',this.getSvgFilter(),'">\n');for(var c=0,d=this._objects.length;c<d;c++)b.push("\t",this._objects[c].toSVG(a));
b.push("</g>\n");return a?a(b.join("")):b.join("")},get:function(a){if(a in g){if(this[a])return this[a];for(var b=0,c=this._objects.length;b<c;b++)if(this._objects[b][a])return!0;return!1}return a in this.delegatedProperties?this._objects[0]&&this._objects[0].get(a):this[a]}});b.Group.fromObject=function(a,c){b.util.enlivenObjects(a.objects,function(d){var e=b.util.object.clone(a,!0);delete e.objects;c&&c(new b.Group(d,e,!0))})};b.Group.async=!0}})("undefined"!==typeof exports?exports:this);
(function(e){var b=fabric.util.object.extend;e.fabric||(e.fabric={});e.fabric.Image?fabric.warn("fabric.Image is already defined."):(fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,minimumScaleTrigger:.5,stateProperties:fabric.Object.prototype.stateProperties.concat("alignX","alignY","meetOrSlice"),objectCaching:!1,initialize:function(b,c,a){c||(c={});this.filters=[];this.resizeFilters=
[];this.callSuper("initialize",c);this._initElement(b,c,a)},getElement:function(){return this._element},setElement:function(b,c,a){var d;this._originalElement=this._element=b;this._initConfig(a);0===this.resizeFilters.length?b=c:(d=this,b=function(){d.applyFilters(c,d.resizeFilters,d._filteredEl||d._originalElement,!0)});0!==this.filters.length?this.applyFilters(b):b&&b(this);return this},setCrossOrigin:function(b){this.crossOrigin=b;this._element.crossOrigin=b;return this},getOriginalSize:function(){var b=
this.getElement();return{width:b.width,height:b.height}},_stroke:function(b){if(this.stroke&&0!==this.strokeWidth){var c=this.width/2,a=this.height/2;b.beginPath();b.moveTo(-c,-a);b.lineTo(c,-a);b.lineTo(c,a);b.lineTo(-c,a);b.lineTo(-c,-a);b.closePath()}},_renderDashedStroke:function(b){var c=-this.width/2,a=-this.height/2,d=this.width,e=this.height;b.save();this._setStrokeStyles(b);b.beginPath();fabric.util.drawDashedLine(b,c,a,c+d,a,this.strokeDashArray);fabric.util.drawDashedLine(b,c+d,a,c+d,a+
e,this.strokeDashArray);fabric.util.drawDashedLine(b,c+d,a+e,c,a+e,this.strokeDashArray);fabric.util.drawDashedLine(b,c,a+e,c,a,this.strokeDashArray);b.closePath();b.restore()},toObject:function(d){var c=[],a=[],e=1,h=1;this.filters.forEach(function(a){a&&("Resize"===a.type&&(e*=a.scaleX,h*=a.scaleY),c.push(a.toObject()))});this.resizeFilters.forEach(function(b){b&&a.push(b.toObject())});d=b(this.callSuper("toObject",["crossOrigin","alignX","alignY","meetOrSlice"].concat(d)),{src:this.getSrc(),filters:c,
resizeFilters:a});d.width/=e;d.height/=h;return d},toSVG:function(b){var c=this._createBaseSVGMarkup(),a=-this.width/2,d=-this.height/2,e="none";this.group&&"path-group"===this.group.type&&(a=this.left,d=this.top);"none"!==this.alignX&&"none"!==this.alignY&&(e="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice);c.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',"<image ",this.getSvgId(),'xlink:href="',this.getSvgSrc(!0),'" x="',a,'" y="',d,'" style="',this.getSvgStyles(),
'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',e,'"',"></image>\n");if(this.stroke||this.strokeDashArray)e=this.fill,this.fill=null,c.push("<rect ",'x="',a,'" y="',d,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=e;c.push("</g>\n");return b?b(c.join("")):c.join("")},getSrc:function(b){return(b=b?this._element:this._originalElement)?fabric.isLikelyNode?b._src:b.src:this.src||""},setSrc:function(b,c,a){fabric.util.loadImage(b,
function(b){return this.setElement(b,c,a)},this,a&&a.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyFilters:function(b,c,a,e){c=c||this.filters;if(a=a||this._originalElement){var d=fabric.util.createImage(),f=this.canvas?this.canvas.getRetinaScaling():fabric.devicePixelRatio,g=this.minimumScaleTrigger/f,k=this,m,n;if(0===c.length)return this._element=a,b&&b(this),a;var p=fabric.util.createCanvasElement();p.width=a.width;p.height=a.height;p.getContext("2d").drawImage(a,
0,0,a.width,a.height);c.forEach(function(a){a&&(e?(m=k.scaleX<g?k.scaleX:1,n=k.scaleY<g?k.scaleY:1,1>m*f&&(m*=f),1>n*f&&(n*=f)):(m=a.scaleX,n=a.scaleY),a.applyTo(p,m,n),e||"Resize"!==a.type||(k.width*=a.scaleX,k.height*=a.scaleY))});d.width=p.width;d.height=p.height;fabric.isLikelyNode?(d.src=p.toBuffer(void 0,fabric.Image.pngCompression),k._element=d,!e&&(k._filteredEl=d),b&&b(k)):(d.onload=function(){k._element=d;!e&&(k._filteredEl=d);b&&b(k);d.onload=p=null},d.src=p.toDataURL("image/png"));return p}},
_render:function(b,c){var a,d,e=this._findMargins(),f;a=c?this.left:-this.width/2;d=c?this.top:-this.height/2;"slice"===this.meetOrSlice&&(b.beginPath(),b.rect(a,d,this.width,this.height),b.clip());!1===this.isMoving&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,f=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):f=this._element;f&&b.drawImage(f,a+e.marginX,d+e.marginY,e.width,e.height);this._stroke(b);
this._renderStroke(b)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var b=this.width,c=this.height,a=0,e=0;if("none"!==this.alignX||"none"!==this.alignY)b=[this.width/this._element.width,this.height/this._element.height],c="meet"===this.meetOrSlice?Math.min.apply(null,b):Math.max.apply(null,b),b=this._element.width*c,c*=this._element.height,"Mid"===this.alignX&&(a=(this.width-b)/2),"Max"===this.alignX&&(a=this.width-b),"Mid"===
this.alignY&&(e=(this.height-c)/2),"Max"===this.alignY&&(e=this.height-c);return{width:b,height:c,marginX:a,marginY:e}},_resetWidthHeight:function(){var b=this.getElement();this.set("width",b.width);this.set("height",b.height)},_initElement:function(b,c,a){this.setElement(fabric.util.getById(b),a,c);fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(b){b||(b={});this.setOptions(b);this._setWidthHeight(b);this._element&&this.crossOrigin&&(this._element.crossOrigin=
this.crossOrigin)},_initFilters:function(b,c){b&&b.length?fabric.util.enlivenObjects(b,function(a){c&&c(a)},"fabric.Image.filters"):c&&c()},_setWidthHeight:function(b){this.width="width"in b?b.width:this.getElement()?this.getElement().width||0:0;this.height="height"in b?b.height:this.getElement()?this.getElement().height||0:0}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(b,c){fabric.util.loadImage(b.src,function(a,
d){d?c&&c(null,d):fabric.Image.prototype._initFilters.call(b,b.filters,function(d){b.filters=d||[];fabric.Image.prototype._initFilters.call(b,b.resizeFilters,function(d){b.resizeFilters=d||[];return new fabric.Image(a,b,c)})})},null,b.crossOrigin)},fabric.Image.fromURL=function(b,c,a){fabric.util.loadImage(b,function(b){c&&c(new fabric.Image(b,a))},null,a&&a.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),
fabric.Image.fromElement=function(d,c,a){d=fabric.parseAttributes(d,fabric.Image.ATTRIBUTE_NAMES);var e;d.preserveAspectRatio&&(e=fabric.util.parsePreserveAspectRatioAttribute(d.preserveAspectRatio),b(d,e));fabric.Image.fromURL(d["xlink:href"],c,b(a?fabric.util.object.clone(a):{},d))},fabric.Image.async=!0,fabric.Image.pngCompression=1)})("undefined"!==typeof exports?exports:this);
fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.getAngle()%360;return 0<e?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){this.setAngle(this._getAngleValueForStraighten());return this},fxStraighten:function(e){e=e||{};var b=function(){},d=e.onComplete||b,c=e.onChange||b,a=this;fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(b){a.setAngle(b);
c()},onComplete:function(){a.setCoords();d()},onStart:function(){a.set("active",!1)}});return this}});fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(e){e.straighten();this.renderAll();return this},fxStraightenObject:function(e){e.fxStraighten({onChange:this.renderAll.bind(this)});return this}});fabric.Image.filters=fabric.Image.filters||{};
fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var b in e)this[b]=e[b]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}});fabric.Image.filters.BaseFilter.fromObject=function(e,b){var d=new fabric.Image.filters[e.type](e);b&&b(d);return d};
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.Brightness=c(d.BaseFilter,{type:"Brightness",initialize:function(a){a=a||{};this.brightness=a.brightness||0},applyTo:function(a){var b=a.getContext("2d");a=b.getImageData(0,0,a.width,a.height);for(var c=a.data,d=this.brightness,e=0,k=c.length;e<k;e+=4)c[e]+=d,c[e+1]+=d,c[e+2]+=d;b.putImageData(a,0,0)},toObject:function(){return b(this.callSuper("toObject"),{brightness:this.brightness})}});e.Image.filters.Brightness.fromObject=
e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.Convolute=c(d.BaseFilter,{type:"Convolute",initialize:function(a){a=a||{};this.opaque=a.opaque;this.matrix=a.matrix||[0,0,0,0,1,0,0,0,0]},applyTo:function(a){var b=this.matrix,c=a.getContext("2d"),d=c.getImageData(0,0,a.width,a.height);a=Math.round(Math.sqrt(b.length));for(var e=Math.floor(a/2),k=d.data,m=d.width,d=d.height,n=c.createImageData(m,d),p=n.data,q=this.opaque?1:0,t,r,v,A,w,y,x,u=
0;u<d;u++)for(var C=0;C<m;C++){w=4*(u*m+C);for(var D=A=v=r=t=0;D<a;D++)for(var z=0;z<a;z++)x=u+D-e,y=C+z-e,0>x||x>d||0>y||y>m||(y=4*(x*m+y),x=b[D*a+z],t+=k[y]*x,r+=k[y+1]*x,v+=k[y+2]*x,A+=k[y+3]*x);p[w]=t;p[w+1]=r;p[w+2]=v;p[w+3]=A+q*(255-A)}c.putImageData(n,0,0)},toObject:function(){return b(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}});e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.GradientTransparency=c(d.BaseFilter,{type:"GradientTransparency",initialize:function(a){a=a||{};this.threshold=a.threshold||100},applyTo:function(a){var b=a.getContext("2d");a=b.getImageData(0,0,a.width,a.height);for(var c=a.data,d=this.threshold,e=c.length,k=0,m=c.length;k<m;k+=4)c[k+3]=d+255*(e-k)/e;b.putImageData(a,0,0)},toObject:function(){return b(this.callSuper("toObject"),{threshold:this.threshold})}});
e.Image.filters.GradientTransparency.fromObject=e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={});e=b.Image.filters;var d=b.util.createClass;e.Grayscale=d(e.BaseFilter,{type:"Grayscale",applyTo:function(b){var a=b.getContext("2d");b=a.getImageData(0,0,b.width,b.height);for(var c=b.data,d=b.width*b.height*4,e=0,l;e<d;)l=(c[e]+c[e+1]+c[e+2])/3,c[e]=l,c[e+1]=l,c[e+2]=l,e+=4;a.putImageData(b,0,0)}});b.Image.filters.Grayscale.fromObject=function(c,a){c=c||{};c.type="Grayscale";return b.Image.filters.BaseFilter.fromObject(c,a)}})("undefined"!==typeof exports?
exports:this);
(function(e){var b=e.fabric||(e.fabric={});e=b.Image.filters;var d=b.util.createClass;e.Invert=d(e.BaseFilter,{type:"Invert",applyTo:function(b){var a=b.getContext("2d");b=a.getImageData(0,0,b.width,b.height);var c=b.data,d=c.length,e;for(e=0;e<d;e+=4)c[e]=255-c[e],c[e+1]=255-c[e+1],c[e+2]=255-c[e+2];a.putImageData(b,0,0)}});b.Image.filters.Invert.fromObject=function(c,a){c=c||{};c.type="Invert";return b.Image.filters.BaseFilter.fromObject(c,a)}})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.object.extend;e=b.Image.filters;var c=b.util.createClass;e.Mask=c(e.BaseFilter,{type:"Mask",initialize:function(a){a=a||{};this.mask=a.mask;this.channel=-1<[0,1,2,3].indexOf(a.channel)?a.channel:0},applyTo:function(a){if(this.mask){var c=a.getContext("2d"),d=c.getImageData(0,0,a.width,a.height),e=d.data,l=this.mask.getElement(),k=b.util.createCanvasElement(),m=this.channel,n=d.width*d.height*4;k.width=a.width;k.height=a.height;k.getContext("2d").drawImage(l,
0,0,a.width,a.height);l=k.getContext("2d").getImageData(0,0,a.width,a.height).data;for(a=0;a<n;a+=4)e[a+3]=l[a+m];c.putImageData(d,0,0)}},toObject:function(){return d(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}});b.Image.filters.Mask.fromObject=function(a,c){b.util.loadImage(a.mask.src,function(d){a.mask=new b.Image(d,a.mask);return b.Image.filters.BaseFilter.fromObject(a,c)})};b.Image.filters.Mask.async=!0})("undefined"!==typeof exports?exports:this);
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.Noise=c(d.BaseFilter,{type:"Noise",initialize:function(a){a=a||{};this.noise=a.noise||0},applyTo:function(a){var b=a.getContext("2d");a=b.getImageData(0,0,a.width,a.height);for(var c=a.data,d=this.noise,e,k=0,m=c.length;k<m;k+=4)e=(.5-Math.random())*d,c[k]+=e,c[k+1]+=e,c[k+2]+=e;b.putImageData(a,0,0)},toObject:function(){return b(this.callSuper("toObject"),{noise:this.noise})}});e.Image.filters.Noise.fromObject=
e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.Pixelate=c(d.BaseFilter,{type:"Pixelate",initialize:function(a){a=a||{};this.blocksize=a.blocksize||4},applyTo:function(a){var b=a.getContext("2d");a=b.getImageData(0,0,a.width,a.height);var c=a.data,d=a.height,e=a.width,k,m,n,p,q,t,r;for(m=0;m<d;m+=this.blocksize)for(n=0;n<e;n+=this.blocksize){k=4*m*e+4*n;p=c[k];q=c[k+1];t=c[k+2];r=c[k+3];for(var v=m,A=m+this.blocksize;v<A;v++)for(var w=n,y=
n+this.blocksize;w<y;w++)k=4*v*e+4*w,c[k]=p,c[k+1]=q,c[k+2]=t,c[k+3]=r}b.putImageData(a,0,0)},toObject:function(){return b(this.callSuper("toObject"),{blocksize:this.blocksize})}});e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.RemoveWhite=c(d.BaseFilter,{type:"RemoveWhite",initialize:function(a){a=a||{};this.threshold=a.threshold||30;this.distance=a.distance||20},applyTo:function(a){var b=a.getContext("2d");a=b.getImageData(0,0,a.width,a.height);for(var c=a.data,d=this.distance,e=255-this.threshold,k=Math.abs,m,n,p,q=0,t=c.length;q<t;q+=4)m=c[q],n=c[q+1],p=c[q+2],m>e&&n>e&&p>e&&k(m-n)<d&&k(m-p)<d&&k(n-p)<d&&(c[q+3]=
0);b.putImageData(a,0,0)},toObject:function(){return b(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}});e.Image.filters.RemoveWhite.fromObject=e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={});e=b.Image.filters;var d=b.util.createClass;e.Sepia=d(e.BaseFilter,{type:"Sepia",applyTo:function(b){var a=b.getContext("2d");b=a.getImageData(0,0,b.width,b.height);var c=b.data,d=c.length,e,l;for(e=0;e<d;e+=4)l=.3*c[e]+.59*c[e+1]+.11*c[e+2],c[e]=l+100,c[e+1]=l+50,c[e+2]=l+255;a.putImageData(b,0,0)}});b.Image.filters.Sepia.fromObject=function(c,a){c=c||{};c.type="Sepia";return new b.Image.filters.BaseFilter.fromObject(c,a)}})("undefined"!==typeof exports?
exports:this);
(function(e){var b=e.fabric||(e.fabric={});e=b.Image.filters;var d=b.util.createClass;e.Sepia2=d(e.BaseFilter,{type:"Sepia2",applyTo:function(b){var a=b.getContext("2d");b=a.getImageData(0,0,b.width,b.height);var c=b.data,d=c.length,e,l,k,m;for(e=0;e<d;e+=4)l=c[e],k=c[e+1],m=c[e+2],c[e]=(.393*l+.769*k+.189*m)/1.351,c[e+1]=(.349*l+.686*k+.168*m)/1.203,c[e+2]=(.272*l+.534*k+.131*m)/2.14;a.putImageData(b,0,0)}});b.Image.filters.Sepia2.fromObject=function(c,a){c=c||{};c.type="Sepia2";return new b.Image.filters.BaseFilter.fromObject(c,a)}})("undefined"!==
typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.object.extend;e=b.Image.filters;var c=b.util.createClass;e.Tint=c(e.BaseFilter,{type:"Tint",initialize:function(a){a=a||{};this.color=a.color||"#000000";this.opacity="undefined"!==typeof a.opacity?a.opacity:(new b.Color(this.color)).getAlpha()},applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);var d=a.data,e=d.length,l,k,m,n,p,q,t,r;l=(new b.Color(this.color)).getSource();k=l[0]*this.opacity;m=l[1]*this.opacity;
n=l[2]*this.opacity;r=1-this.opacity;for(l=0;l<e;l+=4)p=d[l],q=d[l+1],t=d[l+2],d[l]=k+p*r,d[l+1]=m+q*r,d[l+2]=n+t*r;c.putImageData(a,0,0)},toObject:function(){return d(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}});b.Image.filters.Tint.fromObject=b.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.object.extend;e=b.Image.filters;var c=b.util.createClass;e.Multiply=c(e.BaseFilter,{type:"Multiply",initialize:function(a){a=a||{};this.color=a.color||"#000000"},applyTo:function(a){var c=a.getContext("2d");a=c.getImageData(0,0,a.width,a.height);var d=a.data,e=d.length,l,k;k=(new b.Color(this.color)).getSource();for(l=0;l<e;l+=4)d[l]*=k[0]/255,d[l+1]*=k[1]/255,d[l+2]*=k[2]/255;c.putImageData(a,0,0)},toObject:function(){return d(this.callSuper("toObject"),
{color:this.color})}});b.Image.filters.Multiply.fromObject=b.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric;e=b.Image.filters;var d=b.util.createClass;e.Blend=d(e.BaseFilter,{type:"Blend",initialize:function(b){b=b||{};this.color=b.color||"#000";this.image=b.image||!1;this.mode=b.mode||"multiply";this.alpha=b.alpha||1},applyTo:function(c){var a=c.getContext("2d");c=a.getImageData(0,0,c.width,c.height);var d=c.data,e,f,l,k,m,n,p,q=!1;this.image?(q=!0,p=b.util.createCanvasElement(),p.width=this.image.width,p.height=this.image.height,p=new b.StaticCanvas(p),p.add(this.image),p=
p.getContext("2d").getImageData(0,0,p.width,p.height).data):(p=(new b.Color(this.color)).getSource(),e=p[0]*this.alpha,f=p[1]*this.alpha,l=p[2]*this.alpha);for(var t=0,r=d.length;t<r;t+=4)switch(k=d[t],m=d[t+1],n=d[t+2],q&&(e=p[t]*this.alpha,f=p[t+1]*this.alpha,l=p[t+2]*this.alpha),this.mode){case "multiply":d[t]=k*e/255;d[t+1]=m*f/255;d[t+2]=n*l/255;break;case "screen":d[t]=1-(1-k)*(1-e);d[t+1]=1-(1-m)*(1-f);d[t+2]=1-(1-n)*(1-l);break;case "add":d[t]=Math.min(255,k+e);d[t+1]=Math.min(255,m+f);d[t+
2]=Math.min(255,n+l);break;case "diff":case "difference":d[t]=Math.abs(k-e);d[t+1]=Math.abs(m-f);d[t+2]=Math.abs(n-l);break;case "subtract":k-=e;m-=f;n-=l;d[t]=0>k?0:k;d[t+1]=0>m?0:m;d[t+2]=0>n?0:n;break;case "darken":d[t]=Math.min(k,e);d[t+1]=Math.min(m,f);d[t+2]=Math.min(n,l);break;case "lighten":d[t]=Math.max(k,e),d[t+1]=Math.max(m,f),d[t+2]=Math.max(n,l)}a.putImageData(c,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}});b.Image.filters.Blend.fromObject=
b.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=Math.pow,c=Math.floor,a=Math.sqrt,g=Math.abs,h=Math.max,f=Math.round,l=Math.sin,k=Math.ceil;e=b.Image.filters;var m=b.util.createClass;e.Resize=m(e.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(a,b,c){if(1!==b||1!==c){this.rcpScaleX=1/b;this.rcpScaleY=1/c;var d=a.width,e=a.height;b=f(d*b);c=f(e*c);var g;"sliceHack"===this.resizeType&&(g=this.sliceByTwo(a,d,e,b,c));"hermite"===this.resizeType&&(g=this.hermiteFastResize(a,
d,e,b,c));"bilinear"===this.resizeType&&(g=this.bilinearFiltering(a,d,e,b,c));"lanczos"===this.resizeType&&(g=this.lanczosResize(a,d,e,b,c));a.width=b;a.height=c;a.getContext("2d").putImageData(g,0,0)}},sliceByTwo:function(a,d,e,f,g){var k=a.getContext("2d"),l,m=.5,n=.5,p=1,q=1,t=!1,r=!1,z=d,E=e,B=b.util.createCanvasElement(),F=B.getContext("2d");f=c(f);g=c(g);B.width=h(f,d);B.height=h(g,e);f>d&&(m=2,p=-1);g>e&&(n=2,q=-1);l=k.getImageData(0,0,d,e);a.width=h(f,d);a.height=h(g,e);for(k.putImageData(l,
0,0);!t||!r;)d=z,e=E,f*p<c(z*m*p)?z=c(z*m):(z=f,t=!0),g*q<c(E*n*q)?E=c(E*n):(E=g,r=!0),l=k.getImageData(0,0,d,e),F.putImageData(l,0,0),k.clearRect(0,0,z,E),k.drawImage(B,0,0,d,e,0,0,z,E);return k.getImageData(0,0,f,g)},lanczosResize:function(b,e,f,h,m){var n,p,q,t;function r(b){var k,l,u,v,w,x,A,y,J,M;q=(b+.5)*B;n=c(q);for(k=0;k<m;k++){t=(k+.5)*F;p=c(t);J=y=A=x=w=0;for(l=n-L;l<=n+L;l++)if(!(0>l||l>=e)){M=c(1E3*g(l-q));H[M]||(H[M]={});for(var N=p-O;N<=p+O;N++)0>N||N>=f||(u=c(1E3*g(N-t)),H[M][u]||(H[M][u]=
E(a(d(M*G,2)+d(u*K,2))/1E3)),u=H[M][u],0<u&&(v=4*(N*e+l),w+=u,x+=u*D[v],A+=u*D[v+1],y+=u*D[v+2],J+=u*D[v+3]))}v=4*(k*h+b);z[v]=x/w;z[v+1]=A/w;z[v+2]=y/w;z[v+3]=J/w}return++b<h?r(b):C}b=b.getContext("2d");var u=b.getImageData(0,0,e,f),C=b.getImageData(0,0,h,m),D=u.data,z=C.data,E=function(a){return function(b){if(b>a)return 0;b*=Math.PI;if(1E-16>g(b))return 1;var c=b/a;return l(b)*l(c)/b/c}}(this.lanczosLobes),B=this.rcpScaleX,F=this.rcpScaleY,G=2/this.rcpScaleX,K=2/this.rcpScaleY,L=k(B*this.lanczosLobes/
2),O=k(F*this.lanczosLobes/2),H={};p=n=t=q=void 0;return r(0)},bilinearFiltering:function(a,b,d,e,f){var g,h,k,l,m,n,p,q,t,r,B=0,F=this.rcpScaleX,G=this.rcpScaleY;p=a.getContext("2d");a=4*(b-1);d=p.getImageData(0,0,b,d).data;var K=p.getImageData(0,0,e,f),L=K.data;for(p=0;p<f;p++)for(q=0;q<e;q++)for(m=c(F*q),n=c(G*p),t=F*q-m,r=G*p-n,n=4*(n*b+m),m=0;4>m;m++)g=d[n+m],h=d[n+4+m],k=d[n+a+m],l=d[n+a+4+m],g=g*(1-t)*(1-r)+h*t*(1-r)+k*r*(1-t)+l*t*r,L[B++]=g;return K},hermiteFastResize:function(b,d,e,f,h){var l=
this.rcpScaleX,m=this.rcpScaleY,n=k(l/2),p=k(m/2);b=b.getContext("2d");e=b.getImageData(0,0,d,e).data;b=b.getImageData(0,0,f,h);for(var q=b.data,t=0;t<h;t++)for(var r=0;r<f;r++){for(var D=4*(r+t*f),z,E=0,B=0,F=0,G=0,K=0,L=0,O=(t+.5)*m,H=c(t*m);H<(t+1)*m;H++)for(var J=g(O-(H+.5))/p,Q=(r+.5)*l,J=J*J,P=c(r*l);P<(r+1)*l;P++){var I=g(Q-(P+.5))/n;z=a(J+I*I);1<z&&-1>z||(z=2*z*z*z-3*z*z+1,0<z&&(I=4*(P+H*d),L+=z*e[I+3],B+=z,255>e[I+3]&&(z=z*e[I+3]/250),F+=z*e[I],G+=z*e[I+1],K+=z*e[I+2],E+=z))}q[D]=F/E;q[D+
1]=G/E;q[D+2]=K/E;q[D+3]=L/B}return b},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}});b.Image.filters.Resize.fromObject=b.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.ColorMatrix=c(d.BaseFilter,{type:"ColorMatrix",initialize:function(a){a||(a={});this.matrix=a.matrix||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},applyTo:function(a){var b=a.getContext("2d");a=b.getImageData(0,0,a.width,a.height);var c=a.data,d=c.length,e,k,m,n,p,q=this.matrix;for(e=0;e<d;e+=4)k=c[e],m=c[e+1],n=c[e+2],p=c[e+3],c[e]=k*q[0]+m*q[1]+n*q[2]+p*q[3]+q[4],c[e+1]=k*q[5]+m*q[6]+n*q[7]+
p*q[8]+q[9],c[e+2]=k*q[10]+m*q[11]+n*q[12]+p*q[13]+q[14],c[e+3]=k*q[15]+m*q[16]+n*q[17]+p*q[18]+q[19];b.putImageData(a,0,0)},toObject:function(){return b(this.callSuper("toObject"),{type:this.type,matrix:this.matrix})}});e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.Contrast=c(d.BaseFilter,{type:"Contrast",initialize:function(a){a=a||{};this.contrast=a.contrast||0},applyTo:function(a){var b=a.getContext("2d");a=b.getImageData(0,0,a.width,a.height);for(var c=a.data,d=259*(this.contrast+255)/(255*(259-this.contrast)),e=0,k=c.length;e<k;e+=4)c[e]=d*(c[e]-128)+128,c[e+1]=d*(c[e+1]-128)+128,c[e+2]=d*(c[e+2]-128)+128;b.putImageData(a,0,0)},toObject:function(){return b(this.callSuper("toObject"),
{contrast:this.contrast})}});e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){e=e.fabric||(e.fabric={});var b=e.util.object.extend,d=e.Image.filters,c=e.util.createClass;d.Saturate=c(d.BaseFilter,{type:"Saturate",initialize:function(a){a=a||{};this.saturate=a.saturate||0},applyTo:function(a){var b=a.getContext("2d");a=b.getImageData(0,0,a.width,a.height);for(var c=a.data,d,e=.01*-this.saturate,k=0,m=c.length;k<m;k+=4)d=Math.max(c[k],c[k+1],c[k+2]),c[k]+=d!==c[k]?(d-c[k])*e:0,c[k+1]+=d!==c[k+1]?(d-c[k+1])*e:0,c[k+2]+=d!==c[k+2]?(d-c[k+2])*e:0;b.putImageData(a,0,
0)},toObject:function(){return b(this.callSuper("toObject"),{saturate:this.saturate})}});e.Image.filters.Saturate.fromObject=e.Image.filters.BaseFilter.fromObject})("undefined"!==typeof exports?exports:this);
(function(e){var b=e.fabric||(e.fabric={}),d=b.util.toFixed,c=b.Object.NUM_FRACTION_DIGITS;b.Text?b.warn("fabric.Text is already defined"):(b.Text=b.util.createClass(b.Object,{_dimensionAffectingProps:"fontSize fontWeight fontFamily fontStyle lineHeight text charSpacing textAlign".split(" "),_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",
stateProperties:b.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing"),cacheProperties:b.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,charSpacing:0,initialize:function(a,b){b=
b||{};this.text=a;this.__skipDimension=!0;this.callSuper("initialize",b);this.__skipDimension=!1;this._initDimensions();this.setCoords();this.setupState({propertySet:"_dimensionAffectingProps"})},_initDimensions:function(a){this.__skipDimension||(a||(a=b.util.createCanvasElement().getContext("2d"),this._setTextStyles(a)),this._textLines=this._splitTextIntoLines(),this._clearCache(),this.width=this._getTextWidth(a)||this.cursorWidth||2,this.height=this._getTextHeight(a),this.setCoords())},toString:function(){return"#<fabric.Text ("+
this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),b=this.fontSize;a.width+=b*a.zoomX;a.height+=b*a.zoomY;return a},_render:function(a){this._setTextStyles(a);this.group&&"path-group"===this.group.type&&a.translate(this.left,this.top);this._renderTextLinesBackground(a);this._renderText(a);this._renderTextDecoration(a)},_renderText:function(a){this._renderTextFill(a);this._renderTextStroke(a)},
_setTextStyles:function(a){a.textBaseline="alphabetic";a.font=this._getFontDeclaration()},_getTextHeight:function(){return this._getHeightOfSingleLine()+(this._textLines.length-1)*this._getHeightOfLine()},_getTextWidth:function(a){for(var b=this._getLineWidth(a,0),c=1,d=this._textLines.length;c<d;c++){var e=this._getLineWidth(a,c);e>b&&(b=e)}return b},_renderChars:function(a,b,c,d,e){var f=a.slice(0,-4),g,h;this[f].toLive&&(g=-this.width/2+this[f].offsetX||0,h=-this.height/2+this[f].offsetY||0,b.save(),
b.translate(g,h),d-=g,e-=h);if(0!==this.charSpacing){var l=this._getWidthOfCharSpacing();c=c.split("");for(var q=0,t=c.length;q<t;q++)g=c[q],h=b.measureText(g).width+l,b[a](g,d,e),d+=0<h?h:0}else b[a](c,d,e);this[f].toLive&&b.restore()},_renderTextLine:function(a,b,c,d,e,k){e-=this.fontSize*this._fontSizeFraction;var f=this._getLineWidth(b,k);if("justify"!==this.textAlign||this.width<f)this._renderChars(a,b,c,d,e,k);else for(var f=c.split(/\s+/),g=0,h=this._getWidthOfWords(b,f.join(" "),k,0),h=this.width-
h,l=f.length-1,h=0<l?h/l:0,l=0,t,r=0,v=f.length;r<v;r++){for(;" "===c[g]&&g<c.length;)g++;t=f[r];this._renderChars(a,b,t,d+l,e,k,g);l+=this._getWidthOfWords(b,t,k,g)+h;g+=t.length}},_getWidthOfWords:function(a,b){var c=a.measureText(b).width,d;0!==this.charSpacing&&(d=b.split("").length,d*=this._getWidthOfCharSpacing(),c+=d);return 0<c?c:0},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},isEmptyStyles:function(){return!0},_renderTextCommon:function(a,
b){for(var c=0,d=this._getLeftOffset(),e=this._getTopOffset(),g=0,m=this._textLines.length;g<m;g++){var n=this._getHeightOfLine(a,g),p=n/this.lineHeight,q=this._getLineWidth(a,g),q=this._getLineLeftOffset(q);this._renderTextLine(b,a,this._textLines[g],d+q,e+c+p,g);c+=n}},_renderTextFill:function(a){!this.fill&&this.isEmptyStyles()||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){if(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())this.shadow&&!this.shadow.affectStroke&&
this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore()},_getHeightOfLine:function(){return this._getHeightOfSingleLine()*this.lineHeight},_getHeightOfSingleLine:function(){return this.fontSize*this._fontSizeMult},_renderTextLinesBackground:function(a){if(this.textBackgroundColor){var b=0,c,d,e,k=a.fillStyle;a.fillStyle=this.textBackgroundColor;for(var m=0,n=this._textLines.length;m<n;m++)c=this._getHeightOfLine(a,
m),d=this._getLineWidth(a,m),0<d&&(e=this._getLineLeftOffset(d),a.fillRect(this._getLeftOffset()+e,this._getTopOffset()+b,d,c/this.lineHeight)),b+=c;a.fillStyle=k;this._removeShadow(a)}},_getLineLeftOffset:function(a){return"center"===this.textAlign?(this.width-a)/2:"right"===this.textAlign?this.width-a:0},_clearCache:function(){this.__lineWidths=[];this.__lineHeights=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;a||(a=this.hasStateChanged("_dimensionAffectingProps"));a&&(this.saveState({propertySet:"_dimensionAffectingProps"}),
this.dirty=!0);return a},_getLineWidth:function(a,b){if(this.__lineWidths[b])return-1===this.__lineWidths[b]?this.width:this.__lineWidths[b];var c,d;d=this._textLines[b];c=""===d?0:this._measureLine(a,b);(this.__lineWidths[b]=c)&&"justify"===this.textAlign&&(d=d.split(/\s+/),1<d.length&&(this.__lineWidths[b]=-1));return c},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1E3:0},_measureLine:function(a,b){var c=this._textLines[b],d=a.measureText(c).width,
e=0;0!==this.charSpacing&&(c=c.split("").length,e=(c-1)*this._getWidthOfCharSpacing());d+=e;return 0<d?d:0},_renderTextDecoration:function(a){if(this.textDecoration){var b=this.height/2,c=[];-1<this.textDecoration.indexOf("underline")&&c.push(.85);-1<this.textDecoration.indexOf("line-through")&&c.push(.43);-1<this.textDecoration.indexOf("overline")&&c.push(-.12);if(0<c.length){var d,e=0,k,m,n,p,q,t;d=0;for(k=this._textLines.length;d<k;d++){p=this._getLineWidth(a,d);q=this._getLineLeftOffset(p);t=
this._getHeightOfLine(a,d);m=0;for(n=c.length;m<n;m++)a.fillRect(this._getLeftOffset()+q,e+(this._fontSizeMult-1+c[m])*this.fontSize-b,p,this.fontSize/15);e+=t}}}},_getFontDeclaration:function(){return[b.isLikelyNode?this.fontWeight:this.fontStyle,b.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",b.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(a,b){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&
(this._setTextStyles(a),this._initDimensions(a)),this.callSuper("render",a,b))},_splitTextIntoLines:function(){return this.text.split(this._reNewline)},toObject:function(a){a="text fontSize fontWeight fontFamily fontStyle lineHeight textDecoration textAlign textBackgroundColor charSpacing".split(" ").concat(a);return this.callSuper("toObject",a)},toSVG:function(a){this.ctx||(this.ctx=b.util.createCanvasElement().getContext("2d"));var c=this._createBaseSVGMarkup(),d=this._getSVGLeftTopOffsets(this.ctx),
d=this._getSVGTextAndBg(d.textTop,d.textLeft);this._wrapSVGTextAndBg(c,d);return a?a(c.join("")):c.join("")},_getSVGLeftTopOffsets:function(a){a=this._getHeightOfLine(a,0);return{textLeft:-this.width/2+(this.group&&"path-group"===this.group.type?this.left:0),textTop:0+(this.group&&"path-group"===this.group.type?-this.top:0),lineTop:a}},_wrapSVGTextAndBg:function(a,b){var c=this.getSvgFilter(),c=""===c?"":' style="'+c+'"';a.push("\t<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),
'"',c,">\n",b.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(!0),'" >\n',b.textSpans.join(""),"\t\t</text>\n","\t</g>\n")},getSvgStyles:function(a){return b.Object.prototype.getSvgStyles.call(this,
a)+" white-space: pre;"},_getSVGTextAndBg:function(a,b){var c=[],d=[],e=0;this._setSVGBg(d);for(var g=0,m=this._textLines.length;g<m;g++)this.textBackgroundColor&&this._setSVGTextLineBg(d,g,b,a,e),this._setSVGTextLineText(g,c,e,b,a,d),e+=this._getHeightOfLine(this.ctx,g);return{textSpans:c,textBgRects:d}},_setSVGTextLineText:function(a,e,h,f,l){h=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-l+h-this.height/2;"justify"===this.textAlign?this._setSVGTextLineJustifed(a,e,h,f):e.push('\t\t\t<tspan x="',
d(f+this._getLineLeftOffset(this._getLineWidth(this.ctx,a)),c),'" ','y="',d(h,c),'" ',this._getFillAttributes(this.fill),">",b.util.string.escapeXml(this._textLines[a]),"</tspan>\n")},_setSVGTextLineJustifed:function(a,e,h,f){var g=b.util.createCanvasElement().getContext("2d");this._setTextStyles(g);var k=this._textLines[a].split(/\s+/),m=this._getWidthOfWords(g,k.join("")),m=this.width-m,n=k.length-1,m=0<n?m/n:0,p=this._getFillAttributes(this.fill),q;f+=this._getLineLeftOffset(this._getLineWidth(g,
a));a=0;for(q=k.length;a<q;a++)n=k[a],e.push('\t\t\t<tspan x="',d(f,c),'" ','y="',d(h,c),'" ',p,">",b.util.string.escapeXml(n),"</tspan>\n"),f+=this._getWidthOfWords(g,n)+m},_setSVGTextLineBg:function(a,b,e,f,l){a.push("\t\t<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',d(e+this._getLineLeftOffset(this._getLineWidth(this.ctx,b)),c),'" y="',d(l-this.height/2,c),'" width="',d(this._getLineWidth(this.ctx,b),c),'" height="',d(this._getHeightOfLine(this.ctx,b)/this.lineHeight,c),'"></rect>\n')},
_setSVGBg:function(a){this.backgroundColor&&a.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',d(-this.width/2,c),'" y="',d(-this.height/2,c),'" width="',d(this.width,c),'" height="',d(this.height,c),'"></rect>\n')},_getFillAttributes:function(a){var c=a&&"string"===typeof a?new b.Color(a):"";return c&&c.getSource()&&1!==c.getAlpha()?'opacity="'+c.getAlpha()+'" fill="'+c.setAlpha(1).toRgb()+'"':'fill="'+a+'"'},_set:function(a,b){this.callSuper("_set",a,b);-1<this._dimensionAffectingProps.indexOf(a)&&
(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),b.Text.ATTRIBUTE_NAMES=b.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),b.Text.DEFAULT_SVG_FONT_SIZE=16,b.Text.fromElement=function(a,c){if(!a)return null;var d=b.parseAttributes(a,b.Text.ATTRIBUTE_NAMES);c=b.util.object.extend(c?b.util.object.clone(c):{},d);c.top=c.top||0;c.left=c.left||0;"dx"in d&&(c.left+=d.dx);"dy"in d&&(c.top+=d.dy);"fontSize"in
c||(c.fontSize=b.Text.DEFAULT_SVG_FONT_SIZE);c.originX||(c.originX="left");d="";"textContent"in a?d=a.textContent:"firstChild"in a&&null!==a.firstChild&&"data"in a.firstChild&&null!==a.firstChild.data&&(d=a.firstChild.data);var d=d.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),d=new b.Text(d,c),e=d.getHeight()/d.height,e=((d.height+d.strokeWidth)*d.lineHeight-d.height)*e,e=d.getHeight()+e,g=0;"left"===d.originX&&(g=d.getWidth()/2);"right"===d.originX&&(g=-d.getWidth()/2);d.set({left:d.getLeft()+
g,top:d.getTop()-e/2+d.fontSize*(.18+d._fontSizeFraction)/d.lineHeight});return d},b.Text.fromObject=function(a,c,d){return b.Object._fromObject("Text",a,c,d,"text")},b.util.createAccessors(b.Text))})("undefined"!==typeof exports?exports:this);
(function(){var e=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1E3,cursorDuration:600,styles:null,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],initialize:function(b,d){this.styles=
d?d.styles||{}:{};this.callSuper("initialize",b,d);this.initBehavior()},_clearCache:function(){this.callSuper("_clearCache");this.__widthOfSpace=[]},isEmptyStyles:function(){if(!this.styles)return!0;var b=this.styles,d;for(d in b)for(var c in b[d])for(var a in b[d][c])return!1;return!0},setSelectionStart:function(b){b=Math.max(b,0);this._updateAndFire("selectionStart",b)},setSelectionEnd:function(b){b=Math.min(b,this.text.length);this._updateAndFire("selectionEnd",b)},_updateAndFire:function(b,d){this[b]!==
d&&(this._fireSelectionChanged(),this[b]=d);this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed");this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectionStyles:function(b,d){if(2===arguments.length){for(var c=[],a=b;a<d;a++)c.push(this.getSelectionStyles(a));return c}c=this.get2DCursorLocation(b);return this._getStyleDeclaration(c.lineIndex,c.charIndex)||{}},setSelectionStyles:function(b){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,
b);else for(var d=this.selectionStart;d<this.selectionEnd;d++)this._extendStyles(d,b);this._forceClearCache=!0;return this},_extendStyles:function(b,d){var c=this.get2DCursorLocation(b);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex,{});this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{});fabric.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),d)},_initDimensions:function(b){b||this.clearContextTop();this.callSuper("_initDimensions",
b)},render:function(b,d){this.clearContextTop();this.callSuper("render",b,d);this.cursorOffsetCache={};this.renderCursorOrSelection()},_render:function(b){this.callSuper("_render",b);this.ctx=b},clearContextTop:function(){if(this.active&&this.isEditing&&this.canvas&&this.canvas.contextTop){var b=this.canvas.contextTop;b.save();b.transform.apply(b,this.canvas.viewportTransform);this.transform(b);this.transformMatrix&&b.transform.apply(b,this.transformMatrix);this._clearTextArea(b);b.restore()}},renderCursorOrSelection:function(){if(this.active&&
this.isEditing){var b=this.text.split(""),d,c;this.canvas&&this.canvas.contextTop?(c=this.canvas.contextTop,c.save(),c.transform.apply(c,this.canvas.viewportTransform),this.transform(c),this.transformMatrix&&c.transform.apply(c,this.transformMatrix),this._clearTextArea(c)):(c=this.ctx,c.save());this.selectionStart===this.selectionEnd?(d=this._getCursorBoundaries(b,"cursor"),this.renderCursor(d,c)):(d=this._getCursorBoundaries(b,"selection"),this.renderSelection(b,d,c));c.restore()}},_clearTextArea:function(b){var d=
this.width+4,c=this.height+4;b.clearRect(-d/2,-c/2,d,c)},get2DCursorLocation:function(b){"undefined"===typeof b&&(b=this.selectionStart);for(var d=this._textLines.length,c=0;c<d;c++){if(b<=this._textLines[c].length)return{lineIndex:c,charIndex:b};b-=this._textLines[c].length+1}return{lineIndex:c-1,charIndex:this._textLines[c-1].length<b?this._textLines[c-1].length:b}},getCurrentCharStyle:function(b,d){var c=this._getStyleDeclaration(b,0===d?0:d-1);return{fontSize:c&&c.fontSize||this.fontSize,fill:c&&
c.fill||this.fill,textBackgroundColor:c&&c.textBackgroundColor||this.textBackgroundColor,textDecoration:c&&c.textDecoration||this.textDecoration,fontFamily:c&&c.fontFamily||this.fontFamily,fontWeight:c&&c.fontWeight||this.fontWeight,fontStyle:c&&c.fontStyle||this.fontStyle,stroke:c&&c.stroke||this.stroke,strokeWidth:c&&c.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(b,d){var c=this._getStyleDeclaration(b,0===d?0:d-1);return c&&c.fontSize?c.fontSize:this.fontSize},getCurrentCharColor:function(b,
d){var c=this._getStyleDeclaration(b,0===d?0:d-1);return c&&c.fill?c.fill:this.cursorColor},_getCursorBoundaries:function(b,d){var c=Math.round(this._getLeftOffset()),a=this._getTopOffset(),e=this._getCursorBoundariesOffsets(b,d);return{left:c,top:a,leftOffset:e.left+e.lineLeft,topOffset:e.top}},_getCursorBoundariesOffsets:function(b,d){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var c=0,a=0,e=0,h=0,f=0,l=0;l<this.selectionStart;l++)"\n"===b[l]?(f=0,
h+=this._getHeightOfLine(this.ctx,a),a++,e=0):(f+=this._getWidthOfChar(this.ctx,b[l],a,e),e++),c=this._getLineLeftOffset(this._getLineWidth(this.ctx,a));"cursor"===d&&(h+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,a)/this.lineHeight-this.getCurrentCharFontSize(a,e)*(1-this._fontSizeFraction));0!==this.charSpacing&&e===this._textLines[a].length&&(f-=this._getWidthOfCharSpacing());return this.cursorOffsetCache={top:h,left:0<f?f:0,lineLeft:c}},renderCursor:function(b,d){var c=this.get2DCursorLocation(),
a=c.lineIndex,c=c.charIndex,e=this.getCurrentCharFontSize(a,c),h=b.leftOffset,f=this.scaleX*this.canvas.getZoom(),f=this.cursorWidth/f;d.fillStyle=this.getCurrentCharColor(a,c);d.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity;d.fillRect(b.left+h-f/2,b.top+b.topOffset,f,e)},renderSelection:function(b,d,c){c.fillStyle=this.selectionColor;b=this.get2DCursorLocation(this.selectionStart);for(var a=this.get2DCursorLocation(this.selectionEnd),e=b.lineIndex,h=a.lineIndex,f=e;f<=h;f++){var l=
this._getLineLeftOffset(this._getLineWidth(c,f))||0,k=this._getHeightOfLine(this.ctx,f),m,n=0;m=this._textLines[f];if(f===e){for(var p=0,q=m.length;p<q;p++)p>=b.charIndex&&(f!==h||p<a.charIndex)&&(n+=this._getWidthOfChar(c,m[p],f,p)),p<b.charIndex&&(l+=this._getWidthOfChar(c,m[p],f,p));p===m.length&&(n-=this._getWidthOfCharSpacing())}else if(f>e&&f<h)n+=this._getLineWidth(c,f)||5;else if(f===h){p=0;for(q=a.charIndex;p<q;p++)n+=this._getWidthOfChar(c,m[p],f,p);a.charIndex===m.length&&(n-=this._getWidthOfCharSpacing())}m=
k;if(1>this.lineHeight||f===h&&1<this.lineHeight)k/=this.lineHeight;c.fillRect(d.left+l,d.top+d.topOffset,0<n?n:0,k);d.topOffset+=m}},_renderChars:function(b,d,c,a,e,h,f){if(this.isEmptyStyles())return this._renderCharsFast(b,d,c,a,e);f=f||0;var g=this._getHeightOfLine(d,h),k,m,n="";d.save();e-=g/this.lineHeight*this._fontSizeFraction;for(var p=f,q=c.length+f;p<=q;p++){k=k||this.getCurrentCharStyle(h,p);m=this.getCurrentCharStyle(h,p+1);if(this._hasStyleChanged(k,m)||p===q)this._renderChar(b,d,h,
p-1,n,a,e,g),n="",k=m;n+=c[p-f]}d.restore()},_renderCharsFast:function(b,d,c,a,e){"fillText"===b&&this.fill&&this.callSuper("_renderChars",b,d,c,a,e);"strokeText"===b&&(this.stroke&&0<this.strokeWidth||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",b,d,c,a,e)},_renderChar:function(b,d,c,a,e,h,f,l){var g,m,n,p=this._getStyleDeclaration(c,a),q,t;p?(g=this._getHeightOfChar(d,e,c,a),n=p.stroke,m=p.fill,q=p.textDecoration):g=this.fontSize;n=(n||this.stroke)&&"strokeText"===b;m=(m||this.fill)&&
"fillText"===b;p&&d.save();b=this._applyCharStylesGetWidth(d,e,c,a,p||null);q=q||this.textDecoration;p&&p.textBackgroundColor&&this._removeShadow(d);if(0!==this.charSpacing){c=this._getWidthOfCharSpacing();e=e.split("");a=b=0;for(var r=e.length;a<r;a++)t=e[a],m&&d.fillText(t,h+b,f),n&&d.strokeText(t,h+b,f),t=d.measureText(t).width+c,b+=0<t?t:0}else m&&d.fillText(e,h,f),n&&d.strokeText(e,h,f);if(q||""!==q)l=this._fontSizeFraction*l/this.lineHeight,this._renderCharDecoration(d,q,h,f,l,b,g);p&&d.restore();
d.translate(b,0)},_hasStyleChanged:function(b,d){return b.fill!==d.fill||b.fontSize!==d.fontSize||b.textBackgroundColor!==d.textBackgroundColor||b.textDecoration!==d.textDecoration||b.fontFamily!==d.fontFamily||b.fontWeight!==d.fontWeight||b.fontStyle!==d.fontStyle||b.stroke!==d.stroke||b.strokeWidth!==d.strokeWidth},_renderCharDecoration:function(b,d,c,a,e,h,f){if(d){e=f/15;a={underline:a+f/10,"line-through":a-f*(this._fontSizeFraction+this._fontSizeMult-1)+e,overline:a-(this._fontSizeMult-this._fontSizeFraction)*
f};f=["underline","line-through","overline"];var g,k;for(g=0;g<f.length;g++)k=f[g],-1<d.indexOf(k)&&b.fillRect(c,a[k],h,e)}},_renderTextLine:function(b,d,c,a,e,h){this.isEmptyStyles()||(e+=this.fontSize*(this._fontSizeFraction+.03));this.callSuper("_renderTextLine",b,d,c,a,e,h)},_renderTextDecoration:function(b){if(this.isEmptyStyles())return this.callSuper("_renderTextDecoration",b)},_renderTextLinesBackground:function(b){this.callSuper("_renderTextLinesBackground",b);var d=0,c,a,e=this._getLeftOffset(),
h=this._getTopOffset(),f="",l,k,m,n,p,q,t;b.save();for(var r=0,v=this._textLines.length;r<v;r++){c=this._getHeightOfLine(b,r);l=this._textLines[r];if(""!==l&&this.styles&&this._getLineStyle(r)){a=this._getLineWidth(b,r);a=this._getLineLeftOffset(a);for(var A=n=p=q=t=0,w=l.length;A<w;A++)m=this._getStyleDeclaration(r,A)||{},f!==m.textBackgroundColor&&(t&&q&&(b.fillStyle=f,b.fillRect(n,p,q,t)),n=p=q=t=0,f=m.textBackgroundColor||""),m.textBackgroundColor?(k=l[A],f===m.textBackgroundColor&&(f=m.textBackgroundColor,
n||(n=e+a+this._getWidthOfCharsAt(b,r,A)),p=h+d,q+=this._getWidthOfChar(b,k,r,A),t=c/this.lineHeight)):f="";t&&q&&(b.fillStyle=f,b.fillRect(n,p,q,t))}d+=c}b.restore()},_getCacheProp:function(b,d){return b+d.fontSize+d.fontWeight+d.fontStyle},_getFontCache:function(b){fabric.charWidthsCache[b]||(fabric.charWidthsCache[b]={});return fabric.charWidthsCache[b]},_applyCharStylesGetWidth:function(b,d,c,a,g){var h=g||this._getStyleDeclaration(c,a);g=e(h);this._applyFontStyles(g);a=this._getFontCache(g.fontFamily);
c=this._getCacheProp(d,g);if(!h&&a[c]&&this.caching)return a[c];"string"===typeof g.shadow&&(g.shadow=new fabric.Shadow(g.shadow));h=g.fill||this.fill;b.fillStyle=h.toLive?h.toLive(b,this):h;g.stroke&&(b.strokeStyle=g.stroke&&g.stroke.toLive?g.stroke.toLive(b,this):g.stroke);b.lineWidth=g.strokeWidth||this.strokeWidth;b.font=this._getFontDeclaration.call(g);g.shadow&&(g.scaleX=this.scaleX,g.scaleY=this.scaleY,g.canvas=this.canvas,g.getObjectScaling=this.getObjectScaling,this._setShadow.call(g,b));
return this.caching&&a[c]?a[c]:(b=b.measureText(d).width,this.caching&&(a[c]=b),b)},_applyFontStyles:function(b){b.fontFamily||(b.fontFamily=this.fontFamily);b.fontSize||(b.fontSize=this.fontSize);b.fontWeight||(b.fontWeight=this.fontWeight);b.fontStyle||(b.fontStyle=this.fontStyle)},_getStyleDeclaration:function(b,d,c){return c?this.styles[b]&&this.styles[b][d]?e(this.styles[b][d]):{}:this.styles[b]&&this.styles[b][d]?this.styles[b][d]:null},_setStyleDeclaration:function(b,d,c){this.styles[b][d]=
c},_deleteStyleDeclaration:function(b,d){delete this.styles[b][d]},_getLineStyle:function(b){return this.styles[b]},_setLineStyle:function(b,d){this.styles[b]=d},_deleteLineStyle:function(b){delete this.styles[b]},_getWidthOfChar:function(b,d,c,a){if(!this._isMeasuring&&"justify"===this.textAlign&&this._reSpacesAndTabs.test(d))return this._getWidthOfSpace(b,c);b.save();d=this._applyCharStylesGetWidth(b,d,c,a);0!==this.charSpacing&&(d+=this._getWidthOfCharSpacing());b.restore();return 0<d?d:0},_getHeightOfChar:function(b,
d,c){return(b=this._getStyleDeclaration(d,c))&&b.fontSize?b.fontSize:this.fontSize},_getWidthOfCharsAt:function(b,d,c){var a=0,e,h;for(e=0;e<c;e++)h=this._textLines[d][e],a+=this._getWidthOfChar(b,h,d,e);return a},_measureLine:function(b,d){this._isMeasuring=!0;var c=this._getWidthOfCharsAt(b,d,this._textLines[d].length);0!==this.charSpacing&&(c-=this._getWidthOfCharSpacing());this._isMeasuring=!1;return 0<c?c:0},_getWidthOfSpace:function(b,d){if(this.__widthOfSpace[d])return this.__widthOfSpace[d];
var c=this._textLines[d],a=this._getWidthOfWords(b,c,d,0),a=this.width-a,c=c.length-c.replace(this._reSpacesAndTabs,"").length,c=Math.max(a/c,b.measureText(" ").width);return this.__widthOfSpace[d]=c},_getWidthOfWords:function(b,d,c,a){for(var e=0,h=0;h<d.length;h++){var f=d[h];f.match(/\s/)||(e+=this._getWidthOfChar(b,f,c,h+a))}return e},_getHeightOfLine:function(b,d){if(this.__lineHeights[d])return this.__lineHeights[d];for(var c=this._textLines[d],a=this._getHeightOfChar(b,d,0),e=1,c=c.length;e<
c;e++){var h=this._getHeightOfChar(b,d,e);h>a&&(a=h)}this.__lineHeights[d]=a*this.lineHeight*this._fontSizeMult;return this.__lineHeights[d]},_getTextHeight:function(b){for(var d,c=0,a=0,e=this._textLines.length;a<e;a++)d=this._getHeightOfLine(b,a),c+=a===e-1?d/this.lineHeight:d;return c},toObject:function(b){return fabric.util.object.extend(this.callSuper("toObject",b),{styles:e(this.styles,!0)})}});fabric.IText.fromObject=function(b,d,c){return fabric.Object._fromObject("IText",b,d,c,"text")}})();
(function(){var e=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler();this.initRemovedHandler();this.initCursorSelectionHandlers();this.initDoubleClickSimulation();this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing();this.selected=!1;this.callSuper("onDeselect")},initAddedHandler:function(){var b=this;this.on("added",function(){var d=b.canvas;d&&(d._hasITextHandlers||
(d._hasITextHandlers=!0,b._initCanvasHandlers(d)),d._iTextInstances=d._iTextInstances||[],d._iTextInstances.push(b))})},initRemovedHandler:function(){var b=this;this.on("removed",function(){var d=b.canvas;d&&(d._iTextInstances=d._iTextInstances||[],fabric.util.removeFromArray(d._iTextInstances,b),0===d._iTextInstances.length&&(d._hasITextHandlers=!1,b._removeCanvasHandlers(d)))})},_initCanvasHandlers:function(b){b._mouseUpITextHandler=function(){b._iTextInstances&&b._iTextInstances.forEach(function(b){b.__isMousedown=
!1})}.bind(this);b.on("mouse:up",b._mouseUpITextHandler)},_removeCanvasHandlers:function(b){b.off("mouse:up",b._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(b,d,c,a){var e;e={isAborted:!1,abort:function(){this.isAborted=!0}};b.animate("_currentCursorOpacity",d,{duration:c,onComplete:function(){if(!e.isAborted)b[a]()},onChange:function(){b.canvas&&b.selectionStart===b.selectionEnd&&b.renderCursorOrSelection()},
abort:function(){return e.isAborted}});return e},_onTickComplete:function(){var b=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1);this._cursorTimeout1=setTimeout(function(){b._currentTickCompleteState=b._animateCursor(b,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(b){var d=this;b=b?0:this.cursorDelay;this.abortCursorAnimation();this._currentCursorOpacity=1;this._cursorTimeout2=setTimeout(function(){d._tick()},b)},abortCursorAnimation:function(){var b=this._currentTickState||
this._currentTickCompleteState;this._currentTickState&&this._currentTickState.abort();this._currentTickCompleteState&&this._currentTickCompleteState.abort();clearTimeout(this._cursorTimeout1);clearTimeout(this._cursorTimeout2);this._currentCursorOpacity=0;b&&this.canvas&&this.canvas.clearContext(this.canvas.contextTop||this.ctx)},selectAll:function(){this.selectionStart=0;this.selectionEnd=this.text.length;this._fireSelectionChanged();this._updateTextarea()},getSelectedText:function(){return this.text.slice(this.selectionStart,
this.selectionEnd)},findWordBoundaryLeft:function(b){var d=0,c=b-1;if(this._reSpace.test(this.text.charAt(c)))for(;this._reSpace.test(this.text.charAt(c));)d++,c--;for(;/\S/.test(this.text.charAt(c))&&-1<c;)d++,c--;return b-d},findWordBoundaryRight:function(b){var d=0,c=b;if(this._reSpace.test(this.text.charAt(c)))for(;this._reSpace.test(this.text.charAt(c));)d++,c++;for(;/\S/.test(this.text.charAt(c))&&c<this.text.length;)d++,c++;return b+d},findLineBoundaryLeft:function(b){for(var d=0,c=b-1;!/\n/.test(this.text.charAt(c))&&
-1<c;)d++,c--;return b-d},findLineBoundaryRight:function(b){for(var d=0,c=b;!/\n/.test(this.text.charAt(c))&&c<this.text.length;)d++,c++;return b+d},getNumNewLinesInSelectedText:function(){for(var b=this.getSelectedText(),d=0,c=0,a=b.length;c<a;c++)"\n"===b[c]&&d++;return d},searchWordBoundary:function(b,d){for(var c=this._reSpace.test(this.text.charAt(b))?b-1:b,a=this.text.charAt(c),e=/[ \n\.,;!\?\-]/;!e.test(a)&&0<c&&c<this.text.length;)c+=d,a=this.text.charAt(c);e.test(a)&&"\n"!==a&&(c+=1===d?
0:1);return c},selectWord:function(b){b=b||this.selectionStart;var d=this.searchWordBoundary(b,-1);b=this.searchWordBoundary(b,1);this.selectionStart=d;this.selectionEnd=b;this._fireSelectionChanged();this._updateTextarea();this.renderCursorOrSelection()},selectLine:function(b){b=b||this.selectionStart;var d=this.findLineBoundaryLeft(b);b=this.findLineBoundaryRight(b);this.selectionStart=d;this.selectionEnd=b;this._fireSelectionChanged();this._updateTextarea()},enterEditing:function(b){if(!this.isEditing&&
this.editable){this.canvas&&this.exitEditingOnOthers(this.canvas);this.selected=this.isEditing=!0;this.initHiddenTextarea(b);this.hiddenTextarea.focus();this._updateTextarea();this._saveEditingProps();this._setEditingProps();this._textBeforeEdit=this.text;this._tick();this.fire("editing:entered");this._fireSelectionChanged();if(!this.canvas)return this;this.canvas.fire("text:editing:entered",{target:this});this.initMouseMoveHandler();this.canvas.renderAll();return this}},exitEditingOnOthers:function(b){b._iTextInstances&&
b._iTextInstances.forEach(function(b){b.selected=!1;b.isEditing&&b.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(b){if(this.__isMousedown&&this.isEditing){b=this.getSelectionStartFromPointer(b.e);var d=this.selectionStart,c=this.selectionEnd;if(b===this.__selectionStartOnMouseDown&&d!==c||d!==b&&c!==b)if(b>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=b):(this.selectionStart=
b,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart!==d||this.selectionEnd!==c)this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}},_setEditingProps:function(){this.hoverCursor="text";this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text");this.borderColor=this.editingBorderColor;this.hasControls=this.selectable=!1;this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){if(this.hiddenTextarea&&
!this.inCompositionMode&&(this.cursorOffsetCache={},this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd,this.selectionStart===this.selectionEnd)){var b=this._calcTextareaPosition();this.hiddenTextarea.style.left=b.left;this.hiddenTextarea.style.top=b.top;this.hiddenTextarea.style.fontSize=b.fontSize}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var b=this.text.split(""),d=this._getCursorBoundaries(b,
"cursor"),b=this.get2DCursorLocation(),b=this.getCurrentCharFontSize(b.lineIndex,b.charIndex),c=d.leftOffset,a=this.calcTransformMatrix(),d={x:d.left+c,y:d.top+d.topOffset+b},e=this.canvas.upperCanvasEl,c=e.width-b,e=e.height-b,d=fabric.util.transformPoint(d,a),d=fabric.util.transformPoint(d,this.canvas.viewportTransform);0>d.x&&(d.x=0);d.x>c&&(d.x=c);0>d.y&&(d.y=0);d.y>e&&(d.y=e);d.x+=this.canvas._offset.left;d.y+=this.canvas._offset.top;return{left:d.x+"px",top:d.y+"px",fontSize:b}},_saveEditingProps:function(){this._savedProps=
{hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=
this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var b=this._textBeforeEdit!==this.text;this.isEditing=this.selected=!1;this.selectable=!0;this.selectionEnd=this.selectionStart;this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null);this.abortCursorAnimation();
this._restoreEditingProps();this._currentCursorOpacity=0;this.fire("editing:exited");b&&this.fire("modified");this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),b&&this.canvas.fire("object:modified",{target:this}));return this},_removeExtraneousStyles:function(){for(var b in this.styles)this._textLines[b]||delete this.styles[b]},_removeCharsFromTo:function(b,d){for(;d!==b;)this._removeSingleCharAndStyle(b+1),d--;this.selectionEnd=
this.selectionStart=b},_removeSingleCharAndStyle:function(b){var d="\n"===this.text[b-1];this.removeStyleObject(d,d?b:b-1);this.text=this.text.slice(0,b-1)+this.text.slice(b);this._textLines=this._splitTextIntoLines()},insertChars:function(b,d){var c;1<this.selectionEnd-this.selectionStart&&this._removeCharsFromTo(this.selectionStart,this.selectionEnd);if(!d&&this.isEmptyStyles())this.insertChar(b,!1);else for(var a=0,e=b.length;a<e;a++)d&&(c=fabric.util.object.clone(fabric.copiedTextStyle[a],!0)),
this.insertChar(b[a],a<e-1,c)},insertChar:function(b,d,c){var a="\n"===this.text[this.selectionStart];this.text=this.text.slice(0,this.selectionStart)+b+this.text.slice(this.selectionEnd);this._textLines=this._splitTextIntoLines();this.insertStyleObjects(b,a,c);this.selectionEnd=this.selectionStart+=b.length;d||(this._updateTextarea(),this.setCoords(),this._fireSelectionChanged(),this.fire("changed"),this.restartCursorIfNeeded(),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.renderAll()))},
restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(b,d,c){this.shiftLineStyles(b,1);var a={},g={};this.styles[b]&&this.styles[b][d-1]&&(a=this.styles[b][d-1]);if(c&&a)g[0]=e(a),this.styles[b+1]=g;else{c=!1;for(var h in this.styles[b])a=parseInt(h,10),a>=d&&(c=!0,g[a-d]=this.styles[b][h],delete this.styles[b][h]);c&&(this.styles[b+
1]=g)}this._forceClearCache=!0},insertCharStyleObject:function(b,d,c){var a=this.styles[b],g=e(a);0!==d||c||(d=1);for(var h in g){var f=parseInt(h,10);f>=d&&(a[f+1]=g[f],g[f-1]||delete a[f])}(c=c||e(a[d-1]))&&(this.styles[b][d]=c);this._forceClearCache=!0},insertStyleObjects:function(b,d,c){var a=this.get2DCursorLocation(),e=a.lineIndex,a=a.charIndex;this._getLineStyle(e)||this._setLineStyle(e,{});"\n"===b?this.insertNewlineStyleObject(e,a,d):this.insertCharStyleObject(e,a,c)},shiftLineStyles:function(b,
d){var c=e(this.styles),a;for(a in c){var g=parseInt(a,10);g<=b&&delete c[g]}for(a in this.styles)g=parseInt(a,10),g>b&&(this.styles[g+d]=c[g],c[g-d]||delete this.styles[g])},removeStyleObject:function(b,d){var c=this.get2DCursorLocation(d);this._removeStyleObject(b,c,c.lineIndex,c.charIndex)},_getTextOnPreviousLine:function(b){return this._textLines[b-1]},_removeStyleObject:function(b,d,c,a){if(b){var g=this._getTextOnPreviousLine(d.lineIndex),g=g?g.length:0;this.styles[c-1]||(this.styles[c-1]={});
for(a in this.styles[c])this.styles[c-1][parseInt(a,10)+g]=this.styles[c][a];this.shiftLineStyles(d.lineIndex,-1)}else for(g in(d=this.styles[c])&&delete d[a],c=e(d),c)b=parseInt(g,10),b>=a&&0!==b&&(d[b-1]=c[b],delete d[b])},insertNewline:function(){this.insertChars("\n")},setSelectionStartEndWithShift:function(b,d,c){c<=b?(d===b?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=b),this.selectionStart=c):c>b&&c<d?"right"===this._selectionDirection?
this.selectionEnd=c:this.selectionStart=c:(d===b?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=d),this.selectionEnd=c)},setSelectionInBoundaries:function(){var b=this.text.length;this.selectionStart>b?this.selectionStart=b:0>this.selectionStart&&(this.selectionStart=0);this.selectionEnd>b?this.selectionEnd=b:0>this.selectionEnd&&(this.selectionEnd=0)}})})();
fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date;this.__lastLastClickTime=+new Date;this.__lastPointer={};this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(e){this.__newClickTime=+new Date;var b=this.canvas.getPointer(e.e);this.isTripleClick(b,e.e)?(this.fire("tripleclick",e),this._stopEvent(e.e)):this.isDoubleClick(b)&&(this.fire("dblclick",e),this._stopEvent(e.e));this.__lastLastClickTime=this.__lastClickTime;
this.__lastClickTime=this.__newClickTime;this.__lastPointer=b;this.__lastIsEditing=this.isEditing;this.__lastSelected=this.selected},isDoubleClick:function(e){return 500>this.__newClickTime-this.__lastClickTime&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y&&this.__lastIsEditing},isTripleClick:function(e){return 500>this.__newClickTime-this.__lastClickTime&&500>this.__lastClickTime-this.__lastLastClickTime&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&
e.preventDefault();e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler();this.initMouseupHandler();this.initClicks()},initClicks:function(){this.on("dblclick",function(e){this.selectWord(this.getSelectionStartFromPointer(e.e))});this.on("tripleclick",function(e){this.selectLine(this.getSelectionStartFromPointer(e.e))})},initMousedownHandler:function(){this.on("mousedown",function(e){if(this.editable&&(!e.e.button||1===e.e.button)){var b=this.canvas.getPointer(e.e);
this.__mousedownX=b.x;this.__mousedownY=b.y;this.__isMousedown=!0;this.selected&&this.setCursorByClick(e.e);this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())}})},_isObjectMoved:function(e){e=this.canvas.getPointer(e);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",function(e){this.__isMousedown=!1;!this.editable||this._isObjectMoved(e.e)||
e.e.button&&1!==e.e.button||(this.__lastSelected&&!this.__corner&&(this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)})},setCursorByClick:function(e){var b=this.getSelectionStartFromPointer(e),d=this.selectionStart,c=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(d,c,b):this.selectionEnd=this.selectionStart=b;this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){e=
this.getLocalPointer(e);for(var b=0,d,c=0,a=0,g,h=0,f=this._textLines.length;h<f;h++){g=this._textLines[h];c+=this._getHeightOfLine(this.ctx,h)*this.scaleY;d=this._getLineWidth(this.ctx,h);d=this._getLineLeftOffset(d)*this.scaleX;for(var l=0,k=g.length;l<k;l++)if(b=d,d+=this._getWidthOfChar(this.ctx,g[l],h,this.flipX?k-l:l)*this.scaleX,c<=e.y||d<=e.x)a++;else return this._getNewSelectionStartFromOffset(e,b,d,a+h,k);if(e.y<c)return this._getNewSelectionStartFromOffset(e,b,d,a+h-1,k)}return this.text.length},
_getNewSelectionStartFromOffset:function(e,b,d,c,a){e=c+(d-e.x>e.x-b?0:1);this.flipX&&(e=a-e);e>this.text.length&&(e=this.text.length);return e}});
fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea");this.hiddenTextarea.setAttribute("autocapitalize","off");this.hiddenTextarea.setAttribute("autocorrect","off");this.hiddenTextarea.setAttribute("autocomplete","off");this.hiddenTextarea.setAttribute("spellcheck","false");this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea","");this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();
this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; line-height: 1px; padding\uff70top: "+e.fontSize+";";fabric.document.body.appendChild(this.hiddenTextarea);fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this));fabric.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this));fabric.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this));fabric.util.addListener(this.hiddenTextarea,
"copy",this.copy.bind(this));fabric.util.addListener(this.hiddenTextarea,"cut",this.cut.bind(this));fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this));fabric.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this));fabric.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this));fabric.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this));!this._clickHandlerInitialized&&
this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},
onKeyDown:function(e){if(this.isEditing){if(e.keyCode in this.keysMap)this[this.keysMap[e.keyCode]](e);else if(e.keyCode in this.ctrlKeysMapDown&&(e.ctrlKey||e.metaKey))this[this.ctrlKeysMapDown[e.keyCode]](e);else return;e.stopImmediatePropagation();e.preventDefault();33<=e.keyCode&&40>=e.keyCode?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.renderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||
e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.renderAll())},onInput:function(e){if(this.isEditing&&!this.inCompositionMode){var b=this.selectionStart||0,d=this.selectionEnd||0,c=this.text.length,a=this.hiddenTextarea.value.length;a>c?(b="left"===this._selectionDirection?d:b,c=this.hiddenTextarea.value.slice(b,b+(a-c))):c=this.hiddenTextarea.value.slice(b,b+(a-c+d-b));this.insertChars(c);e.stopPropagation()}},onCompositionStart:function(){this.inCompositionMode=
!0;this.prevCompositionLength=0;this.compositionStart=this.selectionStart},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){e=e.data;this.selectionStart=this.compositionStart;this.selectionEnd=this.selectionEnd===this.selectionStart?this.compositionStart+this.prevCompositionLength:this.selectionEnd;this.insertChars(e,!1);this.prevCompositionLength=e.length},forwardDelete:function(e){if(this.selectionStart===this.selectionEnd){if(this.selectionStart===this.text.length)return;
this.moveCursorRight(e)}this.removeChars(e)},copy:function(e){if(this.selectionStart!==this.selectionEnd){var b=this.getSelectedText(),d=this._getClipboardData(e);d&&d.setData("text",b);fabric.copiedText=b;fabric.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd);e.stopImmediatePropagation();e.preventDefault();this._copyDone=!0}},paste:function(e){var b;b=this._getClipboardData(e);var d=!0;b?(b=b.getData("text").replace(/\r/g,""),fabric.copiedTextStyle&&fabric.copiedText===
b||(d=!1)):b=fabric.copiedText;b&&this.insertChars(b,d);e.stopImmediatePropagation();e.preventDefault()},cut:function(e){this.selectionStart!==this.selectionEnd&&(this.copy(e),this.removeChars(e))},_getClipboardData:function(e){return e&&e.clipboardData||fabric.window.clipboardData},_getWidthBeforeCursor:function(e,b){for(var d=this._textLines[e].slice(0,b),c=this._getLineWidth(this.ctx,e),c=this._getLineLeftOffset(c),a,g=0,h=d.length;g<h;g++)a=d[g],c+=this._getWidthOfChar(this.ctx,a,e,g);return c},
getDownCursorOffset:function(e,b){var d=this._getSelectionForOffset(e,b),c=this.get2DCursorLocation(d),a=c.lineIndex;if(a===this._textLines.length-1||e.metaKey||34===e.keyCode)return this.text.length-d;d=c.charIndex;c=this._getWidthBeforeCursor(a,d);c=this._getIndexOnLine(a+1,c);return this._textLines[a].slice(d).length+c+2},_getSelectionForOffset:function(e,b){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&b?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,b){var d=
this._getSelectionForOffset(e,b),c=this.get2DCursorLocation(d),a=c.lineIndex;if(0===a||e.metaKey||33===e.keyCode)return-d;d=c.charIndex;c=this._getWidthBeforeCursor(a,d);c=this._getIndexOnLine(a-1,c);d=this._textLines[a].slice(0,d);return-this._textLines[a-1].length+c-d.length},_getIndexOnLine:function(e,b){for(var d=this._getLineWidth(this.ctx,e),c=this._textLines[e],d=this._getLineLeftOffset(d),a=0,g,h=0,f=c.length;h<f;h++){var l=this._getWidthOfChar(this.ctx,c[h],e,h),d=d+l;if(d>b){g=!0;a=Math.abs(d-
b)<Math.abs(d-l-b)?h:h-1;break}}g||(a=c.length-1);return a},moveCursorDown:function(e){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,b){var d=this["get"+e+"CursorOffset"](b,"right"===this._selectionDirection);b.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d);0!==d&&(this.setSelectionInBoundaries(),
this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e);return 0!==e},moveCursorWithoutShift:function(e){0>e?this.selectionEnd=this.selectionStart+=e:this.selectionStart=this.selectionEnd+=e;return 0!==e},moveCursorLeft:function(e){0===this.selectionStart&&
0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,b,d){if(e.altKey)e=this["findWordBoundary"+d](this[b]);else if(e.metaKey||35===e.keyCode||36===e.keyCode)e=this["findLineBoundary"+d](this[b]);else return this[b]+="Left"===d?-1:1,!0;if(this[b]!==e)return this[b]=e,!0},_moveLeft:function(e,b){return this._move(e,b,"Left")},_moveRight:function(e,b){return this._move(e,b,"Right")},moveCursorLeftWithoutShift:function(e){var b=!0;this._selectionDirection="left";this.selectionEnd===
this.selectionStart&&0!==this.selectionStart&&(b=this._moveLeft(e,"selectionStart"));this.selectionEnd=this.selectionStart;return b},moveCursorLeftWithShift:function(e){if("right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd)return this._moveLeft(e,"selectionEnd");if(0!==this.selectionStart)return this._selectionDirection="left",this._moveLeft(e,"selectionStart")},moveCursorRight:function(e){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorLeftOrRight("Right",
e)},_moveCursorLeftOrRight:function(e,b){var d="moveCursor"+e+"With";this._currentCursorOpacity=1;d=b.shiftKey?d+"Shift":d+"outShift";this[d](b)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){if("left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd)return this._moveRight(e,"selectionStart");if(this.selectionEnd!==this.text.length)return this._selectionDirection="right",this._moveRight(e,
"selectionEnd")},moveCursorRightWithoutShift:function(e){var b=!0;this._selectionDirection="right";this.selectionStart===this.selectionEnd?(b=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd;return b},removeChars:function(e){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(e):this._removeCharsFromTo(this.selectionStart,this.selectionEnd);this.set("dirty",!0);this.setSelectionEnd(this.selectionStart);this._removeExtraneousStyles();
this.canvas&&this.canvas.renderAll();this.setCoords();this.fire("changed");this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(e){0!==this.selectionStart&&(e.metaKey?(e=this.findLineBoundaryLeft(this.selectionStart),this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)):e.altKey?(e=this.findWordBoundaryLeft(this.selectionStart),this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)):(this._removeSingleCharAndStyle(this.selectionStart),
this.setSelectionStart(this.selectionStart-1)))}});
(function(){var e=fabric.util.toFixed,b=fabric.Object.NUM_FRACTION_DIGITS;fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(b,c,a,e,h,f){this._getLineStyle(b)?this._setSVGTextLineChars(b,c,a,e,f):fabric.Text.prototype._setSVGTextLineText.call(this,b,c,a,e,h)},_setSVGTextLineChars:function(b,c,a,e,h){a=this._textLines[b];e=0;for(var d=this._getLineLeftOffset(this._getLineWidth(this.ctx,b))-this.width/2,g=this._getSVGLineTopOffset(b),k=this._getHeightOfLine(this.ctx,b),
m=0,n=a.length;m<n;m++){var p=this._getStyleDeclaration(b,m)||{};c.push(this._createTextCharSpan(a[m],p,d,g.lineTop+g.offset,e));var q=this._getWidthOfChar(this.ctx,a[m],b,m);p.textBackgroundColor&&h.push(this._createTextCharBg(p,d,g.lineTop,k,q,e));e+=q}},_getSVGLineTopOffset:function(b){for(var c=0,a=0;a<b;a++)c+=this._getHeightOfLine(this.ctx,a);b=this._getHeightOfLine(this.ctx,a);return{lineTop:c,offset:(this._fontSizeMult-this._fontSizeFraction)*b/(this.lineHeight*this._fontSizeMult)}},_createTextCharBg:function(d,
c,a,g,h,f){return['\t\t<rect fill="',d.textBackgroundColor,'" x="',e(c+f,b),'" y="',e(a-this.height/2,b),'" width="',e(h,b),'" height="',e(g/this.lineHeight,b),'"></rect>\n'].join("")},_createTextCharSpan:function(d,c,a,g,h){var f=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text",getSvgFilter:fabric.Object.prototype.getSvgFilter},c));return['\t\t\t<tspan x="',e(a+h,b),'" y="',e(g-this.height/2,b),'" ',c.fontFamily?'font-family="'+c.fontFamily.replace(/"/g,
"'")+'" ':"",c.fontSize?'font-size="'+c.fontSize+'" ':"",c.fontStyle?'font-style="'+c.fontStyle+'" ':"",c.fontWeight?'font-weight="'+c.fontWeight+'" ':"",c.textDecoration?'text-decoration="'+c.textDecoration+'" ':"",'style="',f,'">',fabric.util.string.escapeXml(d),"</tspan>\n"].join("")}})})();
(function(e){var b=e.fabric||(e.fabric={});b.Textbox=b.util.createClass(b.IText,b.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingY:!0,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:b.Text.prototype._dimensionAffectingProps.concat("width"),initialize:function(d,c){this.callSuper("initialize",d,c);this.setControlsVisibility(b.Textbox.getTextboxControlVisibility());this.ctx=this.objectCaching?this._cacheContext:b.util.createCanvasElement().getContext("2d")},
_initDimensions:function(d){this.__skipDimension||(d||(d=b.util.createCanvasElement().getContext("2d"),this._setTextStyles(d),this.clearContextTop()),this.dynamicMinWidth=0,this._textLines=this._splitTextIntoLines(d),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this._clearCache(),this.height=this._getTextHeight(d),this.setCoords())},_generateStyleMap:function(){for(var b=0,c=0,a=0,e={},h=0;h<this._textLines.length;h++)"\n"===this.text[a]&&0<h?(c=0,a++,b++):" "===this.text[a]&&
0<h&&(c++,a++),e[h]={line:b,offset:c},a+=this._textLines[h].length,c+=this._textLines[h].length;return e},_getStyleDeclaration:function(b,c,a){if(this._styleMap){var d=this._styleMap[b];if(!d)return a?{}:null;b=d.line;c=d.offset+c}return this.callSuper("_getStyleDeclaration",b,c,a)},_setStyleDeclaration:function(b,c,a){var d=this._styleMap[b];b=d.line;c=d.offset+c;this.styles[b][c]=a},_deleteStyleDeclaration:function(b,c){var a=this._styleMap[b];b=a.line;c=a.offset+c;delete this.styles[b][c]},_getLineStyle:function(b){return this.styles[this._styleMap[b].line]},
_setLineStyle:function(b,c){this.styles[this._styleMap[b].line]=c},_deleteLineStyle:function(b){delete this.styles[this._styleMap[b].line]},_wrapText:function(b,c){var a=c.split(this._reNewline),d=[],e;for(e=0;e<a.length;e++)d=d.concat(this._wrapLine(b,a[e],e));return d},_measureText:function(b,c,a,e){var d=0;e=e||0;for(var f=0,g=c.length;f<g;f++)d+=this._getWidthOfChar(b,c[f],a,f+e);return d},_wrapLine:function(b,c,a){var d=0,e=[],f="";c=c.split(" ");for(var l,k=0,m,n=0,p=0,q=!0,t=this._getWidthOfCharSpacing(),
r=0;r<c.length;r++)l=c[r],m=this._measureText(b,l,a,k),k+=l.length,d+=n+m-t,d>=this.width&&!q?(e.push(f),f="",d=m,q=!0):d+=t,q||(f+=" "),f+=l,n=this._measureText(b," ",a,k),k++,q=!1,m>p&&(p=m);r&&e.push(f);p>this.dynamicMinWidth&&(this.dynamicMinWidth=p-t);return e},_splitTextIntoLines:function(b){b=b||this.ctx;var c=this.textAlign;this._styleMap=null;b.save();this._setTextStyles(b);this.textAlign="left";var a=this._wrapText(b,this.text);this.textAlign=c;b.restore();this._textLines=a;this._styleMap=
this._generateStyleMap();return a},setOnGroup:function(b,c){"scaleX"===b&&(this.set("scaleX",Math.abs(1/c)),this.set("width",this.get("width")*c/("undefined"===typeof this.__oldScaleX?1:this.__oldScaleX)),this.__oldScaleX=c)},get2DCursorLocation:function(b){"undefined"===typeof b&&(b=this.selectionStart);for(var c=this._textLines.length,a=0,d=0;d<c;d++){var e=this._textLines[d].length;if(b<=a+e)return{lineIndex:d,charIndex:b-a};a+=e;"\n"!==this.text[a]&&" "!==this.text[a]||a++}return{lineIndex:c-
1,charIndex:this._textLines[c-1].length}},_getCursorBoundariesOffsets:function(b,c){for(var a=0,d=0,e=this.get2DCursorLocation(),f=this._textLines[e.lineIndex].split(""),l=this._getLineLeftOffset(this._getLineWidth(this.ctx,e.lineIndex)),k=0;k<e.charIndex;k++)d+=this._getWidthOfChar(this.ctx,f[k],e.lineIndex,k);for(k=0;k<e.lineIndex;k++)a+=this._getHeightOfLine(this.ctx,k);"cursor"===c&&(a+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,e.lineIndex)/this.lineHeight-this.getCurrentCharFontSize(e.lineIndex,
e.charIndex)*(1-this._fontSizeFraction));return{top:a,left:d,lineLeft:l}},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(b){return this.callSuper("toObject",["minWidth"].concat(b))}});b.Textbox.fromObject=function(d,c,a){return b.Object._fromObject("Textbox",d,c,a,"text")};b.Textbox.getTextboxControlVisibility=function(){return{tl:!1,tr:!1,br:!1,bl:!1,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0}}})("undefined"!==typeof exports?exports:this);
(function(){var e=fabric.Canvas.prototype._setObjectScale;fabric.Canvas.prototype._setObjectScale=function(b,d,c,a,g,h,f){var l=d.target;if(l instanceof fabric.Textbox){if(b=b.x/d.scaleX/(l.width+l.strokeWidth)*l.width,b>=l.getMinWidth())return l.set("width",b),!0}else return e.call(fabric.Canvas.prototype,b,d,c,a,g,h,f)};fabric.Group.prototype._refreshControlsVisibility=function(){if("undefined"!==typeof fabric.Textbox)for(var b=this._objects.length;b--;)if(this._objects[b]instanceof fabric.Textbox){this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility());
break}};fabric.util.object.extend(fabric.Textbox.prototype,{_removeExtraneousStyles:function(){for(var b in this._styleMap)this._textLines[b]||delete this.styles[this._styleMap[b].line]},insertCharStyleObject:function(b,d,c){var a=this._styleMap[b];b=a.line;d=a.offset+d;fabric.IText.prototype.insertCharStyleObject.apply(this,[b,d,c])},insertNewlineStyleObject:function(b,d,c){var a=this._styleMap[b];b=a.line;d=a.offset+d;fabric.IText.prototype.insertNewlineStyleObject.apply(this,[b,d,c])},shiftLineStyles:function(b,
d){b=this._styleMap[b].line;fabric.IText.prototype.shiftLineStyles.call(this,b,d)},_getTextOnPreviousLine:function(b){for(var d=this._textLines[b-1];this._styleMap[b-2]&&this._styleMap[b-2].line===this._styleMap[b-1].line;)d=this._textLines[b-2]+d,b--;return d},removeStyleObject:function(b,d){var c=this.get2DCursorLocation(d),a=this._styleMap[c.lineIndex];this._removeStyleObject(b,c,a.line,a.offset+c.charIndex)}})})();
(function(){var e=fabric.IText.prototype._getNewSelectionStartFromOffset;fabric.IText.prototype._getNewSelectionStartFromOffset=function(b,d,c,a,g){a=e.call(this,b,d,c,a,g);for(c=d=b=0;c<this._textLines.length;c++){b+=this._textLines[c].length;if(b+d>=a)break;"\n"!==this.text[b+d]&&" "!==this.text[b+d]||d++}return a-c+d}})();
(function(){function e(b,d,e){var f=c.parse(b);f.port||(f.port=0===f.protocol.indexOf("https:")?443:80);b=(0===f.protocol.indexOf("https:")?g:a).request({hostname:f.hostname,port:f.port,path:f.path,method:"GET"},function(a){var b="";d&&a.setEncoding(d);a.on("end",function(){e(b)});a.on("data",function(c){200===a.statusCode&&(b+=c)})});b.on("error",function(a){a.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+f.hostname+":"+f.port):fabric.log(a.message);e(null)});b.end()}
function b(a,b){require("fs").readFile(a,function(a,c){if(a)throw fabric.log(a),a;b(c)})}if("undefined"===typeof document||"undefined"===typeof window){var d=require("xmldom").DOMParser,c=require("url"),a=require("http"),g=require("https"),h=require("canvas"),f=require("canvas").Image;fabric.util.loadImage=function(a,c,d){function g(b){b?(h.src=new Buffer(b,"binary"),h._src=a,c&&c.call(d,h)):(h=null,c&&c.call(d,null,!0))}var h=new f;a&&(a instanceof Buffer||0===a.indexOf("data"))?(h.src=h._src=a,
c&&c.call(d,h)):a&&0!==a.indexOf("http")?b(a,g):a?e(a,"binary",g):c&&c.call(d,a)};fabric.loadSVGFromURL=function(a,c,d){a=a.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim();0!==a.indexOf("http")?b(a,function(a){fabric.loadSVGFromString(a.toString(),c,d)}):e(a,"",function(a){fabric.loadSVGFromString(a,c,d)})};fabric.loadSVGFromString=function(a,b,c){a=(new d).parseFromString(a);fabric.parseSVGDocument(a.documentElement,function(a,c){b&&b(a,c)},c)};fabric.util.getScript=function(a,b){e(a,"",function(a){eval(a);
b&&b()})};fabric.createCanvasForNode=function(a,b,c,d){d=d||c;var e=fabric.document.createElement("canvas"),f=new h(a||600,b||600,d);a=new h(a||600,b||600,d);e.style={};e.width=f.width;e.height=f.height;c=c||{};c.nodeCanvas=f;c.nodeCacheCanvas=a;c=new (fabric.Canvas||fabric.StaticCanvas)(e,c);c.nodeCanvas=f;c.nodeCacheCanvas=a;c.contextContainer=f.getContext("2d");c.contextCache=a.getContext("2d");c.Font=h.Font;return c};var l=fabric.StaticCanvas.prototype._initStatic;fabric.StaticCanvas.prototype._initStatic=
function(a,b){a=a||fabric.document.createElement("canvas");this.nodeCanvas=new h(a.width,a.height);this.nodeCacheCanvas=new h(a.width,a.height);l.call(this,a,b);this.contextContainer=this.nodeCanvas.getContext("2d");this.contextCache=this.nodeCacheCanvas.getContext("2d");this.Font=h.Font};fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()};fabric.StaticCanvas.prototype.createJPEGStream=function(a){return this.nodeCanvas.createJPEGStream(a)};fabric.StaticCanvas.prototype._initRetinaScaling=
function(){if(this._isRetinaScaling())return this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.nodeCanvas.width=this.width*fabric.devicePixelRatio,this.nodeCanvas.height=this.height*fabric.devicePixelRatio,this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio),this};fabric.Canvas&&(fabric.Canvas.prototype._initRetinaScaling=fabric.StaticCanvas.prototype._initRetinaScaling);
var k=fabric.StaticCanvas.prototype._setBackstoreDimension;fabric.StaticCanvas.prototype._setBackstoreDimension=function(a,b){k.call(this,a,b);this.nodeCanvas[a]=b;return this};fabric.Canvas&&(fabric.Canvas.prototype._setBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension)}})();
/* pako 0.2.3 nodeca/pako */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.pako=e()}}(function(){return function e(t,i,n){function a(s,o){if(!i[s]){if(!t[s]){var f="function"==typeof require&&require;if(!o&&f)return f(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=i[s]={exports:{}};t[s][0].call(l.exports,function(e){var i=t[s][1][e];return a(i?i:e)},l,l.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,i){"use strict";function n(e,t){var i=new h(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}function a(e,t){return t=t||{},t.raw=!0,n(e,t)}var r=e("./zlib/inflate.js"),s=e("./utils/common"),o=e("./utils/strings"),f=e("./zlib/constants"),l=e("./zlib/messages"),d=e("./zlib/zstream"),u=e("./zlib/gzheader"),h=function(e){this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,t.windowBits);if(i!==f.Z_OK)throw new Error(l[i]);this.header=new u,r.inflateGetHeader(this.strm,this.header)};h.prototype.push=function(e,t){var i,n,a,l,d,u=this.strm,h=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:t===!0?f.Z_FINISH:f.Z_NO_FLUSH,u.input="string"==typeof e?o.binstring2buf(e):e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new s.Buf8(h),u.next_out=0,u.avail_out=h),i=r.inflate(u,f.Z_NO_FLUSH),i!==f.Z_STREAM_END&&i!==f.Z_OK)return this.onEnd(i),this.ended=!0,!1;u.next_out&&(0===u.avail_out||i===f.Z_STREAM_END||0===u.avail_in&&n===f.Z_FINISH)&&("string"===this.options.to?(a=o.utf8border(u.output,u.next_out),l=u.next_out-a,d=o.buf2string(u.output,a),u.next_out=l,u.avail_out=h-l,l&&s.arraySet(u.output,u.output,a,l,0),this.onData(d)):this.onData(s.shrinkBuf(u.output,u.next_out)))}while((u.avail_in>0||0===u.avail_out)&&i!==f.Z_STREAM_END);return i===f.Z_STREAM_END&&(n=f.Z_FINISH),n===f.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===f.Z_OK):!0},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===f.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=h,i.inflate=n,i.inflateRaw=a,i.ungzip=n},{"./utils/common":2,"./utils/strings":3,"./zlib/constants":5,"./zlib/gzheader":7,"./zlib/inflate.js":9,"./zlib/messages":11,"./zlib/zstream":12}],2:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,i,n,a){if(t.subarray&&e.subarray)return void e.set(t.subarray(i,i+n),a);for(var r=0;n>r;r++)e[a+r]=t[i+r]},flattenChunks:function(e){var t,i,n,a,r,s;for(n=0,t=0,i=e.length;i>t;t++)n+=e[t].length;for(s=new Uint8Array(n),a=0,t=0,i=e.length;i>t;t++)r=e[t],s.set(r,a),a+=r.length;return s}},r={arraySet:function(e,t,i,n,a){for(var r=0;n>r;r++)e[a+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(n)},{}],3:[function(e,t,i){"use strict";function n(e,t){if(65537>t&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,a.shrinkBuf(e,t));for(var i="",n=0;t>n;n++)i+=String.fromCharCode(e[n]);return i}var a=e("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(o){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(o){s=!1}for(var f=new a.Buf8(256),l=0;256>l;l++)f[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;f[254]=f[254]=1,i.string2buf=function(e){var t,i,n,r,s,o=e.length,f=0;for(r=0;o>r;r++)i=e.charCodeAt(r),55296===(64512&i)&&o>r+1&&(n=e.charCodeAt(r+1),56320===(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),f+=128>i?1:2048>i?2:65536>i?3:4;for(t=new a.Buf8(f),s=0,r=0;f>s;r++)i=e.charCodeAt(r),55296===(64512&i)&&o>r+1&&(n=e.charCodeAt(r+1),56320===(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),128>i?t[s++]=i:2048>i?(t[s++]=192|i>>>6,t[s++]=128|63&i):65536>i?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},i.buf2binstring=function(e){return n(e,e.length)},i.binstring2buf=function(e){for(var t=new a.Buf8(e.length),i=0,n=t.length;n>i;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,a,r,s,o=t||e.length,l=new Array(2*o);for(a=0,i=0;o>i;)if(r=e[i++],128>r)l[a++]=r;else if(s=f[r],s>4)l[a++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&o>i;)r=r<<6|63&e[i++],s--;s>1?l[a++]=65533:65536>r?l[a++]=r:(r-=65536,l[a++]=55296|r>>10&1023,l[a++]=56320|1023&r)}return n(l,a)},i.utf8border=function(e,t){var i;for(t=t||e.length,t>e.length&&(t=e.length),i=t-1;i>=0&&128===(192&e[i]);)i--;return 0>i?t:0===i?t:i+f[e[i]]>t?i:t}},{"./common":2}],4:[function(e,t){"use strict";function i(e,t,i,n){for(var a=65535&e|0,r=e>>>16&65535|0,s=0;0!==i;){s=i>2e3?2e3:i,i-=s;do a=a+t[n++]|0,r=r+a|0;while(--s);a%=65521,r%=65521}return a|r<<16|0}t.exports=i},{}],5:[function(e,t){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],6:[function(e,t){"use strict";function i(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}function n(e,t,i,n){var r=a,s=n+i;e=-1^e;for(var o=n;s>o;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}var a=i();t.exports=n},{}],7:[function(e,t){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],8:[function(e,t){"use strict";var i=30,n=12;t.exports=function(e,t){var a,r,s,o,f,l,d,u,h,c,b,w,m,k,g,_,v,p,x,y,S,B,E,Z,A;a=e.state,r=e.next_in,Z=e.input,s=r+(e.avail_in-5),o=e.next_out,A=e.output,f=o-(t-e.avail_out),l=o+(e.avail_out-257),d=a.dmax,u=a.wsize,h=a.whave,c=a.wnext,b=a.window,w=a.hold,m=a.bits,k=a.lencode,g=a.distcode,_=(1<<a.lenbits)-1,v=(1<<a.distbits)-1;e:do{15>m&&(w+=Z[r++]<<m,m+=8,w+=Z[r++]<<m,m+=8),p=k[w&_];t:for(;;){if(x=p>>>24,w>>>=x,m-=x,x=p>>>16&255,0===x)A[o++]=65535&p;else{if(!(16&x)){if(0===(64&x)){p=k[(65535&p)+(w&(1<<x)-1)];continue t}if(32&x){a.mode=n;break e}e.msg="invalid literal/length code",a.mode=i;break e}y=65535&p,x&=15,x&&(x>m&&(w+=Z[r++]<<m,m+=8),y+=w&(1<<x)-1,w>>>=x,m-=x),15>m&&(w+=Z[r++]<<m,m+=8,w+=Z[r++]<<m,m+=8),p=g[w&v];i:for(;;){if(x=p>>>24,w>>>=x,m-=x,x=p>>>16&255,!(16&x)){if(0===(64&x)){p=g[(65535&p)+(w&(1<<x)-1)];continue i}e.msg="invalid distance code",a.mode=i;break e}if(S=65535&p,x&=15,x>m&&(w+=Z[r++]<<m,m+=8,x>m&&(w+=Z[r++]<<m,m+=8)),S+=w&(1<<x)-1,S>d){e.msg="invalid distance too far back",a.mode=i;break e}if(w>>>=x,m-=x,x=o-f,S>x){if(x=S-x,x>h&&a.sane){e.msg="invalid distance too far back",a.mode=i;break e}if(B=0,E=b,0===c){if(B+=u-x,y>x){y-=x;do A[o++]=b[B++];while(--x);B=o-S,E=A}}else if(x>c){if(B+=u+c-x,x-=c,y>x){y-=x;do A[o++]=b[B++];while(--x);if(B=0,y>c){x=c,y-=x;do A[o++]=b[B++];while(--x);B=o-S,E=A}}}else if(B+=c-x,y>x){y-=x;do A[o++]=b[B++];while(--x);B=o-S,E=A}for(;y>2;)A[o++]=E[B++],A[o++]=E[B++],A[o++]=E[B++],y-=3;y&&(A[o++]=E[B++],y>1&&(A[o++]=E[B++]))}else{B=o-S;do A[o++]=A[B++],A[o++]=A[B++],A[o++]=A[B++],y-=3;while(y>2);y&&(A[o++]=A[B++],y>1&&(A[o++]=A[B++]))}break}}break}}while(s>r&&l>o);y=m>>3,r-=y,m-=y<<3,w&=(1<<m)-1,e.next_in=r,e.next_out=o,e.avail_in=s>r?5+(s-r):5-(r-s),e.avail_out=l>o?257+(l-o):257-(o-l),a.hold=w,a.bits=m}},{}],9:[function(e,t,i){"use strict";function n(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function a(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new k.Buf16(320),this.work=new k.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new k.Buf32(bt),t.distcode=t.distdyn=new k.Buf32(wt),t.sane=1,t.back=-1,A):C}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):C}function o(e,t){var i,n;return e&&e.state?(n=e.state,0>t?(i=0,t=-t):(i=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?C:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,s(e))):C}function f(e,t){var i,n;return e?(n=new a,e.state=n,n.window=null,i=o(e,t),i!==A&&(e.state=null),i):C}function l(e){return f(e,kt)}function d(e){if(gt){var t;for(w=new k.Buf32(512),m=new k.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(p(y,e.lens,0,288,w,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;p(S,e.lens,0,32,m,0,e.work,{bits:5}),gt=!1}e.lencode=w,e.lenbits=9,e.distcode=m,e.distbits=5}function u(e,t,i,n){var a,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new k.Buf8(r.wsize)),n>=r.wsize?(k.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),k.arraySet(r.window,t,i-n,a,r.wnext),n-=a,n?(k.arraySet(r.window,t,i-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0}function h(e,t){var i,a,r,s,o,f,l,h,c,b,w,m,bt,wt,mt,kt,gt,_t,vt,pt,xt,yt,St,Bt,Et=0,Zt=new k.Buf8(4),At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return C;i=e.state,i.mode===G&&(i.mode=X),o=e.next_out,r=e.output,l=e.avail_out,s=e.next_in,a=e.input,f=e.avail_in,h=i.hold,c=i.bits,b=f,w=l,yt=A;e:for(;;)switch(i.mode){case F:if(0===i.wrap){i.mode=X;break}for(;16>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(2&i.wrap&&35615===h){i.check=0,Zt[0]=255&h,Zt[1]=h>>>8&255,i.check=_(i.check,Zt,2,0),h=0,c=0,i.mode=D;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",i.mode=ut;break}if((15&h)!==T){e.msg="unknown compression method",i.mode=ut;break}if(h>>>=4,c-=4,xt=(15&h)+8,0===i.wbits)i.wbits=xt;else if(xt>i.wbits){e.msg="invalid window size",i.mode=ut;break}i.dmax=1<<xt,e.adler=i.check=1,i.mode=512&h?q:G,h=0,c=0;break;case D:for(;16>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(i.flags=h,(255&i.flags)!==T){e.msg="unknown compression method",i.mode=ut;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=ut;break}i.head&&(i.head.text=h>>8&1),512&i.flags&&(Zt[0]=255&h,Zt[1]=h>>>8&255,i.check=_(i.check,Zt,2,0)),h=0,c=0,i.mode=U;case U:for(;32>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}i.head&&(i.head.time=h),512&i.flags&&(Zt[0]=255&h,Zt[1]=h>>>8&255,Zt[2]=h>>>16&255,Zt[3]=h>>>24&255,i.check=_(i.check,Zt,4,0)),h=0,c=0,i.mode=L;case L:for(;16>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}i.head&&(i.head.xflags=255&h,i.head.os=h>>8),512&i.flags&&(Zt[0]=255&h,Zt[1]=h>>>8&255,i.check=_(i.check,Zt,2,0)),h=0,c=0,i.mode=H;case H:if(1024&i.flags){for(;16>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}i.length=h,i.head&&(i.head.extra_len=h),512&i.flags&&(Zt[0]=255&h,Zt[1]=h>>>8&255,i.check=_(i.check,Zt,2,0)),h=0,c=0}else i.head&&(i.head.extra=null);i.mode=M;case M:if(1024&i.flags&&(m=i.length,m>f&&(m=f),m&&(i.head&&(xt=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),k.arraySet(i.head.extra,a,s,m,xt)),512&i.flags&&(i.check=_(i.check,a,m,s)),f-=m,s+=m,i.length-=m),i.length))break e;i.length=0,i.mode=K;case K:if(2048&i.flags){if(0===f)break e;m=0;do xt=a[s+m++],i.head&&xt&&i.length<65536&&(i.head.name+=String.fromCharCode(xt));while(xt&&f>m);if(512&i.flags&&(i.check=_(i.check,a,m,s)),f-=m,s+=m,xt)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=j;case j:if(4096&i.flags){if(0===f)break e;m=0;do xt=a[s+m++],i.head&&xt&&i.length<65536&&(i.head.comment+=String.fromCharCode(xt));while(xt&&f>m);if(512&i.flags&&(i.check=_(i.check,a,m,s)),f-=m,s+=m,xt)break e}else i.head&&(i.head.comment=null);i.mode=P;case P:if(512&i.flags){for(;16>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(h!==(65535&i.check)){e.msg="header crc mismatch",i.mode=ut;break}h=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=G;break;case q:for(;32>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}e.adler=i.check=n(h),h=0,c=0,i.mode=Y;case Y:if(0===i.havedict)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=f,i.hold=h,i.bits=c,R;e.adler=i.check=1,i.mode=G;case G:if(t===E||t===Z)break e;case X:if(i.last){h>>>=7&c,c-=7&c,i.mode=ft;break}for(;3>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}switch(i.last=1&h,h>>>=1,c-=1,3&h){case 0:i.mode=W;break;case 1:if(d(i),i.mode=tt,t===Z){h>>>=2,c-=2;break e}break;case 2:i.mode=V;break;case 3:e.msg="invalid block type",i.mode=ut}h>>>=2,c-=2;break;case W:for(h>>>=7&c,c-=7&c;32>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",i.mode=ut;break}if(i.length=65535&h,h=0,c=0,i.mode=J,t===Z)break e;case J:i.mode=Q;case Q:if(m=i.length){if(m>f&&(m=f),m>l&&(m=l),0===m)break e;k.arraySet(r,a,s,m,o),f-=m,s+=m,l-=m,o+=m,i.length-=m;break}i.mode=G;break;case V:for(;14>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(i.nlen=(31&h)+257,h>>>=5,c-=5,i.ndist=(31&h)+1,h>>>=5,c-=5,i.ncode=(15&h)+4,h>>>=4,c-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=ut;break}i.have=0,i.mode=$;case $:for(;i.have<i.ncode;){for(;3>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}i.lens[At[i.have++]]=7&h,h>>>=3,c-=3}for(;i.have<19;)i.lens[At[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,St={bits:i.lenbits},yt=p(x,i.lens,0,19,i.lencode,0,i.work,St),i.lenbits=St.bits,yt){e.msg="invalid code lengths set",i.mode=ut;break}i.have=0,i.mode=et;case et:for(;i.have<i.nlen+i.ndist;){for(;Et=i.lencode[h&(1<<i.lenbits)-1],mt=Et>>>24,kt=Et>>>16&255,gt=65535&Et,!(c>=mt);){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(16>gt)h>>>=mt,c-=mt,i.lens[i.have++]=gt;else{if(16===gt){for(Bt=mt+2;Bt>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(h>>>=mt,c-=mt,0===i.have){e.msg="invalid bit length repeat",i.mode=ut;break}xt=i.lens[i.have-1],m=3+(3&h),h>>>=2,c-=2}else if(17===gt){for(Bt=mt+3;Bt>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}h>>>=mt,c-=mt,xt=0,m=3+(7&h),h>>>=3,c-=3}else{for(Bt=mt+7;Bt>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}h>>>=mt,c-=mt,xt=0,m=11+(127&h),h>>>=7,c-=7}if(i.have+m>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=ut;break}for(;m--;)i.lens[i.have++]=xt}}if(i.mode===ut)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=ut;break}if(i.lenbits=9,St={bits:i.lenbits},yt=p(y,i.lens,0,i.nlen,i.lencode,0,i.work,St),i.lenbits=St.bits,yt){e.msg="invalid literal/lengths set",i.mode=ut;break}if(i.distbits=6,i.distcode=i.distdyn,St={bits:i.distbits},yt=p(S,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,St),i.distbits=St.bits,yt){e.msg="invalid distances set",i.mode=ut;break}if(i.mode=tt,t===Z)break e;case tt:i.mode=it;case it:if(f>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=f,i.hold=h,i.bits=c,v(e,w),o=e.next_out,r=e.output,l=e.avail_out,s=e.next_in,a=e.input,f=e.avail_in,h=i.hold,c=i.bits,i.mode===G&&(i.back=-1);break}for(i.back=0;Et=i.lencode[h&(1<<i.lenbits)-1],mt=Et>>>24,kt=Et>>>16&255,gt=65535&Et,!(c>=mt);){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(kt&&0===(240&kt)){for(_t=mt,vt=kt,pt=gt;Et=i.lencode[pt+((h&(1<<_t+vt)-1)>>_t)],mt=Et>>>24,kt=Et>>>16&255,gt=65535&Et,!(c>=_t+mt);){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}h>>>=_t,c-=_t,i.back+=_t}if(h>>>=mt,c-=mt,i.back+=mt,i.length=gt,0===kt){i.mode=ot;break}if(32&kt){i.back=-1,i.mode=G;break}if(64&kt){e.msg="invalid literal/length code",i.mode=ut;break}i.extra=15&kt,i.mode=nt;case nt:if(i.extra){for(Bt=i.extra;Bt>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=at;case at:for(;Et=i.distcode[h&(1<<i.distbits)-1],mt=Et>>>24,kt=Et>>>16&255,gt=65535&Et,!(c>=mt);){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(0===(240&kt)){for(_t=mt,vt=kt,pt=gt;Et=i.distcode[pt+((h&(1<<_t+vt)-1)>>_t)],mt=Et>>>24,kt=Et>>>16&255,gt=65535&Et,!(c>=_t+mt);){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}h>>>=_t,c-=_t,i.back+=_t}if(h>>>=mt,c-=mt,i.back+=mt,64&kt){e.msg="invalid distance code",i.mode=ut;break}i.offset=gt,i.extra=15&kt,i.mode=rt;case rt:if(i.extra){for(Bt=i.extra;Bt>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=ut;break}i.mode=st;case st:if(0===l)break e;if(m=w-l,i.offset>m){if(m=i.offset-m,m>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=ut;break}m>i.wnext?(m-=i.wnext,bt=i.wsize-m):bt=i.wnext-m,m>i.length&&(m=i.length),wt=i.window}else wt=r,bt=o-i.offset,m=i.length;m>l&&(m=l),l-=m,i.length-=m;do r[o++]=wt[bt++];while(--m);0===i.length&&(i.mode=it);break;case ot:if(0===l)break e;r[o++]=i.length,l--,i.mode=it;break;case ft:if(i.wrap){for(;32>c;){if(0===f)break e;f--,h|=a[s++]<<c,c+=8}if(w-=l,e.total_out+=w,i.total+=w,w&&(e.adler=i.check=i.flags?_(i.check,r,w,o-w):g(i.check,r,w,o-w)),w=l,(i.flags?h:n(h))!==i.check){e.msg="incorrect data check",i.mode=ut;break}h=0,c=0}i.mode=lt;case lt:if(i.wrap&&i.flags){for(;32>c;){if(0===f)break e;f--,h+=a[s++]<<c,c+=8}if(h!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=ut;break}h=0,c=0}i.mode=dt;case dt:yt=z;break e;case ut:yt=N;break e;case ht:return I;case ct:default:return C}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=f,i.hold=h,i.bits=c,(i.wsize||w!==e.avail_out&&i.mode<ut&&(i.mode<ft||t!==B))&&u(e,e.output,e.next_out,w-e.avail_out)?(i.mode=ht,I):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,i.total+=w,i.wrap&&w&&(e.adler=i.check=i.flags?_(i.check,r,w,e.next_out-w):g(i.check,r,w,e.next_out-w)),e.data_type=i.bits+(i.last?64:0)+(i.mode===G?128:0)+(i.mode===tt||i.mode===J?256:0),(0===b&&0===w||t===B)&&yt===A&&(yt=O),yt)}function c(e){if(!e||!e.state)return C;var t=e.state;return t.window&&(t.window=null),e.state=null,A}function b(e,t){var i;return e&&e.state?(i=e.state,0===(2&i.wrap)?C:(i.head=t,t.done=!1,A)):C}var w,m,k=e("../utils/common"),g=e("./adler32"),_=e("./crc32"),v=e("./inffast"),p=e("./inftrees"),x=0,y=1,S=2,B=4,E=5,Z=6,A=0,z=1,R=2,C=-2,N=-3,I=-4,O=-5,T=8,F=1,D=2,U=3,L=4,H=5,M=6,K=7,j=8,P=9,q=10,Y=11,G=12,X=13,W=14,J=15,Q=16,V=17,$=18,et=19,tt=20,it=21,nt=22,at=23,rt=24,st=25,ot=26,ft=27,lt=28,dt=29,ut=30,ht=31,ct=32,bt=852,wt=592,mt=15,kt=mt,gt=!0;i.inflateReset=s,i.inflateReset2=o,i.inflateResetKeep=r,i.inflateInit=l,i.inflateInit2=f,i.inflate=h,i.inflateEnd=c,i.inflateGetHeader=b,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":2,"./adler32":4,"./crc32":6,"./inffast":8,"./inftrees":10}],10:[function(e,t){"use strict";var i=e("../utils/common"),n=15,a=852,r=592,s=0,o=1,f=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,c,b,w,m,k,g){var _,v,p,x,y,S,B,E,Z,A=g.bits,z=0,R=0,C=0,N=0,I=0,O=0,T=0,F=0,D=0,U=0,L=null,H=0,M=new i.Buf16(n+1),K=new i.Buf16(n+1),j=null,P=0;for(z=0;n>=z;z++)M[z]=0;for(R=0;b>R;R++)M[t[c+R]]++;for(I=A,N=n;N>=1&&0===M[N];N--);if(I>N&&(I=N),0===N)return w[m++]=20971520,w[m++]=20971520,g.bits=1,0;for(C=1;N>C&&0===M[C];C++);for(C>I&&(I=C),F=1,z=1;n>=z;z++)if(F<<=1,F-=M[z],0>F)return-1;if(F>0&&(e===s||1!==N))return-1;for(K[1]=0,z=1;n>z;z++)K[z+1]=K[z]+M[z];for(R=0;b>R;R++)0!==t[c+R]&&(k[K[t[c+R]]++]=R);switch(e){case s:L=j=k,S=19;break;case o:L=l,H-=257,j=d,P-=257,S=256;break;default:L=u,j=h,S=-1}if(U=0,R=0,z=C,y=m,O=I,T=0,p=-1,D=1<<I,x=D-1,e===o&&D>a||e===f&&D>r)return 1;for(var q=0;;){q++,B=z-T,k[R]<S?(E=0,Z=k[R]):k[R]>S?(E=j[P+k[R]],Z=L[H+k[R]]):(E=96,Z=0),_=1<<z-T,v=1<<O,C=v;do v-=_,w[y+(U>>T)+v]=B<<24|E<<16|Z|0;while(0!==v);for(_=1<<z-1;U&_;)_>>=1;if(0!==_?(U&=_-1,U+=_):U=0,R++,0===--M[z]){if(z===N)break;z=t[c+k[R]]}if(z>I&&(U&x)!==p){for(0===T&&(T=I),y+=C,O=z-T,F=1<<O;N>O+T&&(F-=M[O+T],!(0>=F));)O++,F<<=1;if(D+=1<<O,e===o&&D>a||e===f&&D>r)return 1;p=U&x,w[p]=I<<24|O<<16|y-m|0}}return 0!==U&&(w[y+U]=z-T<<24|64<<16|0),g.bits=I,0}},{"../utils/common":2}],11:[function(e,t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],12:[function(e,t){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}]},{},[1])(1)});/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=function(n){var o=t.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)},a=e.webkitRequestFileSystem,c=e.requestFileSystem||a||e.mozRequestFileSystem,s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",f=0,d=500,l=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,d)},v=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(i){s(i)}}},p=function(t,s){var d,p,w,y=this,m=t.type,S=!1,h=function(){v(y,"writestart progress write writeend".split(" "))},O=function(){if((S||!d)&&(d=n().createObjectURL(t)),p)p.location.href=d;else{var o=e.open(d,"_blank");void 0==o&&"undefined"!=typeof safari&&(e.location.href=d)}y.readyState=y.DONE,h(),l(d)},b=function(e){return function(){return y.readyState!==y.DONE?e.apply(this,arguments):void 0}},g={create:!0,exclusive:!1};return y.readyState=y.INIT,s||(s="download"),r?(d=n().createObjectURL(t),o.href=d,o.download=s,i(o),y.readyState=y.DONE,h(),void l(d)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)&&(t=new Blob(["",t],{type:t.type})),e.chrome&&m&&m!==u&&(w=t.slice||t.webkitSlice,t=w.call(t,0,t.size,u),S=!0),a&&"download"!==s&&(s+=".download"),(m===u||a)&&(p=e),c?(f+=t.size,void c(e.TEMPORARY,f,b(function(e){e.root.getDirectory("saved",g,b(function(e){var n=function(){e.getFile(s,g,b(function(e){e.createWriter(b(function(n){n.onwriteend=function(t){p.location.href=e.toURL(),y.readyState=y.DONE,v(y,"writeend",t),l(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&O()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=y["on"+e]}),n.write(t),y.abort=function(){n.abort(),y.readyState=y.DONE},y.readyState=y.WRITING}),O)}),O)};e.getFile(s,{create:!1},b(function(e){e.remove(),n()}),b(function(e){e.code===e.NOT_FOUND_ERR?n():O()}))}),O)}),O)):void O())},w=p.prototype,y=function(e,t){return new p(e,t)};return w.abort=function(){var e=this;e.readyState=e.DONE,v(e,"abort")},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,y}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});/* canvas-toBlob.js
 * A canvas.toBlob() implementation.
 * 2013-12-27
 * 
 * By Eli Grey, http://eligrey.com and Devin Samarin, https://github.com/eboyjr
 * License: X11/MIT
 *   See https://github.com/eligrey/canvas-toBlob.js/blob/master/LICENSE.md
 */

/*global self */
/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,
  plusplus: true */

/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */

(function(view) {
"use strict";
var
	  Uint8Array = view.Uint8Array
	, HTMLCanvasElement = view.HTMLCanvasElement
	, canvas_proto = HTMLCanvasElement && HTMLCanvasElement.prototype
	, is_base64_regex = /\s*;\s*base64\s*(?:;|$)/i
	, to_data_url = "toDataURL"
	, base64_ranks
	, decode_base64 = function(base64) {
		var
			  len = base64.length
			, buffer = new Uint8Array(len / 4 * 3 | 0)
			, i = 0
			, outptr = 0
			, last = [0, 0]
			, state = 0
			, save = 0
			, rank
			, code
			, undef
		;
		while (len--) {
			code = base64.charCodeAt(i++);
			rank = base64_ranks[code-43];
			if (rank !== 255 && rank !== undef) {
				last[1] = last[0];
				last[0] = code;
				save = (save << 6) | rank;
				state++;
				if (state === 4) {
					buffer[outptr++] = save >>> 16;
					if (last[1] !== 61 /* padding character */) {
						buffer[outptr++] = save >>> 8;
					}
					if (last[0] !== 61 /* padding character */) {
						buffer[outptr++] = save;
					}
					state = 0;
				}
			}
		}
		// 2/3 chance there's going to be some null bytes at the end, but that
		// doesn't really matter with most image formats.
		// If it somehow matters for you, truncate the buffer up outptr.
		return buffer;
	}
;
if (Uint8Array) {
	base64_ranks = new Uint8Array([
		  62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1
		, -1, -1,  0, -1, -1, -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9
		, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25
		, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35
		, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51
	]);
}
if (HTMLCanvasElement && !canvas_proto.toBlob) {
	canvas_proto.toBlob = function(callback, type /*, ...args*/) {
		  if (!type) {
			type = "image/png";
		} if (this.mozGetAsFile) {
			callback(this.mozGetAsFile("canvas", type));
			return;
		} if (this.msToBlob && /^\s*image\/png\s*(?:$|;)/i.test(type)) {
			callback(this.msToBlob());
			return;
		}

		var
			  args = Array.prototype.slice.call(arguments, 1)
			, dataURI = this[to_data_url].apply(this, args)
			, header_end = dataURI.indexOf(",")
			, data = dataURI.substring(header_end + 1)
			, is_base64 = is_base64_regex.test(dataURI.substring(0, header_end))
			, blob
		;
		if (Blob.fake) {
			// no reason to decode a data: URI that's just going to become a data URI again
			blob = new Blob
			if (is_base64) {
				blob.encoding = "base64";
			} else {
				blob.encoding = "URI";
			}
			blob.data = data;
			blob.size = data.length;
		} else if (Uint8Array) {
			if (is_base64) {
				blob = new Blob([decode_base64(data)], {type: type});
			} else {
				blob = new Blob([decodeURIComponent(data)], {type: type});
			}
		}
		callback(blob);
	};

	if (canvas_proto.toDataURLHD) {
		canvas_proto.toBlobHD = function() {
			to_data_url = "toDataURLHD";
			var blob = this.toBlob();
			to_data_url = "toDataURL";
			return blob;
		}
	} else {
		canvas_proto.toBlobHD = canvas_proto.toBlob;
	}
}
}(typeof self !== "undefined" && self || typeof window !== "undefined" && window || this.content || this));
//** Tab Content script v2.0-  Dynamic Drive DHTML code library (http://www.dynamicdrive.com)
//** Updated Oct 7th, 07 to version 2.0. Contains numerous improvements:
//   -Added Auto Mode: Script auto rotates the tabs based on an interval, until a tab is explicitly selected
//   -Ability to expand/contract arbitrary DIVs on the page as the tabbed content is expanded/ contracted
//   -Ability to dynamically select a tab either based on its position within its peers, or its ID attribute (give the target tab one 1st)
//   -Ability to set where the CSS classname "selected" get assigned- either to the target tab's link ("A"), or its parent container
//** Updated Feb 18th, 08 to version 2.1: Adds a "tabinstance.cycleit(dir)" method to cycle forward or backward between tabs dynamically
//** Updated April 8th, 08 to version 2.2: Adds support for expanding a tab using a URL parameter (ie: http://mysite.com/tabcontent.htm?tabinterfaceid=0) 

////NO NEED TO EDIT BELOW////////////////////////

function ddtabcontent(tabinterfaceid){
	this.tabinterfaceid=tabinterfaceid //ID of Tab Menu main container
	this.tabs=document.getElementById(tabinterfaceid).getElementsByTagName("a") //Get all tab links within container
	this.enabletabpersistence=true
	this.hottabspositions=[] //Array to store position of tabs that have a "rel" attr defined, relative to all tab links, within container
	this.currentTabIndex=0 //Index of currently selected hot tab (tab with sub content) within hottabspositions[] array
	this.subcontentids=[] //Array to store ids of the sub contents ("rel" attr values)
	this.revcontentids=[] //Array to store ids of arbitrary contents to expand/contact as well ("rev" attr values)
	this.selectedClassTarget="link" //keyword to indicate which target element to assign "selected" CSS class ("linkparent" or "link")
}

ddtabcontent.getCookie=function(Name){ 
	var re=new RegExp(Name+"=[^;]+", "i"); //construct RE to search for target name/value pair
	if (document.cookie.match(re)) //if cookie found
		return document.cookie.match(re)[0].split("=")[1] //return its value
	return ""
}

ddtabcontent.setCookie=function(name, value){
	document.cookie = name+"="+value+";path=/" //cookie value is domain wide (path=/)
}

ddtabcontent.prototype={

	expandit:function(tabid_or_position){ //PUBLIC function to select a tab either by its ID or position(int) within its peers
		this.cancelautorun() //stop auto cycling of tabs (if running)
		var tabref=""
		try{
			if (typeof tabid_or_position=="string" && document.getElementById(tabid_or_position).getAttribute("rel")) //if specified tab contains "rel" attr
				tabref=document.getElementById(tabid_or_position)
			else if (parseInt(tabid_or_position)!=isNaN() && this.tabs[tabid_or_position].getAttribute("rel")) //if specified tab contains "rel" attr
				tabref=this.tabs[tabid_or_position]
		}
		catch(err){alert("Invalid Tab ID or position entered!")}
		if (tabref!="") //if a valid tab is found based on function parameter
			this.expandtab(tabref) //expand this tab
	},

	cycleit:function(dir, autorun){ //PUBLIC function to move foward or backwards through each hot tab (tabinstance.cycleit('foward/back') )
		if (dir=="next"){
			var currentTabIndex=(this.currentTabIndex<this.hottabspositions.length-1)? this.currentTabIndex+1 : 0
		}
		else if (dir=="prev"){
			var currentTabIndex=(this.currentTabIndex>0)? this.currentTabIndex-1 : this.hottabspositions.length-1
		}
		if (typeof autorun=="undefined") //if cycleit() is being called by user, versus autorun() function
			this.cancelautorun() //stop auto cycling of tabs (if running)
		this.expandtab(this.tabs[this.hottabspositions[currentTabIndex]])
	},

	setpersist:function(bool){ //PUBLIC function to toggle persistence feature
			this.enabletabpersistence=bool
	},

	setselectedClassTarget:function(objstr){ //PUBLIC function to set which target element to assign "selected" CSS class ("linkparent" or "link")
		this.selectedClassTarget=objstr || "link"
	},

	getselectedClassTarget:function(tabref){ //Returns target element to assign "selected" CSS class to
		return (this.selectedClassTarget==("linkparent".toLowerCase()))? tabref.parentNode : tabref
	},

	urlparamselect:function(tabinterfaceid){
		var result=window.location.search.match(new RegExp(tabinterfaceid+"=(\\d+)", "i")) //check for "?tabinterfaceid=2" in URL
		return (result==null)? null : parseInt(RegExp.$1) //returns null or index, where index (int) is the selected tab's index
	},

	expandtab:function(tabref){
		var subcontentid=tabref.getAttribute("rel") //Get id of subcontent to expand
		//Get "rev" attr as a string of IDs in the format ",john,george,trey,etc," to easily search through
		var associatedrevids=(tabref.getAttribute("rev"))? ","+tabref.getAttribute("rev").replace(/\s+/, "")+"," : ""
		this.expandsubcontent(subcontentid)
		this.expandrevcontent(associatedrevids)
		for (var i=0; i<this.tabs.length; i++){ //Loop through all tabs, and assign only the selected tab the CSS class "selected"
			this.getselectedClassTarget(this.tabs[i]).className=(this.tabs[i].getAttribute("rel")==subcontentid)? "selected" : ""
		}
		if (this.enabletabpersistence) //if persistence enabled, save selected tab position(int) relative to its peers
			ddtabcontent.setCookie(this.tabinterfaceid, tabref.tabposition)
		this.setcurrenttabindex(tabref.tabposition) //remember position of selected tab within hottabspositions[] array
	},

	expandsubcontent:function(subcontentid){
		for (var i=0; i<this.subcontentids.length; i++){
			var subcontent=document.getElementById(this.subcontentids[i]) //cache current subcontent obj (in for loop)
			subcontent.style.display=(subcontent.id==subcontentid)? "block" : "none" //"show" or hide sub content based on matching id attr value
		}
	},

	expandrevcontent:function(associatedrevids){
		var allrevids=this.revcontentids
		for (var i=0; i<allrevids.length; i++){ //Loop through rev attributes for all tabs in this tab interface
			//if any values stored within associatedrevids matches one within allrevids, expand that DIV, otherwise, contract it
			document.getElementById(allrevids[i]).style.display=(associatedrevids.indexOf(","+allrevids[i]+",")!=-1)? "block" : "none"
		}
	},

	setcurrenttabindex:function(tabposition){ //store current position of tab (within hottabspositions[] array)
		for (var i=0; i<this.hottabspositions.length; i++){
			if (tabposition==this.hottabspositions[i]){
				this.currentTabIndex=i
				break
			}
		}
	},

	autorun:function(){ //function to auto cycle through and select tabs based on a set interval
		this.cycleit('next', true)
	},

	cancelautorun:function(){
		if (typeof this.autoruntimer!="undefined")
			clearInterval(this.autoruntimer)
	},

	init:function(automodeperiod){
		var persistedtab=ddtabcontent.getCookie(this.tabinterfaceid) //get position of persisted tab (applicable if persistence is enabled)
		var selectedtab=-1 //Currently selected tab index (-1 meaning none)
		var selectedtabfromurl=this.urlparamselect(this.tabinterfaceid) //returns null or index from: tabcontent.htm?tabinterfaceid=index
		this.automodeperiod=automodeperiod || 0
		for (var i=0; i<this.tabs.length; i++){
			this.tabs[i].tabposition=i //remember position of tab relative to its peers
			if (this.tabs[i].getAttribute("rel")){
				var tabinstance=this
				this.hottabspositions[this.hottabspositions.length]=i //store position of "hot" tab ("rel" attr defined) relative to its peers
				this.subcontentids[this.subcontentids.length]=this.tabs[i].getAttribute("rel") //store id of sub content ("rel" attr value)
				this.tabs[i].onclick=function(){
					tabinstance.expandtab(this)
					tabinstance.cancelautorun() //stop auto cycling of tabs (if running)
					return false
				}
				if (this.tabs[i].getAttribute("rev")){ //if "rev" attr defined, store each value within "rev" as an array element
					this.revcontentids=this.revcontentids.concat(this.tabs[i].getAttribute("rev").split(/\s*,\s*/))
				}
				if (selectedtabfromurl==i || this.enabletabpersistence && selectedtab==-1 && parseInt(persistedtab)==i || !this.enabletabpersistence && selectedtab==-1 && this.getselectedClassTarget(this.tabs[i]).className=="selected"){
					selectedtab=i //Selected tab index, if found
				}
			}
		} //END for loop
		if (selectedtab!=-1) //if a valid default selected tab index is found
			this.expandtab(this.tabs[selectedtab]) //expand selected tab (either from URL parameter, persistent feature, or class="selected" class)
		else //if no valid default selected index found
			this.expandtab(this.tabs[this.hottabspositions[0]]) //Just select first tab that contains a "rel" attr
		if (parseInt(this.automodeperiod)>500 && this.hottabspositions.length>1){
			this.autoruntimer=setInterval(function(){tabinstance.autorun()}, this.automodeperiod)
		}
	} //END int() function

}; //END Prototype assignment

/*
 * arrive.js
 * v2.3.0
 * https://github.com/uzairfarooq/arrive
 * MIT licensed
 *
 * Copyright (c) 2014-2015 Uzair Farooq
 */

var Arrive=function(r,n,q){function t(e,a,c){f.addMethod(a,c,e.unbindEvent);f.addMethod(a,c,e.unbindEventWithSelectorOrCallback);f.addMethod(a,c,e.unbindEventWithSelectorAndCallback)}function p(e){e.arrive=k.bindEvent;t(k,e,"unbindArrive");e.leave=h.bindEvent;t(h,e,"unbindLeave")}if(r.MutationObserver&&"undefined"!==typeof HTMLElement){var w=0,f=function(){var e=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;
	return{matchesSelector:function(a,c){return a instanceof HTMLElement&&e.call(a,c)},addMethod:function(a,c,d){var b=a[c];a[c]=function(){if(d.length==arguments.length)return d.apply(this,arguments);if("function"==typeof b)return b.apply(this,arguments)}},callCallbacks:function(a){for(var c=0,d;d=a[c];c++)d.callback.call(d.elem)},checkChildNodesRecursively:function(a,c,d,b){for(var u=0,m;m=a[u];u++)d(m,c,b)&&b.push({callback:c.callback,elem:m}),0<m.childNodes.length&&f.checkChildNodesRecursively(m.childNodes,
		c,d,b)},mergeArrays:function(a,c){var d={},b;for(b in a)d[b]=a[b];for(b in c)d[b]=c[b];return d},toElementsArray:function(a){"undefined"===typeof a||"number"===typeof a.length&&a!==r||(a=[a]);return a}}}(),x=function(){var e=function(){this._eventsBucket=[];this._beforeRemoving=this._beforeAdding=null};e.prototype.addEvent=function(a,c,d,b){a={target:a,selector:c,options:d,callback:b,firedElems:[]};this._beforeAdding&&this._beforeAdding(a);this._eventsBucket.push(a);return a};e.prototype.removeEvent=
	function(a){for(var c=this._eventsBucket.length-1,d;d=this._eventsBucket[c];c--)a(d)&&(this._beforeRemoving&&this._beforeRemoving(d),this._eventsBucket.splice(c,1))};e.prototype.beforeAdding=function(a){this._beforeAdding=a};e.prototype.beforeRemoving=function(a){this._beforeRemoving=a};return e}(),v=function(e,a){var c=new x,d=this,b={fireOnAttributesModification:!1};c.beforeAdding(function(b){var c=b.target,l;if(c===r.document||c===r)c=document.getElementsByTagName("html")[0];l=new MutationObserver(function(d){a.call(this,
	d,b)});var g=e(b.options);l.observe(c,g);b.observer=l;b.me=d});c.beforeRemoving(function(b){b.observer.disconnect()});this.bindEvent=function(d,a,l){a=f.mergeArrays(b,a);for(var g=f.toElementsArray(this),e=0;e<g.length;e++)c.addEvent(g[e],d,a,l)};this.unbindEvent=function(){var b=f.toElementsArray(this);c.removeEvent(function(a){for(var d=0;d<b.length;d++)if(this===q||a.target===b[d])return!0;return!1})};this.unbindEventWithSelectorOrCallback=function(b){var d=f.toElementsArray(this);c.removeEvent("function"===
typeof b?function(a){for(var c=0;c<d.length;c++)if((this===q||a.target===d[c])&&a.callback===b)return!0;return!1}:function(a){for(var c=0;c<d.length;c++)if((this===q||a.target===d[c])&&a.selector===b)return!0;return!1})};this.unbindEventWithSelectorAndCallback=function(b,a){var d=f.toElementsArray(this);c.removeEvent(function(c){for(var e=0;e<d.length;e++)if((this===q||c.target===d[e])&&c.selector===b&&c.callback===a)return!0;return!1})};return this},k=new function(){function e(d,b,a){if(f.matchesSelector(d,
		b.selector)&&(d._id===q&&(d._id=w++),-1==b.firedElems.indexOf(d._id))){if(b.options.onceOnly)if(0===b.firedElems.length)b.me.unbindEventWithSelectorAndCallback.call(b.target,b.selector,b.callback);else return;b.firedElems.push(d._id);a.push({callback:b.callback,elem:d})}}var a={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};k=new v(function(a){var b={attributes:!1,childList:!0,subtree:!0};a.fireOnAttributesModification&&(b.attributes=!0);return b},function(a,b){a.forEach(function(a){var d=
	a.addedNodes,c=a.target,g=[];null!==d&&0<d.length?f.checkChildNodesRecursively(d,b,e,g):"attributes"===a.type&&e(c,b,g)&&g.push({callback:b.callback,elem:node});f.callCallbacks(g)})});var c=k.bindEvent;k.bindEvent=function(d,b,e){"undefined"===typeof e?(e=b,b=a):b=f.mergeArrays(a,b);var m=f.toElementsArray(this);if(b.existing){for(var l=[],g=0;g<m.length;g++)for(var k=m[g].querySelectorAll(d),h=0;h<k.length;h++)l.push({callback:e,elem:k[h]});if(b.onceOnly&&l.length)return e.call(l[0].elem);f.callCallbacks(l)}c.call(this,
	d,b,e)};return k},h=new function(){function e(a,b){return f.matchesSelector(a,b.selector)}var a={};h=new v(function(a){return{childList:!0,subtree:!0}},function(a,b){a.forEach(function(a){a=a.removedNodes;var c=[];null!==a&&0<a.length&&f.checkChildNodesRecursively(a,b,e,c);f.callCallbacks(c)})});var c=h.bindEvent;h.bindEvent=function(d,b,e){"undefined"===typeof e?(e=b,b=a):b=f.mergeArrays(a,b);c.call(this,d,b,e)};return h};n&&p(n.fn);p(HTMLElement.prototype);p(NodeList.prototype);p(HTMLCollection.prototype);
	p(HTMLDocument.prototype);p(Window.prototype);n={};t(k,n,"unbindAllArrive");t(h,n,"unbindAllLeave");return n}}(this,"undefined"===typeof jQuery?null:jQuery,void 0);(function(b){var j=!1,a=navigator.userAgent.toLowerCase();if(0<=a.indexOf("iphone")||0<=a.indexOf("ipad"))j=!0;b.fn.doubletap=function(f,g,c){var a,h;c=null==c?500:c;a=!0==j?"touchend":"click";b(this).bind(a,function(a){var d=(new Date).getTime(),e=b(this).data("lastTouch")||d+1,e=d-e;clearTimeout(h);500>e&&0<e?null!=f&&"function"==typeof f&&f(a):(b(this).data("lastTouch",d),h=setTimeout(function(a){null!=g&&"function"==typeof g&&g(a);clearTimeout(h)},c,[a]));b(this).data("lastTouch",d)})}})(jQuery);
/*
Axis Labels Plugin for flot.
http://github.com/markrcote/flot-axislabels

Original code is Copyright (c) 2010 Xuan Luo.
Original code was released under the GPLv3 license by Xuan Luo, September 2010.
Original code was rereleased under the MIT license by Xuan Luo, April 2012.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

(function ($) {
    var options = {
      axisLabels: {
        show: true
      }
    };

    function canvasSupported() {
        return !!document.createElement('canvas').getContext;
    }

    function canvasTextSupported() {
        if (!canvasSupported()) {
            return false;
        }
        var dummy_canvas = document.createElement('canvas');
        var context = dummy_canvas.getContext('2d');
        return typeof context.fillText == 'function';
    }

    function css3TransitionSupported() {
        var div = document.createElement('div');
        return typeof div.style.MozTransition != 'undefined'    // Gecko
            || typeof div.style.OTransition != 'undefined'      // Opera
            || typeof div.style.webkitTransition != 'undefined' // WebKit
            || typeof div.style.transition != 'undefined';
    }


    function AxisLabel(axisName, position, padding, plot, opts) {
        this.axisName = axisName;
        this.position = position;
        this.padding = padding;
        this.plot = plot;
        this.opts = opts;
        this.width = 0;
        this.height = 0;
    }

    AxisLabel.prototype.cleanup = function() {
    };


    CanvasAxisLabel.prototype = new AxisLabel();
    CanvasAxisLabel.prototype.constructor = CanvasAxisLabel;
    function CanvasAxisLabel(axisName, position, padding, plot, opts) {
        AxisLabel.prototype.constructor.call(this, axisName, position, padding,
                                             plot, opts);
    }

    CanvasAxisLabel.prototype.calculateSize = function() {
        if (!this.opts.axisLabelFontSizePixels)
            this.opts.axisLabelFontSizePixels = 14;
        if (!this.opts.axisLabelFontFamily)
            this.opts.axisLabelFontFamily = 'sans-serif';

        var textWidth = this.opts.axisLabelFontSizePixels + this.padding;
        var textHeight = this.opts.axisLabelFontSizePixels + this.padding;
        if (this.position == 'left' || this.position == 'right') {
            this.width = this.opts.axisLabelFontSizePixels + this.padding;
            this.height = 0;
        } else {
            this.width = 0;
            this.height = this.opts.axisLabelFontSizePixels + this.padding;
        }
    };

    CanvasAxisLabel.prototype.draw = function(box) {
        if (!this.opts.axisLabelColour)
            this.opts.axisLabelColour = 'black';
        var ctx = this.plot.getCanvas().getContext('2d');
        ctx.save();
        ctx.font = this.opts.axisLabelFontSizePixels + 'px ' +
            this.opts.axisLabelFontFamily;
        ctx.fillStyle = this.opts.axisLabelColour;
        var width = ctx.measureText(this.opts.axisLabel).width;
        var height = this.opts.axisLabelFontSizePixels;
        var x, y, angle = 0;
        if (this.position == 'top') {
            x = box.left + box.width/2 - width/2;
            y = box.top + height*0.72;
        } else if (this.position == 'bottom') {
            x = box.left + box.width/2 - width/2;
            y = box.top + box.height - height*0.72;
        } else if (this.position == 'left') {
            x = box.left + height*0.72;
            y = box.height/2 + box.top + width/2;
            angle = -Math.PI/2;
        } else if (this.position == 'right') {
            x = box.left + box.width - height*0.72;
            y = box.height/2 + box.top - width/2;
            angle = Math.PI/2;
        }
        ctx.translate(x, y);
        ctx.rotate(angle);
        ctx.fillText(this.opts.axisLabel, 0, 0);
        ctx.restore();
    };


    HtmlAxisLabel.prototype = new AxisLabel();
    HtmlAxisLabel.prototype.constructor = HtmlAxisLabel;
    function HtmlAxisLabel(axisName, position, padding, plot, opts) {
        AxisLabel.prototype.constructor.call(this, axisName, position,
                                             padding, plot, opts);
        this.elem = null;
    }

    HtmlAxisLabel.prototype.calculateSize = function() {
        var elem = $('<div class="axisLabels" style="position:absolute;">' +
                     this.opts.axisLabel + '</div>');
        this.plot.getPlaceholder().append(elem);
        // store height and width of label itself, for use in draw()
        this.labelWidth = elem.outerWidth(true);
        this.labelHeight = elem.outerHeight(true);
        elem.remove();

        this.width = this.height = 0;
        if (this.position == 'left' || this.position == 'right') {
            this.width = this.labelWidth + this.padding;
        } else {
            this.height = this.labelHeight + this.padding;
        }
    };

    HtmlAxisLabel.prototype.cleanup = function() {
        if (this.elem) {
            this.elem.remove();
        }
    };

    HtmlAxisLabel.prototype.draw = function(box) {
        this.plot.getPlaceholder().find('#' + this.axisName + 'Label').remove();
        this.elem = $('<div id="' + this.axisName +
                      'Label" " class="axisLabels" style="position:absolute;">'
                      + this.opts.axisLabel + '</div>');
        this.plot.getPlaceholder().append(this.elem);
        if (this.position == 'top') {
            this.elem.css('left', box.left + box.width/2 - this.labelWidth/2 +
                          'px');
            this.elem.css('top', box.top + 'px');
        } else if (this.position == 'bottom') {
            this.elem.css('left', box.left + box.width/2 - this.labelWidth/2 +
                          'px');
            this.elem.css('top', box.top + box.height - this.labelHeight +
                          'px');
        } else if (this.position == 'left') {
            this.elem.css('top', box.top + box.height/2 - this.labelHeight/2 +
                          'px');
            this.elem.css('left', box.left + 'px');
        } else if (this.position == 'right') {
            this.elem.css('top', box.top + box.height/2 - this.labelHeight/2 +
                          'px');
            this.elem.css('left', box.left + box.width - this.labelWidth +
                          'px');
        }
    };


    CssTransformAxisLabel.prototype = new HtmlAxisLabel();
    CssTransformAxisLabel.prototype.constructor = CssTransformAxisLabel;
    function CssTransformAxisLabel(axisName, position, padding, plot, opts) {
        HtmlAxisLabel.prototype.constructor.call(this, axisName, position,
                                                 padding, plot, opts);
    }

    CssTransformAxisLabel.prototype.calculateSize = function() {
        HtmlAxisLabel.prototype.calculateSize.call(this);
        this.width = this.height = 0;
        if (this.position == 'left' || this.position == 'right') {
            this.width = this.labelHeight + this.padding;
        } else {
            this.height = this.labelHeight + this.padding;
        }
    };

    CssTransformAxisLabel.prototype.transforms = function(degrees, x, y) {
        var stransforms = {
            '-moz-transform': '',
            '-webkit-transform': '',
            '-o-transform': '',
            '-ms-transform': ''
        };
        if (x != 0 || y != 0) {
            var stdTranslate = ' translate(' + x + 'px, ' + y + 'px)';
            stransforms['-moz-transform'] += stdTranslate;
            stransforms['-webkit-transform'] += stdTranslate;
            stransforms['-o-transform'] += stdTranslate;
            stransforms['-ms-transform'] += stdTranslate;
        }
        if (degrees != 0) {
            var rotation = degrees / 90;
            var stdRotate = ' rotate(' + degrees + 'deg)';
            stransforms['-moz-transform'] += stdRotate;
            stransforms['-webkit-transform'] += stdRotate;
            stransforms['-o-transform'] += stdRotate;
            stransforms['-ms-transform'] += stdRotate;
        }
        var s = 'top: 0; left: 0; ';
        for (var prop in stransforms) {
            if (stransforms[prop]) {
                s += prop + ':' + stransforms[prop] + ';';
            }
        }
        s += ';';
        return s;
    };

    CssTransformAxisLabel.prototype.calculateOffsets = function(box) {
        var offsets = { x: 0, y: 0, degrees: 0 };
        if (this.position == 'bottom') {
            offsets.x = box.left + box.width/2 - this.labelWidth/2;
            offsets.y = box.top + box.height - this.labelHeight;
        } else if (this.position == 'top') {
            offsets.x = box.left + box.width/2 - this.labelWidth/2;
            offsets.y = box.top;
        } else if (this.position == 'left') {
            offsets.degrees = -90;
            offsets.x = box.left - this.labelWidth/2 + this.labelHeight/2;
            offsets.y = box.height/2 + box.top;
        } else if (this.position == 'right') {
            offsets.degrees = 90;
            offsets.x = box.left + box.width - this.labelWidth/2
                        - this.labelHeight/2;
            offsets.y = box.height/2 + box.top;
        }
        offsets.x = Math.round(offsets.x);
        offsets.y = Math.round(offsets.y);

        return offsets;
    };

    CssTransformAxisLabel.prototype.draw = function(box) {
        this.plot.getPlaceholder().find("." + this.axisName + "Label").remove();
        var offsets = this.calculateOffsets(box);
        this.elem = $('<div class="axisLabels ' + this.axisName +
                      'Label" style="position:absolute; ' +
                      this.transforms(offsets.degrees, offsets.x, offsets.y) +
                      '">' + this.opts.axisLabel + '</div>');
        this.plot.getPlaceholder().append(this.elem);
    };


    IeTransformAxisLabel.prototype = new CssTransformAxisLabel();
    IeTransformAxisLabel.prototype.constructor = IeTransformAxisLabel;
    function IeTransformAxisLabel(axisName, position, padding, plot, opts) {
        CssTransformAxisLabel.prototype.constructor.call(this, axisName,
                                                         position, padding,
                                                         plot, opts);
        this.requiresResize = false;
    }

    IeTransformAxisLabel.prototype.transforms = function(degrees, x, y) {
        // I didn't feel like learning the crazy Matrix stuff, so this uses
        // a combination of the rotation transform and CSS positioning.
        var s = '';
        if (degrees != 0) {
            var rotation = degrees/90;
            while (rotation < 0) {
                rotation += 4;
            }
            s += ' filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=' + rotation + '); ';
            // see below
            this.requiresResize = (this.position == 'right');
        }
        if (x != 0) {
            s += 'left: ' + x + 'px; ';
        }
        if (y != 0) {
            s += 'top: ' + y + 'px; ';
        }
        return s;
    };

    IeTransformAxisLabel.prototype.calculateOffsets = function(box) {
        var offsets = CssTransformAxisLabel.prototype.calculateOffsets.call(
                          this, box);
        // adjust some values to take into account differences between
        // CSS and IE rotations.
        if (this.position == 'top') {
            // FIXME: not sure why, but placing this exactly at the top causes
            // the top axis label to flip to the bottom...
            offsets.y = box.top + 1;
        } else if (this.position == 'left') {
            offsets.x = box.left;
            offsets.y = box.height/2 + box.top - this.labelWidth/2;
        } else if (this.position == 'right') {
            offsets.x = box.left + box.width - this.labelHeight;
            offsets.y = box.height/2 + box.top - this.labelWidth/2;
        }
        return offsets;
    };

    IeTransformAxisLabel.prototype.draw = function(box) {
        CssTransformAxisLabel.prototype.draw.call(this, box);
        if (this.requiresResize) {
            this.elem = this.plot.getPlaceholder().find("." + this.axisName +
                                                        "Label");
            // Since we used CSS positioning instead of transforms for
            // translating the element, and since the positioning is done
            // before any rotations, we have to reset the width and height
            // in case the browser wrapped the text (specifically for the
            // y2axis).
            this.elem.css('width', this.labelWidth);
            this.elem.css('height', this.labelHeight);
        }
    };


    function init(plot) {
        plot.hooks.processOptions.push(function (plot, options) {

            if (!options.axisLabels.show)
                return;

            // This is kind of a hack. There are no hooks in Flot between
            // the creation and measuring of the ticks (setTicks, measureTickLabels
            // in setupGrid() ) and the drawing of the ticks and plot box
            // (insertAxisLabels in setupGrid() ).
            //
            // Therefore, we use a trick where we run the draw routine twice:
            // the first time to get the tick measurements, so that we can change
            // them, and then have it draw it again.
            var secondPass = false;

            var axisLabels = {};
            var axisOffsetCounts = { left: 0, right: 0, top: 0, bottom: 0 };

            var defaultPadding = 2;  // padding between axis and tick labels
            plot.hooks.draw.push(function (plot, ctx) {
                var hasAxisLabels = false;
                if (!secondPass) {
                    // MEASURE AND SET OPTIONS
                    $.each(plot.getAxes(), function(axisName, axis) {
                        var opts = axis.options // Flot 0.7
                            || plot.getOptions()[axisName]; // Flot 0.6

                        // Handle redraws initiated outside of this plug-in.
                        if (axisName in axisLabels) {
                            axis.labelHeight = axis.labelHeight -
                                axisLabels[axisName].height;
                            axis.labelWidth = axis.labelWidth -
                                axisLabels[axisName].width;
                            opts.labelHeight = axis.labelHeight;
                            opts.labelWidth = axis.labelWidth;
                            axisLabels[axisName].cleanup();
                            delete axisLabels[axisName];
                        }

                        if (!opts || !opts.axisLabel || !axis.show)
                            return;

                        hasAxisLabels = true;
                        var renderer = null;

                        if (!opts.axisLabelUseHtml &&
                            navigator.appName == 'Microsoft Internet Explorer') {
                            var ua = navigator.userAgent;
                            var re  = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
                            if (re.exec(ua) != null) {
                                rv = parseFloat(RegExp.$1);
                            }
                            if (rv >= 9 && !opts.axisLabelUseCanvas && !opts.axisLabelUseHtml) {
                                renderer = CssTransformAxisLabel;
                            } else if (!opts.axisLabelUseCanvas && !opts.axisLabelUseHtml) {
                                renderer = IeTransformAxisLabel;
                            } else if (opts.axisLabelUseCanvas) {
                                renderer = CanvasAxisLabel;
                            } else {
                                renderer = HtmlAxisLabel;
                            }
                        } else {
                            if (opts.axisLabelUseHtml || (!css3TransitionSupported() && !canvasTextSupported()) && !opts.axisLabelUseCanvas) {
                                renderer = HtmlAxisLabel;
                            } else if (opts.axisLabelUseCanvas || !css3TransitionSupported()) {
                                renderer = CanvasAxisLabel;
                            } else {
                                renderer = CssTransformAxisLabel;
                            }
                        }

                        var padding = opts.axisLabelPadding === undefined ?
                                      defaultPadding : opts.axisLabelPadding;

                        axisLabels[axisName] = new renderer(axisName,
                                                            axis.position, padding,
                                                            plot, opts);

                        // flot interprets axis.labelHeight and .labelWidth as
                        // the height and width of the tick labels. We increase
                        // these values to make room for the axis label and
                        // padding.

                        axisLabels[axisName].calculateSize();

                        // AxisLabel.height and .width are the size of the
                        // axis label and padding.
                        // Just set opts here because axis will be sorted out on
                        // the redraw.

                        opts.labelHeight = axis.labelHeight +
                            axisLabels[axisName].height;
                        opts.labelWidth = axis.labelWidth +
                            axisLabels[axisName].width;
                    });

                    // If there are axis labels, re-draw with new label widths and
                    // heights.

                    if (hasAxisLabels) {
                        secondPass = true;
                        plot.setupGrid();
                        plot.draw();
                    }
                } else {
                    secondPass = false;
                    // DRAW
                    $.each(plot.getAxes(), function(axisName, axis) {
                        var opts = axis.options // Flot 0.7
                            || plot.getOptions()[axisName]; // Flot 0.6
                        if (!opts || !opts.axisLabel || !axis.show)
                            return;

                        axisLabels[axisName].draw(axis.box);
                    });
                }
            });
        });
    }


    $.plot.plugins.push({
        init: init,
        options: options,
        name: 'axisLabels',
        version: '2.0'
    });
})(jQuery);
/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 * http://spin.js.org/
 *
 * Example:
    var opts = {
      lines: 12             // The number of lines to draw
    , length: 7             // The length of each line
    , width: 5              // The line thickness
    , radius: 10            // The radius of the inner circle
    , scale: 1.0            // Scales overall size of the spinner
    , corners: 1            // Roundness (0..1)
    , color: '#000'         // #rgb or #rrggbb
    , opacity: 1/4          // Opacity of the lines
    , rotate: 0             // Rotation offset
    , direction: 1          // 1: clockwise, -1: counterclockwise
    , speed: 1              // Rounds per second
    , trail: 100            // Afterglow percentage
    , fps: 20               // Frames per second when using setTimeout()
    , zIndex: 2e9           // Use a high z-index by default
    , className: 'spinner'  // CSS class to assign to the element
    , top: '50%'            // center vertically
    , left: '50%'           // center horizontally
    , shadow: false         // Whether to render a shadow
    , hwaccel: false        // Whether to use hardware acceleration (might be buggy)
    , position: 'absolute'  // Element positioning
    }
    var target = document.getElementById('foo')
    var spinner = new Spinner(opts).spin(target)
 */
;(function (root, factory) {

  /* CommonJS */
  if (typeof module == 'object' && module.exports) module.exports = factory()

  /* AMD module */
  else if (typeof define == 'function' && define.amd) define(factory)

  /* Browser global */
  else root.Spinner = factory()
}(this, function () {
  "use strict"

  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */
    , animations = {} /* Animation rules keyed by their name */
    , useCssAnimations /* Whether to use CSS animations or setTimeout */
    , sheet /* A stylesheet to hold the @keyframe or VML rules. */

  /**
   * Utility function to create elements. If no tag name is given,
   * a DIV is created. Optionally properties can be passed.
   */
  function createEl (tag, prop) {
    var el = document.createElement(tag || 'div')
      , n

    for (n in prop) el[n] = prop[n]
    return el
  }

  /**
   * Appends children and returns the parent.
   */
  function ins (parent /* child1, child2, ...*/) {
    for (var i = 1, n = arguments.length; i < n; i++) {
      parent.appendChild(arguments[i])
    }

    return parent
  }

  /**
   * Creates an opacity keyframe animation rule and returns its name.
   * Since most mobile Webkits have timing issues with animation-delay,
   * we create separate rules for each line/segment.
   */
  function addAnimation (alpha, trail, i, lines) {
    var name = ['opacity', trail, ~~(alpha * 100), i, lines].join('-')
      , start = 0.01 + i/lines * 100
      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)
      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()
      , pre = prefix && '-' + prefix + '-' || ''

    if (!animations[name]) {
      sheet.insertRule(
        '@' + pre + 'keyframes ' + name + '{' +
        '0%{opacity:' + z + '}' +
        start + '%{opacity:' + alpha + '}' +
        (start+0.01) + '%{opacity:1}' +
        (start+trail) % 100 + '%{opacity:' + alpha + '}' +
        '100%{opacity:' + z + '}' +
        '}', sheet.cssRules.length)

      animations[name] = 1
    }

    return name
  }

  /**
   * Tries various vendor prefixes and returns the first supported property.
   */
  function vendor (el, prop) {
    var s = el.style
      , pp
      , i

    prop = prop.charAt(0).toUpperCase() + prop.slice(1)
    if (s[prop] !== undefined) return prop
    for (i = 0; i < prefixes.length; i++) {
      pp = prefixes[i]+prop
      if (s[pp] !== undefined) return pp
    }
  }

  /**
   * Sets multiple style properties at once.
   */
  function css (el, prop) {
    for (var n in prop) {
      el.style[vendor(el, n) || n] = prop[n]
    }

    return el
  }

  /**
   * Fills in default values.
   */
  function merge (obj) {
    for (var i = 1; i < arguments.length; i++) {
      var def = arguments[i]
      for (var n in def) {
        if (obj[n] === undefined) obj[n] = def[n]
      }
    }
    return obj
  }

  /**
   * Returns the line color from the given string or array.
   */
  function getColor (color, idx) {
    return typeof color == 'string' ? color : color[idx % color.length]
  }

  // Built-in defaults

  var defaults = {
    lines: 12             // The number of lines to draw
  , length: 7             // The length of each line
  , width: 5              // The line thickness
  , radius: 10            // The radius of the inner circle
  , scale: 1.0            // Scales overall size of the spinner
  , corners: 1            // Roundness (0..1)
  , color: '#000'         // #rgb or #rrggbb
  , opacity: 1/4          // Opacity of the lines
  , rotate: 0             // Rotation offset
  , direction: 1          // 1: clockwise, -1: counterclockwise
  , speed: 1              // Rounds per second
  , trail: 100            // Afterglow percentage
  , fps: 20               // Frames per second when using setTimeout()
  , zIndex: 2e9           // Use a high z-index by default
  , className: 'spinner'  // CSS class to assign to the element
  , top: '50%'            // center vertically
  , left: '50%'           // center horizontally
  , shadow: false         // Whether to render a shadow
  , hwaccel: false        // Whether to use hardware acceleration (might be buggy)
  , position: 'absolute'  // Element positioning
  }

  /** The constructor */
  function Spinner (o) {
    this.opts = merge(o || {}, Spinner.defaults, defaults)
  }

  // Global defaults that override the built-ins:
  Spinner.defaults = {}

  merge(Spinner.prototype, {
    /**
     * Adds the spinner to the given target element. If this instance is already
     * spinning, it is automatically removed from its previous target b calling
     * stop() internally.
     */
    spin: function (target) {
      this.stop()

      var self = this
        , o = self.opts
        , el = self.el = createEl(null, {className: o.className})

      css(el, {
        position: o.position
      , width: 0
      , zIndex: o.zIndex
      , left: o.left
      , top: o.top
      })

      if (target) {
        target.insertBefore(el, target.firstChild || null)
      }

      el.setAttribute('role', 'progressbar')
      self.lines(el, self.opts)

      if (!useCssAnimations) {
        // No CSS animation support, use setTimeout() instead
        var i = 0
          , start = (o.lines - 1) * (1 - o.direction) / 2
          , alpha
          , fps = o.fps
          , f = fps / o.speed
          , ostep = (1 - o.opacity) / (f * o.trail / 100)
          , astep = f / o.lines

        ;(function anim () {
          i++
          for (var j = 0; j < o.lines; j++) {
            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)

            self.opacity(el, j * o.direction + start, alpha, o)
          }
          self.timeout = self.el && setTimeout(anim, ~~(1000 / fps))
        })()
      }
      return self
    }

    /**
     * Stops and removes the Spinner.
     */
  , stop: function () {
      var el = this.el
      if (el) {
        clearTimeout(this.timeout)
        if (el.parentNode) el.parentNode.removeChild(el)
        this.el = undefined
      }
      return this
    }

    /**
     * Internal method that draws the individual lines. Will be overwritten
     * in VML fallback mode below.
     */
  , lines: function (el, o) {
      var i = 0
        , start = (o.lines - 1) * (1 - o.direction) / 2
        , seg

      function fill (color, shadow) {
        return css(createEl(), {
          position: 'absolute'
        , width: o.scale * (o.length + o.width) + 'px'
        , height: o.scale * o.width + 'px'
        , background: color
        , boxShadow: shadow
        , transformOrigin: 'left'
        , transform: 'rotate(' + ~~(360/o.lines*i + o.rotate) + 'deg) translate(' + o.scale*o.radius + 'px' + ',0)'
        , borderRadius: (o.corners * o.scale * o.width >> 1) + 'px'
        })
      }

      for (; i < o.lines; i++) {
        seg = css(createEl(), {
          position: 'absolute'
        , top: 1 + ~(o.scale * o.width / 2) + 'px'
        , transform: o.hwaccel ? 'translate3d(0,0,0)' : ''
        , opacity: o.opacity
        , animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1 / o.speed + 's linear infinite'
        })

        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px #000'), {top: '2px'}))
        ins(el, ins(seg, fill(getColor(o.color, i), '0 0 1px rgba(0,0,0,.1)')))
      }
      return el
    }

    /**
     * Internal method that adjusts the opacity of a single line.
     * Will be overwritten in VML fallback mode below.
     */
  , opacity: function (el, i, val) {
      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val
    }

  })


  function initVML () {

    /* Utility function to create a VML tag */
    function vml (tag, attr) {
      return createEl('<' + tag + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', attr)
    }

    // No CSS transforms but VML support, add a CSS rule for VML elements:
    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')

    Spinner.prototype.lines = function (el, o) {
      var r = o.scale * (o.length + o.width)
        , s = o.scale * 2 * r

      function grp () {
        return css(
          vml('group', {
            coordsize: s + ' ' + s
          , coordorigin: -r + ' ' + -r
          })
        , { width: s, height: s }
        )
      }

      var margin = -(o.width + o.length) * o.scale * 2 + 'px'
        , g = css(grp(), {position: 'absolute', top: margin, left: margin})
        , i

      function seg (i, dx, filter) {
        ins(
          g
        , ins(
            css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx})
          , ins(
              css(
                vml('roundrect', {arcsize: o.corners})
              , { width: r
                , height: o.scale * o.width
                , left: o.scale * o.radius
                , top: -o.scale * o.width >> 1
                , filter: filter
                }
              )
            , vml('fill', {color: getColor(o.color, i), opacity: o.opacity})
            , vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change
            )
          )
        )
      }

      if (o.shadow)
        for (i = 1; i <= o.lines; i++) {
          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')
        }

      for (i = 1; i <= o.lines; i++) seg(i)
      return ins(el, g)
    }

    Spinner.prototype.opacity = function (el, i, val, o) {
      var c = el.firstChild
      o = o.shadow && o.lines || 0
      if (c && i + o < c.childNodes.length) {
        c = c.childNodes[i + o]; c = c && c.firstChild; c = c && c.firstChild
        if (c) c.opacity = val
      }
    }
  }

  if (typeof document !== 'undefined') {
    sheet = (function () {
      var el = createEl('style', {type : 'text/css'})
      ins(document.getElementsByTagName('head')[0], el)
      return el.sheet || el.styleSheet
    }())

    var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})

    if (!vendor(probe, 'transform') && probe.adj) initVML()
    else useCssAnimations = vendor(probe, 'animation')
  }

  return Spinner

}));
/**
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */
;
(function() {
    /**
     *
     * @type {Function}
     * @constructor
     */
    var ElementQueries = this.ElementQueries = function() {

        this.withTracking = false;
        var elements = [];

        /**
         *
         * @param element
         * @returns {Number}
         */
        function getEmSize(element) {
            if (!element) {
                element = document.documentElement;
            }
            var fontSize = getComputedStyle(element, 'fontSize');
            return parseFloat(fontSize) || 16;
        }

        /**
         *
         * @copyright https://github.com/Mr0grog/element-query/blob/master/LICENSE
         *
         * @param {HTMLElement} element
         * @param {*} value
         * @returns {*}
         */
        function convertToPx(element, value) {
            var units = value.replace(/[0-9]*/, '');
            value = parseFloat(value);
            switch (units) {
                case "px":
                    return value;
                case "em":
                    return value * getEmSize(element);
                case "rem":
                    return value * getEmSize();
                // Viewport units!
                // According to http://quirksmode.org/mobile/tableViewport.html
                // documentElement.clientWidth/Height gets us the most reliable info
                case "vw":
                    return value * document.documentElement.clientWidth / 100;
                case "vh":
                    return value * document.documentElement.clientHeight / 100;
                case "vmin":
                case "vmax":
                    var vw = document.documentElement.clientWidth / 100;
                    var vh = document.documentElement.clientHeight / 100;
                    var chooser = Math[units === "vmin" ? "min" : "max"];
                    return value * chooser(vw, vh);
                default:
                    return value;
                // for now, not supporting physical units (since they are just a set number of px)
                // or ex/ch (getting accurate measurements is hard)
            }
        }

        /**
         *
         * @param {HTMLElement} element
         * @constructor
         */
        function SetupInformation(element) {
            this.element = element;
            this.options = {};
            var key, option, width = 0, height = 0, value, actualValue, attrValues, attrValue, attrName;

            /**
             * @param {Object} option {mode: 'min|max', property: 'width|height', value: '123px'}
             */
            this.addOption = function(option) {
                var idx = [option.mode, option.property, option.value].join(',');
                this.options[idx] = option;
            };

            var attributes = ['min-width', 'min-height', 'max-width', 'max-height'];

            /**
             * Extracts the computed width/height and sets to min/max- attribute.
             */
            this.call = function() {
                // extract current dimensions
                width = this.element.offsetWidth;
                height = this.element.offsetHeight;

                attrValues = {};

                for (key in this.options) {
                    if (!this.options.hasOwnProperty(key)){
                        continue;
                    }
                    option = this.options[key];

                    value = convertToPx(this.element, option.value);

                    actualValue = option.property == 'width' ? width : height;
                    attrName = option.mode + '-' + option.property;
                    attrValue = '';

                    if (option.mode == 'min' && actualValue >= value) {
                        attrValue += option.value;
                    }

                    if (option.mode == 'max' && actualValue <= value) {
                        attrValue += option.value;
                    }

                    if (!attrValues[attrName]) attrValues[attrName] = '';
                    if (attrValue && -1 === (' '+attrValues[attrName]+' ').indexOf(' ' + attrValue + ' ')) {
                        attrValues[attrName] += ' ' + attrValue;
                    }
                }

                for (var k in attributes) {
                    if (attrValues[attributes[k]]) {
                        this.element.setAttribute(attributes[k], attrValues[attributes[k]].substr(1));
                    } else {
                        this.element.removeAttribute(attributes[k]);
                    }
                }
            };
        }

        /**
         * @param {HTMLElement} element
         * @param {Object}      options
         */
        function setupElement(element, options) {
            if (element.elementQueriesSetupInformation) {
                element.elementQueriesSetupInformation.addOption(options);
            } else {
                element.elementQueriesSetupInformation = new SetupInformation(element);
                element.elementQueriesSetupInformation.addOption(options);
                element.elementQueriesSensor = new ResizeSensor(element, function() {
                    element.elementQueriesSetupInformation.call();
                });
            }
            element.elementQueriesSetupInformation.call();

            if (ElementQueries.instance.withTracking && elements.indexOf(element) < 0) {
                elements.push(element);
            }
        }

        /**
         * @param {String} selector
         * @param {String} mode min|max
         * @param {String} property width|height
         * @param {String} value
         */
        function queueQuery(selector, mode, property, value) {
            var query;
            if (document.querySelectorAll) query = document.querySelectorAll.bind(document);
            if (!query && 'undefined' !== typeof $$) query = $$;
            if (!query && 'undefined' !== typeof jQuery) query = jQuery;

            if (!query) {
                throw 'No document.querySelectorAll, jQuery or Mootools\'s $$ found.';
            }

            var elements = query(selector);
            for (var i = 0, j = elements.length; i < j; i++) {
                setupElement(elements[i], {
                    mode: mode,
                    property: property,
                    value: value
                });
            }
        }

        var regex = /,?([^,\n]*?)\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]([^\n\s\{]*?)/mgi;

        /**
         * @param {String} css
         */
        function extractQuery(css) {
            var match;
            var smatch;
            css = css.replace(/'/g, '"');
            while (null !== (match = regex.exec(css))) {
                if (5 < match.length) {
                    smatch = match[1] || match[5] || smatch;
                    queueQuery(smatch, match[2], match[3], match[4]);
                }
            }
        }

        /**
         * @param {CssRule[]|String} rules
         */
        function readRules(rules) {
            var selector = '';
            if (!rules) {
                return;
            }
            if ('string' === typeof rules) {
                rules = rules.toLowerCase();
                if (-1 !== rules.indexOf('min-width') || -1 !== rules.indexOf('max-width')) {
                    extractQuery(rules);
                }
            } else {
                for (var i = 0, j = rules.length; i < j; i++) {
                    if (1 === rules[i].type) {
                        selector = rules[i].selectorText || rules[i].cssText;
                        if (-1 !== selector.indexOf('min-height') || -1 !== selector.indexOf('max-height')) {
                            extractQuery(selector);
                        }else if(-1 !== selector.indexOf('min-width') || -1 !== selector.indexOf('max-width')) {
                            extractQuery(selector);
                        }
                    } else if (4 === rules[i].type) {
                        readRules(rules[i].cssRules || rules[i].rules);
                    }
                }
            }
        }

        /**
         * Searches all css rules and setups the event listener to all elements with element query rules..
         *
         * @param {Boolean} withTracking allows and requires you to use detach, since we store internally all used elements
         *                               (no garbage collection possible if you don not call .detach() first)
         */
        this.init = function(withTracking) {
            this.withTracking = withTracking;
            for (var i = 0, j = document.styleSheets.length; i < j; i++) {
                try {
                    readRules(document.styleSheets[i].cssText || document.styleSheets[i].cssRules || document.styleSheets[i].rules);
                } catch(e) {
                    if (e.name !== 'SecurityError') {
                        throw e;
                    }
                }
            }
        };

        /**
         *
         * @param {Boolean} withTracking allows and requires you to use detach, since we store internally all used elements
         *                               (no garbage collection possible if you don not call .detach() first)
         */
        this.update = function(withTracking) {
            this.withTracking = withTracking;
            this.init();
        };

        this.detach = function() {
            if (!this.withTracking) {
                throw 'withTracking is not enabled. We can not detach elements since we don not store it.' +
                'Use ElementQueries.withTracking = true; before domready.';
            }

            var element;
            while (element = elements.pop()) {
                ElementQueries.detach(element);
            }

            elements = [];
        };
    };

    /**
     *
     * @param {Boolean} withTracking allows and requires you to use detach, since we store internally all used elements
     *                               (no garbage collection possible if you don not call .detach() first)
     */
    ElementQueries.update = function(withTracking) {
        ElementQueries.instance.update(withTracking);
    };

    /**
     * Removes all sensor and elementquery information from the element.
     *
     * @param {HTMLElement} element
     */
    ElementQueries.detach = function(element) {
        if (element.elementQueriesSetupInformation) {
            element.elementQueriesSensor.detach();
            delete element.elementQueriesSetupInformation;
            delete element.elementQueriesSensor;
            console.log('detached');
        } else {
            console.log('detached already', element);
        }
    };

    ElementQueries.withTracking = false;

    ElementQueries.init = function() {
        if (!ElementQueries.instance) {
            ElementQueries.instance = new ElementQueries();
        }

        ElementQueries.instance.init(ElementQueries.withTracking);
    };

    var domLoaded = function (callback) {
        /* Internet Explorer */
        /*@cc_on
        @if (@_win32 || @_win64)
            document.write('<script id="ieScriptLoad" defer src="//:"><\/script>');
            document.getElementById('ieScriptLoad').onreadystatechange = function() {
                if (this.readyState == 'complete') {
                    callback();
                }
            };
        @end @*/
        /* Mozilla, Chrome, Opera */
        if (document.addEventListener) {
            document.addEventListener('DOMContentLoaded', callback, false);
        }
        /* Safari, iCab, Konqueror */
        if (/KHTML|WebKit|iCab/i.test(navigator.userAgent)) {
            var DOMLoadTimer = setInterval(function () {
                if (/loaded|complete/i.test(document.readyState)) {
                    callback();
                    clearInterval(DOMLoadTimer);
                }
            }, 10);
        }
        /* Other web browsers */
        window.onload = callback;
    };

    if (window.addEventListener) {
        window.addEventListener('load', ElementQueries.init, false);
    } else {
        window.attachEvent('onload', ElementQueries.init);
    }
    domLoaded(ElementQueries.init);

})();
/**
 * Copyright Marc J. Schmidt. See the LICENSE file at the top-level
 * directory of this distribution and at
 * https://github.com/marcj/css-element-queries/blob/master/LICENSE.
 */
;
(function() {

    /**
     * Class for dimension change detection.
     *
     * @param {Element|Element[]|Elements|jQuery} element
     * @param {Function} callback
     *
     * @constructor
     */
    this.ResizeSensor = function(element, callback) {
        /**
         *
         * @constructor
         */
        function EventQueue() {
            this.q = [];
            this.add = function(ev) {
                this.q.push(ev);
            };

            var i, j;
            this.call = function() {
                for (i = 0, j = this.q.length; i < j; i++) {
                    this.q[i].call();
                }
            };
        }

        /**
         * @param {HTMLElement} element
         * @param {String}      prop
         * @returns {String|Number}
         */
        function getComputedStyle(element, prop) {
            if (element.currentStyle) {
                return element.currentStyle[prop];
            } else if (window.getComputedStyle) {
                return window.getComputedStyle(element, null).getPropertyValue(prop);
            } else {
                return element.style[prop];
            }
        }

        /**
         *
         * @param {HTMLElement} element
         * @param {Function}    resized
         */
        function attachResizeEvent(element, resized) {
            if (!element.resizedAttached) {
                element.resizedAttached = new EventQueue();
                element.resizedAttached.add(resized);
            } else if (element.resizedAttached) {
                element.resizedAttached.add(resized);
                return;
            }

            element.resizeSensor = document.createElement('div');
            element.resizeSensor.className = 'resize-sensor';
            var style = 'position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;';
            var styleChild = 'position: absolute; left: 0; top: 0;';

            element.resizeSensor.style.cssText = style;
            element.resizeSensor.innerHTML =
                '<div class="resize-sensor-expand" style="' + style + '">' +
                    '<div style="' + styleChild + '"></div>' +
                '</div>' +
                '<div class="resize-sensor-shrink" style="' + style + '">' +
                    '<div style="' + styleChild + ' width: 200%; height: 200%"></div>' +
                '</div>';
            element.appendChild(element.resizeSensor);

            if (!{fixed: 1, absolute: 1}[getComputedStyle(element, 'position')]) {
                element.style.position = 'relative';
            }

            var expand = element.resizeSensor.childNodes[0];
            var expandChild = expand.childNodes[0];
            var shrink = element.resizeSensor.childNodes[1];
            var shrinkChild = shrink.childNodes[0];

            var lastWidth, lastHeight;

            var reset = function() {
                expandChild.style.width = expand.offsetWidth + 10 + 'px';
                expandChild.style.height = expand.offsetHeight + 10 + 'px';
                expand.scrollLeft = expand.scrollWidth;
                expand.scrollTop = expand.scrollHeight;
                shrink.scrollLeft = shrink.scrollWidth;
                shrink.scrollTop = shrink.scrollHeight;
                lastWidth = element.offsetWidth;
                lastHeight = element.offsetHeight;
            };

            reset();

            var changed = function() {
                if (element.resizedAttached) {
                    element.resizedAttached.call();
                }
            };

            var addEvent = function(el, name, cb) {
                if (el.attachEvent) {
                    el.attachEvent('on' + name, cb);
                } else {
                    el.addEventListener(name, cb);
                }
            };
            
            var onScroll = function() {
              if (element.offsetWidth != lastWidth || element.offsetHeight != lastHeight) {
                  changed();
              }
              reset();
            }

            addEvent(expand, 'scroll', onScroll);
            addEvent(shrink, 'scroll', onScroll);
        }

        var elementType = Object.prototype.toString.call(element);
        var isCollectionTyped = ('[object Array]' === elementType
            || ('[object NodeList]' === elementType)
            || ('[object HTMLCollection]' === elementType)
            || ('undefined' !== typeof jQuery && element instanceof jQuery) //jquery
            || ('undefined' !== typeof Elements && element instanceof Elements) //mootools
        );

        if (isCollectionTyped) {
            var i = 0, j = element.length;
            for (; i < j; i++) {
                attachResizeEvent(element[i], callback);
            }
        } else {
            attachResizeEvent(element, callback);
        }

        this.detach = function() {
            if (isCollectionTyped) {
                var i = 0, j = element.length;
                for (; i < j; i++) {
                    ResizeSensor.detach(element[i]);
                }
            } else {
                ResizeSensor.detach(element);
            }
        };
    };

    this.ResizeSensor.detach = function(element) {
        if (element.resizeSensor) {
            element.removeChild(element.resizeSensor);
            delete element.resizeSensor;
            delete element.resizedAttached;
        }
    };

})();
// fast gausian blur
// taken from: blog.ivank.net/fastest-gaussian-blur.html
// (and http://elynxsdk.free.fr/ext-docs/Blur/Fast_box_blur.pdf)
// modified by: Eric Mandel (2/16/2016):
//   -- to use floating point data arrays
//   -- to ignore NaN values by converting them to 0
var gaussBlur = (function(){

function gaussBlur (scl, tcl, w, h, r) {
    var bxs = boxesForGauss(r, 3);
    boxBlur (scl, tcl, w, h, (bxs[0]-1)/2);
    boxBlur (tcl, scl, w, h, (bxs[1]-1)/2);
    boxBlur (scl, tcl, w, h, (bxs[2]-1)/2);
}

function boxesForGauss(sigma, n)  // standard deviation, number of boxes
{
    var wIdeal = Math.sqrt((12*sigma*sigma/n)+1);  // Ideal averaging filter width 
    var wl = Math.floor(wIdeal);  if(wl%2==0) wl--;
    var wu = wl+2;
				
    var mIdeal = (12*sigma*sigma - n*wl*wl - 4*n*wl - 3*n)/(-4*wl - 4);
    var m = Math.round(mIdeal);
    // var sigmaActual = Math.sqrt( (m*wl*wl + (n-m)*wu*wu - n)/12 );
				
    var sizes = [];  for(var i=0; i<n; i++) sizes.push(i<m?wl:wu);
    return sizes;
}

function boxBlur (scl, tcl, w, h, r) {
    for(var i=0; i<scl.length; i++){
	if( scl[i] === scl[i] ){
	    tcl[i] = scl[i];
	} else {
	    tcl[i] = 0;
	}
    }
    boxBlurH(tcl, scl, w, h, r);
    boxBlurT(scl, tcl, w, h, r);
}

function boxBlurH (scl, tcl, w, h, r) {
    var iarr = 1 / (r+r+1);
    for(var i=0; i<h; i++) {
        var ti = i*w, li = ti, ri = ti+r;
        var fv = scl[ti], lv = scl[ti+w-1], val = (r+1)*fv;
        for(var j=0; j<r; j++) val += scl[ti+j];
        for(var j=0  ; j<=r ; j++) { val += scl[ri++] - fv       ;   tcl[ti++] = val*iarr; }
        for(var j=r+1; j<w-r; j++) { val += scl[ri++] - scl[li++];   tcl[ti++] = val*iarr; }
        for(var j=w-r; j<w  ; j++) { val += lv        - scl[li++];   tcl[ti++] = val*iarr; }
    }
}

function boxBlurT (scl, tcl, w, h, r) {
    var iarr = 1 / (r+r+1);
    for(var i=0; i<w; i++) {
        var ti = i, li = ti, ri = ti+r*w;
        var fv = scl[ti], lv = scl[ti+w*(h-1)], val = (r+1)*fv;
        for(var j=0; j<r; j++) val += scl[ti+j*w];
        for(var j=0  ; j<=r ; j++) { val += scl[ri] - fv     ;  tcl[ti] = val*iarr;  ri+=w; ti+=w; }
        for(var j=r+1; j<h-r; j++) { val += scl[ri] - scl[li];  tcl[ti] = val*iarr;  li+=w; ri+=w; ti+=w; }
        for(var j=h-r; j<h  ; j++) { val += lv      - scl[li];  tcl[ti] = val*iarr;  li+=w; ti+=w; }
    }
}

return gaussBlur;

}());


// Image Processing Filters adapted from:
//   https://code.msdn.microsoft.com/Image-Filters-in-Javascript-0853f6c1
// and:
//   https://github.com/kig/canvasfilters
// which look to be adapted from:
//   http://www.html5rocks.com/en/tutorials/canvas/imagefilters/

/*jslint plusplus: true, vars: true, white: true  */

/*global Float32Array */

var ImageFilters;
ImageFilters = (function(){
"use strict";

    function normalize(array){
	var i, sum;
	sum = array.reduce( function (a, b){ return a+b; } );
	for(i=0; i<array.length; ++i){
	    array[i] /= sum;
	}
    }
    
    function convolve(ctx, pixels, weights, opaque, norm){
	var i, x, y, sx, sy, scx, scy, dstOff, cx, cy, srcOff, wt, r, g, b, a;
	var side = Math.round(Math.sqrt(weights.length));
	var halfSide = Math.floor(side/2);
	var sw = pixels.width;
	var sh = pixels.height;
	var swh = sw * sh * 4;
	// pad output by the convolution matrix
	var w = sw;
	var h = sh;
	var dst = pixels.data;
	// src data is a copy of the input (which we then return in place)
	var src = ctx.createImageData(pixels.width, pixels.height);
	for(i=0; i<swh; i++){
	    src[i] = dst[i];
	}
	// weights array is required
	if( Object.prototype.toString.call(weights) !== '[object Array]' ) {
	    return pixels;
	}
	// default is opaque
	if( opaque === undefined ){
	    opaque = true;
	}
	var alphaFac = opaque ? 1 : 0;
	// default is not to normalize
	if( norm ){
	    normalize(weights);
	}
	// go through the destination image pixels
	for (y = 0; y < h; y++){
	    for (x = 0; x < w; x++){
		sy = y;
		sx = x;
		dstOff = (y*w+x)*4;
		// calculate the weighed sum of the source image pixels that
		// fall under the convolution matrix
		r = 0; g = 0; b = 0; a = 0;
		for (cy = 0; cy < side; cy++){
		    for (cx = 0; cx < side; cx++){
			// scy = sy + cy - halfSide;
			// scx = sx + cx - halfSide;
			// if (scy >= 0 && scy < sh && scx >= 0 && scx < sw){
			scy = Math.min(sh-1, Math.max(0, sy + cy - halfSide));
			scx = Math.min(sw-1, Math.max(0, sx + cx - halfSide));
			srcOff = (scy * sw + scx)*4;
			wt = weights[cy * side + cx];
			r += src[srcOff] * wt;
			g += src[srcOff+1] * wt;
			b += src[srcOff+2] * wt;
			a += src[srcOff+3] * wt;
			// }
		    }
		}
		dst[dstOff] = r;
		dst[dstOff+1] = g;
		dst[dstOff+2] = b;
		dst[dstOff+3] = a + alphaFac*(255-a);
	    }	
	}
	return pixels;
    }
    
    function convolveFloat32(ctx, pixels, weights, opaque){
	var x, y, sx, sy, scx, scy, dstOff, cx, cy, srcOff, wt, r, g, b, a;
        var side = Math.round(Math.sqrt(weights.length));
        var halfSide = Math.floor(side/2);
	
        var src = pixels.data;
        var sw = pixels.width;
        var sh = pixels.height;
	
        var w = sw;
        var h = sh;
        var output = {
            width: w, height: h, data: new Float32Array(w*h*4)
        };
        var dst = output.data;
        var alphaFac = opaque ? 1 : 0;
        for (y = 0; y < h; y++){
            for (x = 0; x < w; x++){
		sy = y;
		sx = x;
		dstOff = (y * w + x) * 4;
		r = 0; g = 0; b = 0; a = 0;
		for (cy = 0; cy < side; cy++){
		    for (cx = 0; cx < side; cx++){
			scy = Math.min(sh-1, Math.max(0, sy + cy - halfSide));
			scx = Math.min(sw-1, Math.max(0, sx + cx - halfSide));
			srcOff = (scy*sw + scx)*4;
			wt = weights[cy*side + cx];
			r += src[srcOff] * wt;
			g += src[srcOff+1] * wt;
			b += src[srcOff+2] * wt;
			a += src[srcOff+3] * wt;
		    }
		}
		dst[dstOff] = r;
		dst[dstOff+1] = g;
		dst[dstOff+2] = b;
		dst[dstOff+3] = a + alphaFac*(255-a);
            }
        }
        return output.data;
    }
    
    function luminance(ctx, imageData){
	var i, v;
	var data = imageData.data;
	for(i = 0; i < data.length; i += 4){
	    // CIE luminance for the RGB
	    // Human eye is bad at seeing red and blue, so de-emphasize them.
	    v = 0.2126*data[i] + 0.7152*data[i+1] + 0.0722*data[i+2];
	    data[i] = data[i+1] = data[i+2] = v;
	}
	return imageData;
    }
    
    function greyscale(ctx, imageData){
	var i, v;
	var data = imageData.data;
	for(i = 0; i < data.length; i += 4){
	    v = 0.299*data[i] + 0.587*data[i+1] + 0.114*data[i+2];
	    data[i] = data[i+1] = data[i+2] = v;
	}
	return imageData;
    }
    
    function greyscaleAvg(ctx, imageData){
	var i, v;
	var data = imageData.data;
	for(i = 0; i < data.length; i += 4){
	    v = (data[i] + data[i+1] + data[i+2])/3;
	    data[i] = data[i+1] = data[i+2] = v;
	}
	return imageData;
    }
    
    function duotone(ctx, imageData, which) {
	var i, r;
	var data = imageData.data;
	switch(which){
	case "r":
	    which = 0;
	    break;
	case "g":
	    which = 1;
	    break;
	case "b":
	    which = 2;
	    break;
	default:
	    which = 0;
	    break;
	}
	for(i = 0; i < data.length; i += 4) {
	    // average the other two colors for this pixel
	    r = (data[i] + data[i+1] + data[i+2] - data[i+which])/2;
	    data[i+which] = r;
	}
	return imageData;
    }

    function noise(ctx, imageData, lower, upper){
	var i, radius, mod;
	var data = imageData.data;
	if(arguments.length < 3){
	    lower = -30;
	    upper = 30;
	}
	radius = upper - lower;
	for(i = 0; i < data.length; i += 4){
	    mod = Math.floor((Math.random() * radius) - upper);
	    data[i] += mod;
	    data[i+1] += mod;
	    data[i+2] += mod;
	}
	return imageData;
    }
    
    function invert(ctx, imageData){
	var i;
	var data = imageData.data;
	for(i = 0; i < data.length; i += 4){
	    data[i] = 255 - data[i];
	    data[i+1] = 255 - data[i+1];
	    data[i+2] = 255 - data[i+2];
	}
	return imageData;
    }
    
    function pixelate(ctx, imageData, radius){
	var r, g, b, idx, odx, ody;
	var x, y, nx, ny, delta;
	var width = imageData.width;
	var height = imageData.height;
	var data = imageData.data;
	if(arguments.length < 3){
	    radius = 2;
	}
	delta = (2 * radius);
	for(y = radius; y < height - radius; y += delta){
	    for(x = radius; x < width - radius; x += delta){
		idx = ((width * y) + x) * 4;
		r = data[idx];
		g = data[idx + 1];
		b = data[idx + 2];
		for(ny = -radius; ny < radius; ++ny){
		    ody = (width*(y + ny));
		    for(nx = -radius; nx < radius; ++nx){
			odx = (ody + (x + nx)) * 4;
			data[odx] = r; 
			data[odx+1] = g;
			data[odx+2] = b; 
		    }
		}
	    }
	}
	return imageData;
    }
    
    function gamma(ctx, imageData, amount){
	var i;
	var data = imageData.data;
	if(arguments.length < 3){
	    amount = 0.2;
	}
	for(i = 0; i < data.length; i += 4){
	    data[i] = 255 * Math.pow(data[i] / 255, amount); 
	    data[i+1] = 255 * Math.pow(data[i+1] / 255, amount);
	    data[i+2] = 255 * Math.pow(data[i+2] / 255, amount);
	}
	return imageData;
    }
    
    function brighten(ctx, imageData, a){
	var i;
	var data = imageData.data;
	a = a || 10;
	for(i = 0; i < data.length; i += 4){
	    data[i] += a;
	    data[i+1] += a;
	    data[i+2] += a;
	}
	return imageData;
    }
    
    function sepia(ctx, imageData){
	var i, r, g, b;
	var data = imageData.data;
	for(i = 0; i < data.length; i += 4){
	    r = data[i];
	    g = data[i+1];
	    b = data[i+2];
	    data[i] = (r * 0.393) + (g * 0.769) + (b * 0.189);
	    data[i+1] = (r * 0.349) + (g * 0.686) + (b * 0.168);
	    data[i+2] = (r * 0.272) + (g * 0.534) + (b * 0.131);
	}
	return imageData;
    }
    
    function contrast(ctx, imageData, amount){
	var i;
	var data = imageData.data;
	if(arguments.length < 3){
	    amount = 2;
	}
	if(amount < -100){
	    amount = -100;
	} else if(amount > 100){
	    amount = 100;
	}
	for(i = 0; i < data.length; i += 4){
	    data[i] = ((((data[i] / 255) - 0.5) * amount) + 0.5) * 255;
	    data[i+1] = ((((data[i+1] / 255) - 0.5) * amount) + 0.5) * 255;
	    data[i+2] = ((((data[i+2] / 255) - 0.5) * amount) + 0.5) * 255;
	}
	return imageData;
    }
    
    function threshold(ctx, imageData, thresh, low, high){
	var i, r, g, b, val;
	var data = imageData.data;
	if(arguments.length < 3){
	    thresh = 10;
	    low = 0;
	    high = 255;
	} else if(arguments.length < 5){
	    low = 0;
	    high = 255;
	}
	for(i = 0; i < data.length-1; i += 4){
	    r = data[i];
	    g = data[i+1];
	    b = data[i+2];
	    val = (0.2126*r + 0.7152*g + 0.0722*b >= thresh) ? high : low;
	    data[i] = data[i+1] = data[i+2] = val;
	}
	return imageData;
    }

    function medianFilter(ctx, imageData){
	return convolve(ctx, imageData,
			[1,0,0,0,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,0,0,0,1],
			true, true);
    }
    
    function sobel(ctx, imageData, colorize){
	var i, v, h;
	var vertical, horizontal;
	var data = imageData.data;
	imageData = greyscaleAvg(ctx, imageData);
	horizontal = convolveFloat32(ctx, imageData, 
				     [ -1, 0, 1, -2, 0, 2, -1, 0, 1 ]);
	vertical   = convolveFloat32(ctx, imageData,
				     [ -1, -2, -1, 0, 0, 0, 1, 2, 1 ]);
	if(colorize){
	    for (i=0; i<data.length; i+=4){
		v = Math.abs(vertical[i]);
		h = Math.abs(horizontal[i]);
		data[i] = v;
		data[i+1] = h;
		data[i+2] = (v+h)/4;
	    }
	} else {
	    for (i=0; i<data.length; i+=4){
		v = Math.abs(vertical[i]);
		h = Math.abs(horizontal[i]);
		data[i] = v;
		data[i+1] = h;
		data[i+2] = (v+h)/2;
	    }
	    greyscale(ctx, imageData);
	}
	return imageData;
    }
    
    function gaussBlur5(ctx, imageData){
	return convolve(ctx, imageData, [ 
	    0.0030, 0.0133, 0.0219, 0.0133, 0.0030,
	    0.0133, 0.0596, 0.0983, 0.0596, 0.0133,
	    0.0219, 0.0983, 0.1621, 0.0983, 0.0219,
	    0.0133, 0.0596, 0.0983, 0.0596, 0.0133,
	    0.0030, 0.0133, 0.0219, 0.0133, 0.0030 ]);
    }
    
    function posterize(ctx, imageData, colors){
	var i, r, g, b;
	var levels = [];
	var level = 1;
	var data = imageData.data;
	if(arguments.length < 3){
	    colors = 40;
	}
	for(i = 0; i < 256; ++i){
	    if( i < (colors * level) ){
		levels[i] = colors * (level - 1);
	    } else {
		levels[i] = (colors * level);
		++level;
	    }
	}
	for(i = 0; i < data.length; i += 4){
	    r = data[i];
	    g = data[i+1];
	    b = data[i+2];
	    data[i] = levels[r];
	    data[i+1] = levels[g];
	    data[i+2] = levels[b];
	}
	return imageData;
    }

    function scatter(ctx, imageData, radius){
	var x, y, swap, nswaps, delta, total;
	var px1, py1, px2, py2;
	var width = imageData.width;
	var height = imageData.height;
	var data = imageData.data;
	var swapPixel = function (x1, y1, x2, y2){
	    var temp = [];
	    var w1 = ((width * y1) + x1) * 4;
	    var w2 = ((width * y2) + x2) * 4;
	    temp[0] = data[w1];
	    temp[1] = data[w1+1];
	    temp[2] = data[w1+2];
	    temp[3] = data[w1+3];
	    data[w1]   = data[w2];
	    data[w1+1] = data[w2+1];
	    data[w1+2] = data[w2+2];
	    data[w1+3] = data[w2+3];
	    data[w2]   = temp[0];
	    data[w2+1] = temp[1];
	    data[w2+2] = temp[2];
	    data[w2+3] = temp[3];
	};
	if(arguments.length < 3){
	    radius = 5;
	}
	delta = 2 * radius;
	total = (radius - 1) * radius;
	for(y = radius; y < height - radius; y += delta){
	    for(x = radius; x < width - radius; x += delta){
		swap = false;
		nswaps = 0;
		while(!swap){
		    px1 = Math.floor((Math.random() * delta) - radius);
		    py1 = Math.floor((Math.random() * delta) - radius);
		    px2 = Math.floor((Math.random() * delta) - radius);
		    py2 = Math.floor((Math.random() * delta) - radius);
		    swapPixel(px1 + x, py1 + y, px2 + x, py2 + y);
		    ++nswaps;
		    if(nswaps > total){
			swap = true;
		    }
		}
	    }
	}
	return imageData;
    }
    
    function solarize(ctx, imageData, threshold){
	var i, r, g, b, intensity;
	var data = imageData.data;
	if(arguments.length < 3){
	    threshold = 50;
	}
	for(i = 0; i < data.length; ++i){
	    r = data[i];
	    g = data[i+1];
	    b = data[i+2];
	    intensity = (r + g + b)/3.0;
	    if(intensity < threshold){
		data[i] = 255 - r;
		data[i+1] = 255 - g;
		data[i+2] = 255 - b;
	    }
	}
	return imageData;
    }
	
    function edgeDetect(ctx, imageData){
	return convolve(ctx, imageData, 
			 [ -1, -1, -1, -1, 8, -1, -1, -1, -1 ]);
    }
	
    function sharpen(ctx, imageData, amount){
	if(arguments.length < 3){
	    amount = 20;
	}
	return convolve(ctx, imageData,
			[ 0, -3,  0, -3, amount, -3, 0, -3, 0 ], 
			true, true);
    }
	
    function blur(ctx, imageData){
	return convolve(ctx, imageData,
			[ 1, 2, 1, 2, 1, 2, 1, 2, 1 ], 
			true, true);
    }
	
    function emboss(ctx, imageData, amount){
	if(arguments.length < 3){
	    amount = 95;
	}
	return convolve(ctx, imageData,
			 [ -18, -9, 9, -9, 100 - amount, 9, 0, 9, 18 ], 
			 true, true);
    }
	
    function lighten(ctx, imageData, amount){
	if(arguments.length < 3 || amount < 0){
	    amount = 12/9;
	}
	return convolve(ctx, imageData, [ 0, 0, 0, 0, amount, 0, 0, 0, 0 ]);
    }
	
    function darken(ctx, imageData, amount){
	if(arguments.length < 3 || amount > 1){
	    amount = 6/9;
	}
	return convolve(ctx, imageData, [ 0, 0, 0, 0, amount, 0, 0, 0, 0 ]);
    }
	
    return {
	convolve : convolve,
	luminance : luminance,
	greyscale : greyscale,
	greyscaleAvg : greyscaleAvg,
	brighten : brighten,
	noise : noise,
	duotone : duotone,
	invert : invert,
	pixelate : pixelate,
	sobel : sobel,
	medianFilter : medianFilter,
	sepia : sepia,
	contrast : contrast,
	threshold : threshold,
	gamma : gamma,
	gaussBlur5 : gaussBlur5,
	posterize : posterize,
	scatter : scatter,
	solarize : solarize,
	sharpen : sharpen,
	edgeDetect : edgeDetect,
	blur : blur,
	emboss : emboss,
	lighten : lighten,
	darken : darken
    };
}());
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function ($) {

  // Detect touch support
  $.support.touch = 'ontouchend' in document;

  // Ignore browsers without touch support
  if (!$.support.touch) {
    return;
  }

  var mouseProto = $.ui.mouse.prototype,
      _mouseInit = mouseProto._mouseInit,
      _mouseDestroy = mouseProto._mouseDestroy,
      touchHandled;

  /**
   * Simulate a mouse event based on a corresponding touch event
   * @param {Object} event A touch event
   * @param {String} simulatedType The corresponding mouse event
   */
  function simulateMouseEvent (event, simulatedType) {

    // Ignore multi-touch events
    if (event.originalEvent.touches.length > 1) {
      return;
    }

    event.preventDefault();

    var touch = event.originalEvent.changedTouches[0],
        simulatedEvent = document.createEvent('MouseEvents');
    
    // Initialize the simulated mouse event using the touch event's coordinates
    simulatedEvent.initMouseEvent(
      simulatedType,    // type
      true,             // bubbles                    
      true,             // cancelable                 
      window,           // view                       
      1,                // detail                     
      touch.screenX,    // screenX                    
      touch.screenY,    // screenY                    
      touch.clientX,    // clientX                    
      touch.clientY,    // clientY                    
      false,            // ctrlKey                    
      false,            // altKey                     
      false,            // shiftKey                   
      false,            // metaKey                    
      0,                // button                     
      null              // relatedTarget              
    );

    // Dispatch the simulated event to the target element
    event.target.dispatchEvent(simulatedEvent);
  }

  /**
   * Handle the jQuery UI widget's touchstart events
   * @param {Object} event The widget element's touchstart event
   */
  mouseProto._touchStart = function (event) {

    var self = this;

    // Ignore the event if another widget is already being handled
    if (touchHandled || !self._mouseCapture(event.originalEvent.changedTouches[0])) {
      return;
    }

    // Set the flag to prevent other widgets from inheriting the touch event
    touchHandled = true;

    // Track movement to determine if interaction was a click
    self._touchMoved = false;

    // Simulate the mouseover event
    simulateMouseEvent(event, 'mouseover');

    // Simulate the mousemove event
    simulateMouseEvent(event, 'mousemove');

    // Simulate the mousedown event
    simulateMouseEvent(event, 'mousedown');
  };

  /**
   * Handle the jQuery UI widget's touchmove events
   * @param {Object} event The document's touchmove event
   */
  mouseProto._touchMove = function (event) {

    // Ignore event if not handled
    if (!touchHandled) {
      return;
    }

    // Interaction was not a click
    this._touchMoved = true;

    // Simulate the mousemove event
    simulateMouseEvent(event, 'mousemove');
  };

  /**
   * Handle the jQuery UI widget's touchend events
   * @param {Object} event The document's touchend event
   */
  mouseProto._touchEnd = function (event) {

    // Ignore event if not handled
    if (!touchHandled) {
      return;
    }

    // Simulate the mouseup event
    simulateMouseEvent(event, 'mouseup');

    // Simulate the mouseout event
    simulateMouseEvent(event, 'mouseout');

    // If the touch interaction did not move, it should trigger a click
    if (!this._touchMoved) {

      // Simulate the click event
      simulateMouseEvent(event, 'click');
    }

    // Unset the flag to allow other widgets to inherit the touch event
    touchHandled = false;
  };

  /**
   * A duck punch of the $.ui.mouse _mouseInit method to support touch events.
   * This method extends the widget with bound touch event handlers that
   * translate touch events to mouse events and pass them to the widget's
   * original mouse event handling methods.
   */
  mouseProto._mouseInit = function () {
    
    var self = this;

    // Delegate the touch handlers to the widget's element
    self.element.bind({
      touchstart: $.proxy(self, '_touchStart'),
      touchmove: $.proxy(self, '_touchMove'),
      touchend: $.proxy(self, '_touchEnd')
    });

    // Call the original $.ui.mouse init method
    _mouseInit.call(self);
  };

  /**
   * Remove the touch event handlers
   */
  mouseProto._mouseDestroy = function () {
    
    var self = this;

    // Delegate the touch handlers to the widget's element
    self.element.unbind({
      touchstart: $.proxy(self, '_touchStart'),
      touchmove: $.proxy(self, '_touchMove'),
      touchend: $.proxy(self, '_touchEnd')
    });

    // Call the original $.ui.mouse destroy method
    _mouseDestroy.call(self);
  };

})(jQuery);
JS9Inline = {};
JS9Inline['images/close.gif'] = 'data:image/gif;base64,R0lGODlhEAAOAKIAAAAAAGNjY3t7e5ycnL29vcbGxt7e3v///yH5BAAAAAAALAAAAAAQAA4AAANCeLrccybKKUWAJOudLSYAsIVE4RkaWZDdhRZZyJYnx8JEna3yVsOsm24GEuVcHJzGhNwlWweBdEqlBgqDrHa7LSQAADs=';
JS9Inline['images/min.gif'] = 'data:image/gif;base64,R0lGODlhEAAOAPcAAAQCBISChNTSzERCRPz+/B+a/wCD/wB8/z8I7hz//wCA/wB8/wD/AAD/ABX/AAD/AAkF8AD/AACAeQB8AAADAgIoAABCAAAAAAAQ9AMgAAAWAAAAAKDWKeXyAhLVAAB3AOk/3OVHAoFIAHwAAABmrAAGAgESAAAAAFYB9AAAAAAAAAAAAKgAKeQAAhIAAAAAAG4W3AAKAgABAAADAMgBrOUAAhIAAAAAABgABu4AAZAAAHwAAHAAFQUAApEAAHwAAP/kyv8BAv8AAP8AAG1QmgUAApEAAHwAAIUA8ecAAIEAAHwAAAAAKQAAAhUAAAAAAGCArAMf5wAAEgAAALAj24kAvyAA1AAAd7hs8GF4ABX3eQC0AABo8QCFAACAKQC/An5QuABjBACMBsDhAAAIMAABgAAARQAAAP9/AP8CAP8gAP8BAP8Alv8An//8Of8FdgA6IAA8RwA6FQB2AAAgAAAAAAAAAAAAAABmqAAG5xUSEgAAAHwSYIYAngAAgAACfNgAEOUAIBIAFgAAAJ8AAOsAAIEAAHwAAErkB+MBAIEAAHwAAEBQAOUAAE8AAAAAALggAGEAIAEAFgAAAGxmAAAGAAASAAAAABR8AOWGABIAAAAAADTwAADmAAASAMAAAPiFAPcrABKDAAB8ABgAaO4AnpAAgHwAfHAA/wUA/5EA/3wA//8AYP8Anv8AgP8AfG0AEQUBAJEAAHwAAErpEfQrAICDAHx8AAAUXADn8BUSEgAAAADE/wAr/wCD/wB8/7gAAGEAABUAAAAAAAAQHAEg6AAWEgAAAAA0DgBkzwCDSwB8AFf//PT/54D/Enz/AAAYW+fo4hISTgAAALhtMGFk6BWDEgB8ALi4NOnvZBJOgwAAfAAQrQAZ6ABPEgAAAOQA7QEB/wAA/wAAfxAUnCDn6BYSEgAAAFAAEAABIAAAFgAAAA6INABkZACDgwB8fO4BEOYAIBIAFgAAAAEAfAAAhgAAAAAAAABwAObnABISAAAAAKC/fubPVRLVRwB3ACH5BAAAAAAALAAAAAAQAA4ARwhFAAkIHEiw4AACAhIqXKgwwEGGEBM6JBCgosWLFx9GZDhxI0eNAgCIHLmwo8eGIE+aPClgpUqQI0miRMiy5YCbOHPqvBkQADs=';
JS9Inline['images/resize.gif'] = 'data:image/gif;base64,R0lGODlhDQANAPcAAISChNTSzPz+/AB8AGlwyB+ZWgCAeQB8AGL/GBz/5wD/EgD/AABtAACZABWAAAB8AAnaAACi6AA+EgB3AACYZwJRBAAa1wAAdwC+VAOU5wDUEgB3AKAtmOW01RLU1AB3d+nExOUDA4FAQHwAAAAghAAAAAEAAAAAAFbuAAAEAAAgAAAAAKgSxOQAARIAtgACAW4AAQAAAAAAAAAAAMierOUC5xIAEgAAABgB9u4AGpAA13wAWnDExAUDA5FAQHwAAP8whP+AAP9FAP8AAG3uAAUEAJEgAHwAAIUAxOcAAYEAtnwAAQAAxAAAAxUAQAAAAGBQMAMWgAAARQAAABABAAIAAB4AAAAAALjQbWEHRRUARQAAAAAAkAAAHAAATwAAAH5IcAAyHAAVT8AAAAAApAAA7AAAEgAAAP+kXP/m8v8SEv8AAP+YMP/VgP/URf93AADEIAAD8gBAEgAAAAAgAAAAAAAAAAAAAADuMAAEgBUgRQAAANYCYB4AngAAgAAAfNj8EOXm/xISFQAAAJ/8AOvmAIESAHwAAEqCB+PPAIHVAHx3AEDkAOXmAE8SAAAAALjEAGEB8AEAFQAAAGwFAAAAAAAAAAAAABTWAOUeABIAAAAAADTwAADmAAASAMAAAPiFAPcrABKDAAB8ABgAaO4AnpAAgHwAfHAA/wUA/5EA/3wA//8AYP8Anv8AgP8AfG0AFAUBAJEAAHwAAErpFPQrAICDAHx8AAAUXADn8BUSEgAAAADE/wAr/wCD/wB8/7gAAGEAABUAAAAAAAAQHAH/6AAVEgAAAAA0DgBkzwCDSwB8AFf//PT/54D/Enz/AAAYW+fo4hISTgAAALhtMGFk6BWDEgB8AJi4NFHvZBpOgwAAfAAQsOcZ6BJPEgAAAAAA6ucB/xIA/wAAfwAUnADn6AASEgAAAAEAEAAB/wAAFQAAABCINOdkZBKDgwB8fP8BEP8A//8AFf8AAPgA1uUAHhIAAAAAAAEzAAC5AADUAAB3AECYfvA6VRIzRwAAACH5BAEAAAEALAAAAAANAA0ARwg4AAMIHEhQoACCAgAACJBw4cGCBhUyhEixYsSFBRsylLjRoUSNFjdaBAlRY8KMHzle7CjSZMqFAQEAOw==';
JS9Inline['images/restore.gif'] = 'data:image/gif;base64,R0lGODlhEAAOAKIAAAAAAGNjY3t7e5ycnL29vcbGxt7e3v///yH5BAAAAAAALAAAAAAQAA4AAANCeLrccybKKUWAJIPNM7GYxm1ZARpEQQDe6p3ryLIpLM/vhdIibeouDy9jKwVVH+CtlQwxjU2BdEqlBgqDrHa7LSQAADs=';
JS9Inline['images/toolbar/dax_images/annulus.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAA0VJREFUOBGtVUsotkEUPp9bLgu5EyG3RJFLipCQ+8LCztpOylaKbBQbFCmyQArJbUmiLFm5ZKPYIXKPROef5/m/dz5fvv6N/9TMnDnnOc/Me+bMvC7xiHrUX2kuRLMzoxr5FZsT7HL95UX/T9KDgwPZ2tqS0NBQeXl5kaqqKiktLRU/Pz+H68foJicxyK18fHzo+Pi45uTkaEpKiubm5mpycrJGR0drcHCwpqen6/DwsJqFbMx3BZvFat9tend3p5GRkXBoZWUlSfLz87WhoUHr6uo4dwcSMz097RWPidvvIX59fdWoqCiNi4vTpqYmzcvL05mZGb2+vrbBV1dXOjU1pRkZGVpUVESSyclJ6/dJPDY2RiB2l5CQoDs7OwwA8cLCApuzyPb2NrEm3xyPj48tudeOPz8/FZ9cXV2tAO/u7hI4MjLCwO+fDxsECxcUFGhqaqp2dnbShs6L+PDwkAdVW1urbW1tBC0vLxOEwIGBATboCFxaWiKmtbWVG0lKStKnpyfavIgHBwcJKCws1LW1NQLKyspIsrKywjk66AiED7K6uqrZ2dk8j/X1ddrgt8WIOvX39xdTamIO0PhETk9PJTY2VpqbmzlHBx22k5MT2kwJytfXlwQFBcnDw4PFWeK3tzcCQP78/ExAWlqa3NzcyN7eng2ADpupZdqADQsLE+dSOEBLbGpWTClJTEyMzM7O0t/V1cWxu7tbJiYm2KBDHN/c3BxjTA4kIiKCPqdjXsyOmauamhotLy9XHCakr6+POTVgO/b399MHDC4RyhM17fPwgBwaGmKwc8PMO0GCs7MzHR0dZYMOASmufGNjI0uup6eHdnTuTXhu3v39PY2ZmZlaX1/PgI2NDcXXOPL+/q6bm5taUlJCDDYBoqOjIwfC+Y/X7fLyUkytGqzwJTs/P5f4+HgxV5gHdHFxIbe3t5KVlcUq2N/fl/n5eWlvb2cMOucg7UqOYgK1t7eXKwcGBmpxcbFWVFSw4Uuc+sZ7sbi46ITZ0XAj1pMK63EreOmQ95aWFi6SmJioISEh2tHRoWaXiufVl4DzRyqwki95fHyUgIAAMW+KhIeH+4JYG1IBYggW/qv9snfn11B75P8wu/+jfwBHNh7VFKzvswAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/bin_minus.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAHNJREFUOBFjZECA/wgmRSxGkG4wAaT/AwFFpsE0MzJCzAWRVDMU2XAmGIfa9KjB8BBlgbGgsQnjYtCkppqhF8bwoMDwOxYBUoKLZkFBkotJiUCauXjoGQwPY1LCD0uCwRAaekFBMxfTtGqCBTx1Kj1oPQoAxO4aKZojfrAAAAAASUVORK5CYII=';
JS9Inline['images/toolbar/dax_images/bin_one.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAcElEQVQ4je2VQQqAMAwEd6X///J6kNRYxKYlgqJzKBTCENiQEDtCDqwPAEk5XnLzMlPq5Uuq0fEhMUkL6pTiC6/wAfdqgYmOI9IpsSRExvN54f3iMKVfcqQdN/u3k1LF2RtuuONoA+8L79bTZKQe0xVltSAyVTWNowAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/bin_plus.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAZ0lEQVQ4je2VwQqAMAxDE/H/f7ketDWIYx4ycOg7jDHGo6TQEicBD6wDQER4vOTupVOq8sVqFH5xsebl6GaTa4Pzf6vxE0fxhLu49E1jeUfFWtHHm6f0BleJ3RNuvoyHiYeupsS6TDf27CMrUMHB2wAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/box.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAdBJREFUOBG1lUuuAUEUhk/TXgkSESJWYGLEBpiyACLRe7AWsQRTRizDGkyMveIV1O3/uKe622253dxbSamj+j/ff5zuLgY5QznhR5GBbP6wV2WPj2iSbBgOV83nc9VoNFS1WgU99Oz3+yhMDzBMOMFlu91St9sly7Jos9nQ7Xaj+/2Oy54BbTQapUQiwXM8HtNyuaThcEiXy4UGg4HWq9lsxlUeDgftGjRoNpuqUqmoTqejWq0Wp9nkR8VS2fl8plQqpR2DBOv1mrLZLJVKJcpkMjolgsi24Q0x0FcDBKfTidsGaSTCOM7ygMUgAE9L0FfkofffT4QDFtU74Ov1KumvwVoRMvAryGlKSNhv8j8Bu3srhh6wn0CEr1bTND29FR2DBSirXAyyJpNJfhOftfxKP2+G+Z5OpykWi/2o2lMx3MOOQqFAyHO/HGDoQ6hcLtN0OqVcLkf7/Z4fer/HCO0CJB6PE/qLGFVjuPUM3u12tFqtqNfrsSDoB4qp1+tsAqi7apzK9p5i8GKxoHa7TbVajXuG49HvhgKAvqJiHK+oPp/P0/F4pMlkwjn65sG9WCzSaDTidsDMD+reQ4wJrUz5tf/21yRgGD3OTrF8f2XmF9vR8PqhJ8SqAAAAAElFTkSuQmCC';
JS9Inline['images/toolbar/dax_images/circle.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAltJREFUOBG1VbtqckEQPio2ERFDiKWCQgQvURFUJEXA97D0DfQJvCBICrGQpEoaGxGt7NTKSkHJC6i1F7wSkEzOTNyJBzWnyP8PeGZ25/u+mT1nd9VIPwY/4Z8iDbLpIXuQ7U9qgqzRfOvi81fRXq8nNZtN6erqSlqtVlIsFpMikYh0EBB6Ci9yKKyw/X4PxWIRdDodLuPsL5fLwWazUfDE4MChjsUczGYzFrLb7Rw7HA6wWq08FgXL5TJzRXAivN1umRgIBCguFAowHA4FBwaDAeTzecahSKlU4jwGJ8JPT080KURrtZqCcDyoVquENZlM5N/f3zmtEP78/ASLxQL39/cEbDQaDLwUYOGDCCQSCYYphPv9PoFcLhf4/X4GqQV3d3dwc3ND3PV6TXCFcDqdBgTh5MvLi5oe55+fn4lzfX0N9XqdhbWyEBnuU71eT7HZbD7MqjtZkEBGo1Gaz+dMYOHdbifJ+5cS8v5kgFogsFqt9uTQUPvdbpeW5Ha7IRwO81LVAsR6PB6w2WwgPrjcDGp9H5CPjw+QXwX4fD4q0G631TSh0+kQFsXx8Jz9eKiSzWYJ6PV6ybdarYviWBibwj1/e3sLyWSSsYqOcXaxWBAYE7g89K+vrzAej5k0mUzg7e2NcogJhUIUXzwggjkajVj8+K6IRqPw8PDAOfmGA6fTSWMsfmwnHYvkdDqFVCrFIgaDgT4OvsdgMAjHBSuViqCxvygsEHjTZTIZeHx85CJIisfj9Drwej1niFG96GUQ2XK5pAOEex0Pw2+GF/1//WsSxXG5/8Ko2S9lWG7BgiF1AQAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/ellipse.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAd5JREFUOBHVVc/LcUEUfnxsSJGF8mOrSBYSe3uSkqWNHXbKv2Ajf4FSVkpRVjb2yoolCxaSnWSD4rxzxjXve7vf+/3o2rxTM3PmznOeczrnuY0Fn4M+TVOWhb3lInYSwxTby9liefLy+jbSr+S/Xod37z+P2Pa3EpxOJ1itVgW73+9wuVzq/J1hIH48HlitVhgMBthsNuh2uwbffD6PaDSKYrGISCQCm81AI+WmVHE4HFCpVDAajRRZoVBAMBjE7XYDB3U4HGi32+qejfF4jGw2q75pkpNyo+PxyEKWU4BosVjQ+XzmoIZxuVwkvtPpKJ9araZwGs+TuNVqSVCj0VCAfzFE2SiVSknfZrMpXZjYtNy4sTwzmQzm8zlnqUoio3wthWgOLZdLEor4bdLX61Xe9Xo9isVilE6nKZfLUalUUhnrfmluXrVaxXA4VFHL5TL8fj8EGbgpdrsdk8kEs9kMXq8X4XBY3jmdTohAEqtr3is10Xlar9fEtdaaYNjdbjcFAgHyeDwk5Eb1ep222+2LQuJ1Gas0NWO/32M6nWK326Hf78Pn88msOftkMolEIoFQKIR4PK5z5Yz/SKxD/8eBiU2r4rt4P4+Ya8yDO/q0TK6a1J4PlMb1HmbtHf0Agx5jcd8nPeAAAAAASUVORK5CYII=';
JS9Inline['images/toolbar/dax_images/erase.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAhBJREFUOBGtlEmLIkEQhV+5ixuiIKInD568i8vRv67iyaOgJ3EBV9xxd+oFZnXaWtPVzASklUvEly8iMzXwZY+v7j/1DEa7noiHaXDaarWara/JE4Eedgh0aolEAmyBQADH4/EtjCzDMB6U7RhsBnwEfZ+knyrF97W3sQ7VM9Tn9SBHYD1YQflVfa7rPtzgR7AeoEC6Mn1O9+Xh2RodC4UC4vE4FouFrR/h9M3lcpaPLZiOxWIR6XQaHo8HwWAQfr8fp9PJClYd+iaTSVlXcx/BdCyVSshmswiFQqKG8HK5LP1P6a/Xa9zvd8XF23UjlIBMJoNoNAqv1yuwy+WC3W6H2WyGfr+PXq8n8xbJ7KgNyXgBc6JarUr6hPp8PrjdbomlmvP5jMPhgO12i9Vqhfl8jk6nI+sKygE5Viny+TwqlQpSqRQikYgFpRPN5XKJetb6drvJq2MGNB0qE+aPdd1isZjUU6kkSFJ6glWAUk61g8HgI5S+FpjF3+/3ku71epWDoBLVqJKloMrxeIx2u20LJdgqRbfbFYWsMdWyUT2/SuVms8FwOESr1for9AXMAdUxfdaaFg6H5Q4zAyodjUZoNps/QhlrKeaApuBUzoOkapZgMpmg0Wg4gpLzBtbhVM4HwtrX63XHUDKsw+NANyqfTqdYLpfy5fg3pv65zbjfBdpt8rz3L5f0/5DNh8dN/wBgJjws35ZigAAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/incexl.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAACZUlEQVQ4EbVVP49hURS/2EIyKr6AXhQzpUw3UUlGoZMoVD6CUYloFRPVCIkvIDQoZGhQUIhCQkSoJhFCSEQhxt37O/Pu9d6+LWbX7knuPf9/57g557GwK/GreJNkQTZdgnNBN6HJZIvlC9eqB61Wq0xzyLhvceTIPK1B6hLdEi2XSxik+m2OHH2epl+B9AGNRoOCpe3p6UkVkjZwUCAQMAHjKUx0uVzY3d2dsj8/P7Nms8lGoxELhUJkz2azxNfrNUP870h10u12TZWn0ylfrVY8HA7zdrvN3W43F6AqB0IsFjPloZAKkgGTyYQvFgsKLhaLvFarkdxqtXgikSB5MBjw9/d3ygWGHgfyD3EpyuVyJHc6HebxeEgej8dMFCHZ4XCwVCrFdrsde3h4YJFIhHm9XpW/2WyYy+UiHUOHqsr5LwSMnuq4UCgwMW7MbrfTsdlsDAdBKPz5+clOpxPVhQyC32q1kv/j44PF43HmdDrJh8vwTtD/9uTzeT3WFzAsoiN+Pp/piK4oSH/BJo/eDhlzL0lr7AosHX/K6/W6aSoEuBF4u90acPf7PXV5PB4Ndvw6Sb9+CkwdawaqjgLJZNLw3vf39xwgYhOVvVwuE76+QQPw6+urCoZDrLBKgI7FAGFJoPf7fS4mhotpUnEkiMsArCnSp7hYGgrEO4IqlQrpKkATkC/JAIzvAQzo3O/3U8dYWVkQHF3OZjOyRaNRHgwG+dvbG5/P52QbDoeEbQCGpdfrUYAcnZeXF+7z+Xg6nSZ7JpOhxMPhQPrj4yPppVKJdLHupAP4v/01SWBRhDYO/FYizJ/qZl5jMo9ZwQAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/lin.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAdUlEQVQ4jbXVuxKAIAxE0Y3j//9yLBRkQCCP9RYpz2TSRPCm4CR1AFBVjityu8JEW/xgQc+mtTTcgxS4RftzhuEVGoZ3aAi2oG7YirpgD2qGvagJjqBbOIou4Qw6hbPoJ8xAB5iFDjALBYCTDZZ+fU0l6jO9AJCBOywi1jRaAAAAAElFTkSuQmCC';
JS9Inline['images/toolbar/dax_images/log.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAeklEQVQ4jeXVwRKAIAgE0KXp/3+ZDoWVlhBuXdqDxzcOAgr2KDiRcgBQVY4rsrrCRI/4xIK2m5bMGSSSMOyBdTld+AqMvMktnAW7cI1muqZbipE2bNot+uqPYcvo0FAGxIVZZWhgC2N3fFOKf8OnyWMu/Fe/Jgv1M10A+Y0mOIrZ25cAAAAASUVORK5CYII=';
JS9Inline['images/toolbar/dax_images/mag.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAhUlEQVQ4je3VSw6AMAgE0Bnj/a+MC3+1QCsWExfOwo3po6lYiDOCnPB4ABCRHJdcXUbQbZFKvZ4k5hGwfl8WuAV7O2sVnnqYtRuvYFmgCz/ND38IbvVyuI9rrPejlHHhCGL1uAlbaPSSUmecgSo4C1VwFtqERy/+y8fLmiLAy6NpT+owXQD/yjU2FZ2yfgAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/mag_minus.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAj0lEQVQ4jc2VzRKAIAiEd5ve/5XpkJUJ/pA40x68OHzLAArxSBAj3gcAEYnhkieXHmgKUirjSWKfAZb3ucEQuJZZy3jrwaxsaoa5QRf8Va5SjDYP+EvGnllflvEwuDXL7jkuYb2HkqsK9kCs2ptgC+r9pFSNI6AKHAVV4ChoEzz78b+aF7VFgMWr6VLoMj0A4Ck7NzuePjoAAAAASUVORK5CYII=';
JS9Inline['images/toolbar/dax_images/mag_one.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAkUlEQVQ4jd3VQRKAIAgFUH7T/a9Mi6IUCWGkTX/RQscnk4yCnjDVBPeHiJi5xgVOFxn0WjRErwdA+wqo59sNQvBbZd7G2wyzqgHQYTLXjk3hSHVW0nD0oNNwND+GdRfoLpFxidvHugOiHeHCGcTqFBO20OwlNfzjCnSAq9ABrkJdePXi7w6v6hUh+vhpkpQ+pgfAhD42e0WmxgAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/mag_plus.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAmElEQVQ4jc2VwRKAIAhE2ab//2U6FKWIKEkz7cGDDk9cGAE9YsoR7oWImDmHC5xcRKBXUCMdD4D2FaA+Ly+YAvcy8y7eRjArGwAVTM7KvSH4rUJW6CdbrxH9I2Ptpdemn2U8DdZdoLtE9kWuFb1izagLjkAsr02wBY1+Uo3HGdAGnAVtwFlQF7z68VfFy5oiRB+PJlHqMD0AdL1EOgvj9K4AAAAASUVORK5CYII=';
JS9Inline['images/toolbar/dax_images/open.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAaElEQVQ4je2VsQ6AMAgFj8b//2RxMFYdaBt5deoNHY8XGsC4cTRYfQB313jNTq8ppU/5NlC9SRSqZKQtmokhTtQrHCbOUgB28edVcbafsViund3jJV7iF91d8XV4/k+cXf5TT9OF9Jge5XkaMmpYL80AAAAASUVORK5CYII=';
JS9Inline['images/toolbar/dax_images/pan.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAaklEQVQ4je2VQQ7AIAgEdxv//2V6UGhjGpVADybOwQPR0SAB4kGQA20BICI5XrJ6qdIWCKOu0gcjvB93hUwDjtgo8y2VWdX0H78s/jo8unS/HB+x4aoKT6NaFnsb1OY5zmr2wM+jSUkdpjcwVB02iqQEaQAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/poly.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAiVJREFUOBG1lb/LeVEcx899egYjGWyUUmaTgaySIn+BUpRsBgtlk2KQSUYk8iMGGWQzEFGSMsmAyGSSdL7384nL/d5zv99Hz/N8yj2f+/m83y/Huc65HHkGfabfyjhw44UfKR/foj3MHMcBjHy+C71cLmS73RKVSkWGwyGpVqtEo9EQAI5GI+J2uzH/eHwTaxwMBmQ8HhOHw4FinU5HFAoF0ev1CLbb7UStVhOlUkkWiwXp9XokGAwKKFgGSez3e1gb/Hi9XhqLxajP56P8LFF7Pp8Fz+FwQF2pVMLa3YfrK4geSTQaRfHjXm6cz+eoy2azguSfYGjabDZBzEpmsxlC0+m0qC0Lvt1uaOj3+yLD6w2/9qhJJBKvZcxlwY1GA00Sx70wmUywn0wmmRJZsNPppFarlWmChwfGQCDA7ENRFgyNYrHINPJ/JzTWajVmXxbc6XTQuNlsZI2VSgU17XabqWHOGJYBGv+Ler2OOqPRKJEywVBMpVISMavQ7XYRbjAYRG0JeLVaoRB23TsBILPZTE+nE9ok4Ewm86VlADds6UKhQC0WC3oA5vf72WBoRiIRbP594U81msvlaDgcFkCgd7lcNJ/P09eHLZrx8XhEw3q9Rub1eqVwqIRCIREITOVymcLOkwsReLlcIiAej1OTySSCwU6cTqdyHEkdwHDQY7RaLRx3ux3xeDyk2WwSrVZ7774//MqriZ8G/z55Bvz8nwhk/gFmYEMZs2bI8QAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/pow.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAdUlEQVQ4je3VzQ6AIAwD4Nb4/q88DzJMDD9u1JP2wI0vDYRBXDFowroAMDONS54uFWjB4A5JbGv9+vkgfD9fGdzLD2tgvzg57Gm93DQ8arsEe3pzJgXP2qZhz2gq7hHoSdMmHNk4m+GhxpEP4dWvqRaSyKXsAYwlIy0KAJCPAAAAAElFTkSuQmCC';
JS9Inline['images/toolbar/dax_images/smooth.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAcxJREFUOBG1VT3PAUEQnnudqLT+g+hEoaZUSdQaoVAo1EoVnR9w4Q+IqHRKnUYiohLdJUokvrLvzjJj73YveROvSe7mma9nd2fncOAt4g0/Qg5Wq5fUQspHbFTsOE9efP8bqU7+Q0aU3u/3gLugZ7VaRaUaftyxVQ6HA/bHeHa7nTWfnK8a1QrysT6dTiKXyzFpo9FgjIWe53FuGEQS3243Ua/Xmajf7wvf91X9cDhk/3Q6DXMqG4mtPXZdF5LJpIw/pVwuQyqVUsblciE3tNttWC6XbIeBsWqv1+NddTodsV6vAzndbpfji8UiEENDLmDfcSKR4MUrlQqk02m2Edzvd7bxdDaxtiIej3Pu4/FgTEDeAUGIxWKMdWAQTyYTaDabnGMj1vuczWZhu91yPgGDWD8aXo6NWE4J1Go14gC9hpwGsX40nIZ8Pk+5AX29XtnWa8hpEOur672kAtLn85kgtFotOB6PbBPgcdlsNjxGMihmsxnHwqBQKARy8UslwVokV/bL4OTxeEx5kTpcQ+Qvv0k8Go0iycIBnTyTyagw+ni6pQdKpRIUi0WoVqsy9jfBusFgAPP5HPT5/9oP/Vf/mujM6ibJ+ECrzf4CoCsJ1NPuJS8AAAAASUVORK5CYII=';
JS9Inline['images/toolbar/dax_images/srcbkg.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAACPElEQVQ4Ea1VzeppURRfbjcfJSMZKRMZeAAvYWpkbCwlJryAgYmJBzAwouQNlAkjyVeRb4lSRBlg372Ws7e9Of27XXfV2Xut3/qt39rOWcexwMvYy/3Ks2A1LXxn3L5SE8UWy1P317toq9UCTBoE4qOfy+UIu9/vhI1Gow8eJowD0inxtGSHwwEB1mg0aL9cLoQjJq5ut8sEbzweS9yQUPl0GyQuBHC/Xq+SGIvFPjgCqNfrwpV8vBWaJRIJGA6HhNntdpmbzWbSf3esVus7RLHstlwu5U/jGVYqleQJMFYNY/UyyekFSNhutyqP7XY7Np/PNQyDyWTCzufzB44NcTYwAYvFAh6PB7jdbnA6neSv12vweDxgs9k4DWCz2cDxeMQCcLlc4PV6gT8HmE6ncLvdwOFwgN/vf06LEFbHi1T+ccGmqPVb1CPwP02bilqtZqrd6XSA33fT3E8gPywdl54yBcqSz+fl01fgH13ejH4+kfirSgL9fp/t93utEImBQIAwfnrW6/Vk/nQ6MXVMMaEJK4BIyGIkptNpiWOMls1mNYxPFeGmwpThCyZxftEMIu2r1YowgReLRYpFM4Hz+PWCvPvtdlsWYQ6vaDRKGC6hUIiwcDhMu0gYXF24UqmwSCTyQYzH46xarRKOO5poVigUhKaK68KC3Gw2iVQul6VAMpmUPn/TpC9qBoOBubDW9i8CFBSGfjAYpBD9rz5NqVQKfD4f/W/wkYNMJkOvM1eX3zze5DnU6HxpdNg/mvUqocfy/04AAAAASUVORK5CYII=';
JS9Inline['images/toolbar/dax_images/stats.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAiElEQVQ4jcWVQQ6AMAgEWeP/v4wHRROECoXGOXgxGdctbUEPTD3gfhARM/d4gdMLLb1epNGOrZbPZ7e+LKkj9Xh/aCYW4WwtrjiSaFocXVBmNisbJq6M4GcVs30vG7f/xO1Tocku5FCc2YEpcQQAZl2uuJLWFVfOCOF1umnp8qnIsvRqElov0wOPRzI0EbAbcgAAAABJRU5ErkJggg==';
JS9Inline['images/toolbar/dax_images/text.png'] = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAnNJREFUOBGtlT9LelEYx7+aipboYCEYQQkSqJMvIXC3VqMlaOkVNIjY0Jtwc3Fql0AcdXAQRA0cGlIaaiiL7J/6u98nz/VejZRfPnD+cs7nfO9znudcCyY2mnT/1LNwt1RaO9LsTzS12WL55rJeGtQIt6mBsa3X6/j6+oLD4QAVGL9mrEjmPj8/ZU04HDZu1/tUrFun06FPTMVms43cbvdobW3NNK/WXV1djdrtts7g/IziQqEgJ8bjcQQCATidTvR6PWhwUelyubCzs4NKpYL7+3tQ9eXlpYyr1aqsI8AqFEOVz+dlFIvF4Pf75VPpEhZCV1ZW8Pj4iIODAySTSRA2HA4RjUZRKpV0kgncarVQLBZxfHyM1dVV1Go1JBIJBINB9Pt9Xc3d3R08Hg9OT09lbTabxdvbG8rl8s/gra0tnJ2dYXt7G+l0Gvv7+9jb28Pr66tspDIW2svLi7SZTAapVAqhUEj2PD09ybzJx9oF4eLiAg8PD+K7w8NDWfT8/IyPjw+BajeE9/d3/YDNzU2cn5+j0WiIIK/XOwuWGa1aX18HlSjjBSkYwQxFFqNFIhGwKDP5WE1OtwQTRCiN7lD96bVqvBB4MBjMgJYCZrapjKMiq3W+nvkrxiDGr0pvqjUepD7f2C4EZvbZ7XaBqUSZBzaFm/FE1W82m7i5uQHDiJfIxPD5fNJXa35qf1VMVQwhJgNdQd/yfeDrxwzlodNhpw75VfHJyQm63a5AmCBMINrt7S02Njbk0N3dXVxfXyue3i700OdyOVHMF47GOKZb+OrRNUdHRzqQHX4pwTTtor+D/3v4//X4UjX0xJZDHv9H/wHHHTR7bR1QiQAAAABJRU5ErkJggg==';
var $jscomp={scope:{},findInternal:function(b,r,e){b instanceof String&&(b=String(b));for(var B=b.length,v=0;v<B;v++){var ca=b[v];if(r.call(e,ca,v,b))return{i:v,v:ca}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,r,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[r]=e.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,r,e,B){if(r){e=$jscomp.global;b=b.split(".");for(B=0;B<b.length-1;B++){var v=b[B];v in e||(e[v]={});e=e[v]}b=b[b.length-1];B=e[b];r=r(B);r!=B&&null!=r&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:r})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,e){return $jscomp.findInternal(this,b,e).v}},"es6-impl","es3");
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports&&"object"==typeof module?module.exports=b(require("jquery")):b(jQuery)})(function(b,r){function e(t,k,q,I){for(var F=[],ia=0;ia<t.length;ia++){var l=t[ia];if(l){var x=tinycolor(l),e=.5>x.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",e=e+(tinycolor.equals(k,l)?" sp-thumb-active":""),l=x.toString(I.preferredFormat||"rgb"),r=Ga?"background-color:"+x.toRgbString():"filter:"+x.toFilter();
F.push('<span title="'+l+'" data-color="'+x.toRgbString()+'" class="'+e+'"><span class="sp-thumb-inner" style="'+r+';" /></span>')}else F.push(b("<div />").append(b('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",I.noColorSelectedText)).html())}return"<div class='sp-cf "+q+"'>"+F.join("")+"</div>"}function B(t,k){var q=b.extend({},da,t);q.callbacks={move:J(q.move,k),change:J(q.change,k),show:J(q.show,k),hide:J(q.hide,k),beforeShow:J(q.beforeShow,
k)};return q}function v(t,k){function q(){g.showPaletteOnly&&(g.showPalette=!0);Aa.text(g.showPaletteOnly?g.togglePaletteMoreText:g.togglePaletteLessText);if(g.palette){qa=g.palette.slice(0);E=b.isArray(qa[0])?qa:[qa];ra={};for(var a=0;a<E.length;a++)for(var c=0;c<E[a].length;c++){var d=tinycolor(E[a][c]).toRgbString();ra[d]=!0}}p.toggleClass("sp-flat",L);p.toggleClass("sp-input-disabled",!g.showInput);p.toggleClass("sp-alpha-enabled",g.showAlpha);p.toggleClass("sp-clear-enabled",Z);p.toggleClass("sp-buttons-disabled",
!g.showButtons);p.toggleClass("sp-palette-buttons-disabled",!g.togglePaletteOnly);p.toggleClass("sp-palette-disabled",!g.showPalette);p.toggleClass("sp-palette-only",g.showPaletteOnly);p.toggleClass("sp-initial-disabled",!g.showInitial);p.addClass(g.className).addClass(g.containerClassName);H()}function I(){if(m&&window.localStorage){try{var a=window.localStorage[m].split(",#");1<a.length&&(delete window.localStorage[m],b.each(a,function(a,c){F(c)}))}catch(Ha){}try{M=window.localStorage[m].split(";")}catch(Ha){}}}
function F(a){if(S){a=tinycolor(a).toRgbString();if(!ra[a]&&-1===b.inArray(a,M))for(M.push(a);M.length>da;)M.shift();if(m&&window.localStorage)try{window.localStorage[m]=M.join(";")}catch(Ha){}}}function ia(){var a=[];if(g.showPalette)for(var c=0;c<M.length;c++){var d=tinycolor(M[c]).toRgbString();ra[d]||a.push(M[c])}return a.reverse().slice(0,g.maxSelectionSize)}function l(){var a=C(),c=b.map(E,function(c,d){return e(c,a,"sp-palette-row sp-palette-row-"+d,g)});I();M&&c.push(e(ia(),a,"sp-palette-row sp-palette-row-selection",
g));Ia.html(c.join(""))}function x(){if(g.showInitial){var a=aa,c=C();Ja.html(e([a,c],c,"sp-palette-row-initial",g))}}function v(){(0>=z||0>=T||0>=d)&&H();ba=!0;p.addClass("sp-dragging");U=null;y.trigger("dragstart.spectrum",[C()])}function za(){ba=!1;p.removeClass("sp-dragging");y.trigger("dragstop.spectrum",[C()])}function Ba(){var a=N.val();null!==a&&""!==a||!Z?(a=tinycolor(a),a.isValid()?(O(a),G(!0)):N.addClass("sp-validation-error")):(O(null),G(!0))}function Ka(){h?P():ja()}function ja(){var a=
b.Event("beforeShow.spectrum");if(h)H();else if(y.trigger(a,[C()]),!1!==A.beforeShow(C())&&!a.isDefaultPrevented()){for(a=0;a<V.length;a++)V[a]&&V[a].hide();h=!0;b(ka).bind("keydown.spectrum",K);b(ka).bind("click.spectrum",La);b(window).bind("resize.spectrum",ea);fa.addClass("sp-active");p.removeClass("sp-hidden");H();R();aa=C();x();A.show(aa);y.trigger("show.spectrum",[aa])}}function K(a){27===a.keyCode&&P()}function La(a){2==a.button||ba||(Pa?G(!0):O(aa,!0),P())}function P(){h&&!L&&(h=!1,b(ka).unbind("keydown.spectrum",
K),b(ka).unbind("click.spectrum",La),b(window).unbind("resize.spectrum",ea),fa.removeClass("sp-active"),p.addClass("sp-hidden"),A.hide(C()),y.trigger("hide.spectrum",[C()]))}function O(a,c){if(tinycolor.equals(a,C()))R();else{var d,n;!a&&Z?W=!0:(W=!1,d=tinycolor(a),n=d.toHsv(),f=n.h%360/360,la=n.s,ma=n.v,Q=n.a);R();d&&d.isValid()&&!c&&(ga=g.preferredFormat||d.getFormat())}}function C(a){a=a||{};return Z&&W?null:tinycolor.fromRatio({h:f,s:la,v:ma,a:Math.round(100*Q)/100},{format:a.format||ga})}function X(){R();
A.move(C());y.trigger("move.spectrum",[C()])}function R(){N.removeClass("sp-validation-error");u();var a=tinycolor.fromRatio({h:f,s:1,v:1});sa.css("background-color",a.toHexString());a=ga;!(1>Q)||0===Q&&"name"===a||"hex"!==a&&"hex3"!==a&&"hex6"!==a&&"name"!==a||(a="rgb");var c=C({format:a}),d="";ha.removeClass("sp-clear-display");ha.css("background-color","transparent");if(!c&&Z)ha.addClass("sp-clear-display");else{var d=c.toHexString(),n=c.toRgbString();Ga||1===c.alpha?ha.css("background-color",
n):(ha.css("background-color","transparent"),ha.css("filter",c.toFilter()));if(g.showAlpha){n=c.toRgb();n.a=0;var n=tinycolor(n).toRgbString(),b="linear-gradient(left, "+n+", "+d+")";Y?na.css("filter",tinycolor(n).toFilter({gradientType:1},d)):(na.css("background","-webkit-"+b),na.css("background","-moz-"+b),na.css("background","-ms-"+b),na.css("background","linear-gradient(to right, "+n+", "+d+")"))}d=c.toString(a)}g.showInput&&N.val(d);g.showPalette&&l();x()}function u(){var b=la,h=ma;Z&&W?(ta.hide(),
ua.hide(),va.hide()):(ta.show(),ua.show(),va.show(),b*=T,h=z-h*z,b=Math.max(-a,Math.min(T-a,b-a)),h=Math.max(-a,Math.min(z-a,h-a)),va.css({top:h+"px",left:b+"px"}),ta.css({left:Q*c-n/2+"px"}),ua.css({top:f*d-w+"px"}))}function G(a){var c=C(),d="",n=!tinycolor.equals(c,aa);c&&(d=c.toString(ga),F(c));wa&&y.val(d);a&&n&&(A.change(c),y.trigger("change",[c]))}function H(){h&&(T=sa.width(),z=sa.height(),a=va.height(),Ca.width(),d=Ca.height(),w=ua.height(),c=Ma.width(),n=ta.width(),L||(p.css("position",
"absolute"),g.offset?p.offset(g.offset):p.offset(ca(p,oa))),u(),g.showPalette&&l(),y.trigger("reflow.spectrum"))}function J(){P();Da=!0;y.attr("disabled",!0);oa.addClass("sp-disabled")}var g=B(k,t),L=g.flat,S=g.showSelectionPalette,m=g.localStorageKey,D=g.theme,A=g.callbacks,ea=Qa(H,10),h=!1,ba=!1,T=0,z=0,a=0,d=0,c=0,n=0,w=0,f=0,la=0,ma=0,Q=1,qa=[],E=[],ra={},M=g.selectionPalette.slice(0),da=g.maxSelectionSize,U=null,ka=t.ownerDocument,y=b(t),Da=!1,p=b(Ra,ka).addClass(D),Sa=p.find(".sp-picker-container"),
sa=p.find(".sp-color"),va=p.find(".sp-dragger"),Ca=p.find(".sp-hue"),ua=p.find(".sp-slider"),na=p.find(".sp-alpha-inner"),Ma=p.find(".sp-alpha"),ta=p.find(".sp-alpha-handle"),N=p.find(".sp-input"),Ia=p.find(".sp-palette"),Ja=p.find(".sp-initial"),Na=p.find(".sp-cancel"),Ea=p.find(".sp-clear"),Oa=p.find(".sp-choose"),Aa=p.find(".sp-palette-toggle"),wa=y.is("input"),Ta=wa&&"color"===y.attr("type")&&b.fn.spectrum.inputTypeColorSupport(),Fa=wa&&!L,fa=Fa?b("<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div><div class='sp-dd'>&#9660;</div></div>").addClass(D).addClass(g.className).addClass(g.replacerClassName):
b([]),oa=Fa?fa:y,ha=fa.find(".sp-preview-inner"),pa=g.color||wa&&y.val(),aa=!1,ga=g.preferredFormat,Pa=!g.showButtons||g.clickoutFiresChange,W=!pa,Z=g.allowEmpty&&!Ta;(function(){function a(a){a.data&&a.data.ignore?(O(b(a.target).closest(".sp-thumb-el").data("color")),X()):(O(b(a.target).closest(".sp-thumb-el").data("color")),X(),G(!0),g.hideAfterPaletteSelect&&P());return!1}Y&&p.find("*:not(input)").attr("unselectable","on");q();Fa&&y.after(fa).hide();Z||Ea.hide();if(L)y.after(p).hide();else{var n=
"parent"===g.appendTo?y.parent():b(g.appendTo);1!==n.length&&(n=b("body"));n.append(p)}I();oa.bind("click.spectrum touchstart.spectrum",function(a){Da||Ka();a.stopPropagation();b(a.target).is("input")||a.preventDefault()});(y.is(":disabled")||!0===g.disabled)&&J();p.click(Ua);N.change(Ba);N.bind("paste",function(){setTimeout(Ba,1)});N.keydown(function(a){13==a.keyCode&&Ba()});Na.text(g.cancelText);Na.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();O(aa,!0);P()});Ea.attr("title",
g.clearText);Ea.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();W=!0;X();L&&G(!0)});Oa.text(g.chooseText);Oa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();Y&&N.is(":focus")&&N.trigger("change");N.hasClass("sp-validation-error")||(G(!0),P())});Aa.text(g.showPaletteOnly?g.togglePaletteMoreText:g.togglePaletteLessText);Aa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();g.showPaletteOnly=!g.showPaletteOnly;g.showPaletteOnly||
L||p.css("left","-="+(Sa.outerWidth(!0)+5));q()});xa(Ma,function(a,d,n){Q=a/c;W=!1;n.shiftKey&&(Q=Math.round(10*Q)/10);X()},v,za);xa(Ca,function(a,c){f=parseFloat(c/d);W=!1;g.showAlpha||(Q=1);X()},v,za);xa(sa,function(a,c,d){d.shiftKey?U||(U=Math.abs(a-la*T)>Math.abs(c-(z-ma*z))?"x":"y"):U=null;d=!U||"y"===U;U&&"x"!==U||(la=parseFloat(a/T));d&&(ma=parseFloat((z-c)/z));W=!1;g.showAlpha||(Q=1);X()},v,za);pa?(O(pa),R(),ga=g.preferredFormat||tinycolor(pa).format,F(pa)):R();L&&ja();n=Y?"mousedown.spectrum":
"click.spectrum touchstart.spectrum";Ia.delegate(".sp-thumb-el",n,a);Ja.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},a)})();var ya={show:ja,hide:P,toggle:Ka,reflow:H,option:function(a,c){if(a===r)return b.extend({},g);if(c===r)return g[a];g[a]=c;"preferredFormat"===a&&(ga=g.preferredFormat);q()},enable:function(){Da=!1;y.attr("disabled",!1);oa.removeClass("sp-disabled")},disable:J,offset:function(a){g.offset=a;H()},set:function(a){O(a);G()},get:C,destroy:function(){y.show();oa.unbind("click.spectrum touchstart.spectrum");
p.remove();fa.remove();V[ya.id]=null},container:p};ya.id=V.push(ya)-1;return ya}function ca(t,k){var q=t.outerWidth(),I=t.outerHeight(),F=k.outerHeight(),e=t[0].ownerDocument,l=e.documentElement,x=l.clientWidth+b(e).scrollLeft(),e=l.clientHeight+b(e).scrollTop(),l=k.offset();l.top+=F;l.left-=Math.min(l.left,l.left+q>x&&x>q?Math.abs(l.left+q-x):0);l.top-=Math.min(l.top,l.top+I>e&&e>I?Math.abs(I+F-0):0);return l}function E(){}function Ua(b){b.stopPropagation()}function J(b,k){var t=Array.prototype.slice,
e=t.call(arguments,2);return function(){return b.apply(k,e.concat(t.call(arguments)))}}function xa(t,k,q,e){function F(b){b.stopPropagation&&b.stopPropagation();b.preventDefault&&b.preventDefault();b.returnValue=!1}function I(b){if(r){if(Y&&9>x.documentMode&&!b.button)return l();var e=b.originalEvent&&b.originalEvent.touches&&b.originalEvent.touches[0],q=Math.max(0,Math.min((e&&e.pageX||b.pageX)-v.left,E)),e=Math.max(0,Math.min((e&&e.pageY||b.pageY)-v.top,B));J&&F(b);k.apply(t,[q,e,b])}}function l(){r&&
(b(x).unbind(K),b(x.body).removeClass("sp-dragging"),setTimeout(function(){e.apply(t,arguments)},0));r=!1}k=k||function(){};q=q||function(){};e=e||function(){};var x=document,r=!1,v={},B=0,E=0,J="ontouchstart"in window,K={};K.selectstart=F;K.dragstart=F;K["touchmove mousemove"]=I;K["touchend mouseup"]=l;b(t).bind("touchstart mousedown",function(e){(e.which?3==e.which:2==e.button)||r||!1===q.apply(t,arguments)||(r=!0,B=b(t).height(),E=b(t).width(),v=b(t).offset(),b(x).bind(K),b(x.body).addClass("sp-dragging"),
I(e),F(e))})}function Qa(b,e,q){var t;return function(){var k=this,r=arguments,l=function(){t=null;b.apply(k,r)};q&&clearTimeout(t);if(q||!t)t=setTimeout(l,e)}}var da={beforeShow:E,move:E,change:E,show:E,hide:E,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",
togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:["#ffffff #000000 #ff0000 #ff8000 #ffff00 #008000 #0000ff #4b0082 #9400d3".split(" ")],selectionPalette:[],disabled:!1,offset:null},V=[],Y=!!/msie/i.exec(window.navigator.userAgent),Ga=function(){var b=document.createElement("div").style;b.cssText="background-color:rgba(0,0,0,.5)";
return!!~(""+b.backgroundColor).indexOf("rgba")||!!~(""+b.backgroundColor).indexOf("hsla")}(),Ra=function(){var b="";if(Y)for(var e=1;6>=e;e++)b+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div><div class='sp-palette-button-container sp-cf'><button type='button' class='sp-palette-toggle'></button></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-clear sp-clear-display'></div><div class='sp-hue'><div class='sp-slider'></div>",
b,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button type='button' class='sp-choose'></button></div></div></div>"].join("")}();b.fn.spectrum=function(e,k){if("string"==typeof e){var q=this,t=Array.prototype.slice.call(arguments,
1);this.each(function(){var k=V[b(this).data("spectrum.id")];if(k){var r=k[e];if(!r)throw Error("Spectrum: no such method: '"+e+"'");"get"==e?q=k.get():"container"==e?q=k.container:"option"==e?q=k.option.apply(k,t):"destroy"==e?(k.destroy(),b(this).removeData("spectrum.id")):r.apply(k,t)}});return q}return this.spectrum("destroy").each(function(){var k=b.extend({},e,b(this).data()),k=v(this,k);b(this).data("spectrum.id",k.id)})};b.fn.spectrum.load=!0;b.fn.spectrum.loadOpts={};b.fn.spectrum.draggable=
xa;b.fn.spectrum.defaults=da;b.fn.spectrum.inputTypeColorSupport=function k(){if("undefined"===typeof k._cachedResult){var e=b("<input type='color'/>")[0];k._cachedResult="color"===e.type&&""!==e.value}return k._cachedResult};b.spectrum={};b.spectrum.localization={};b.spectrum.palettes={};b.fn.spectrum.processNativeColorInputs=function(){var e=b("input[type=color]");e.length&&!b.fn.spectrum.inputTypeColorSupport()&&e.spectrum({preferredFormat:"hex6"})};(function(){function b(a,d,c){a=u(a,255);d=u(d,
255);c=u(c,255);var n=A(a,d,c),b=D(a,d,c),f,h=(n+b)/2;if(n==b)f=b=0;else{var e=n-b,b=.5<h?e/(2-n-b):e/(n+b);switch(n){case a:f=(d-c)/e+(d<c?6:0);break;case d:f=(c-a)/e+2;break;case c:f=(a-d)/e+4}f/=6}return{h:f,s:b,l:h}}function e(a,d,c){function n(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+(c-a)*(2/3-d)*6:a}a=u(a,360);d=u(d,100);c=u(c,100);if(0===d)c=d=a=c;else{var b=.5>c?c*(1+d):c+d-c*d,f=2*c-b;c=n(f,b,a+1/3);d=n(f,b,a);a=n(f,b,a-1/3)}return{r:255*c,g:255*d,b:255*a}}function r(a,
d,c){a=u(a,255);d=u(d,255);c=u(c,255);var n=A(a,d,c),b=D(a,d,c),f,e=n-b;if(n==b)f=0;else{switch(n){case a:f=(d-c)/e+(d<c?6:0);break;case d:f=(c-a)/e+2;break;case c:f=(a-d)/e+4}f/=6}return{h:f,s:0===n?0:e/n,v:n}}function v(a,d,c,b){a=[G(m(a).toString(16)),G(m(d).toString(16)),G(m(c).toString(16))];return b&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function B(a,d,c,b){return[G(Math.round(255*
parseFloat(b)).toString(16)),G(m(a).toString(16)),G(m(d).toString(16)),G(m(c).toString(16))].join("")}function l(a,d){d=0===d?0:d||10;var c=h(a).toHsl();c.s-=d/100;c.s=D(1,A(0,c.s));return h(c)}function x(a,d){d=0===d?0:d||10;var c=h(a).toHsl();c.s+=d/100;c.s=D(1,A(0,c.s));return h(c)}function E(a){return h(a).desaturate(100)}function J(a,d){d=0===d?0:d||10;var c=h(a).toHsl();c.l+=d/100;c.l=D(1,A(0,c.l));return h(c)}function V(a,d){d=0===d?0:d||10;var c=h(a).toRgb();c.r=A(0,D(255,c.r-m(255*-(d/100))));
c.g=A(0,D(255,c.g-m(255*-(d/100))));c.b=A(0,D(255,c.b-m(255*-(d/100))));return h(c)}function Y(a,d){d=0===d?0:d||10;var c=h(a).toHsl();c.l-=d/100;c.l=D(1,A(0,c.l));return h(c)}function ja(a,d){var c=h(a).toHsl(),b=(m(c.h)+d)%360;c.h=0>b?360+b:b;return h(c)}function K(a){a=h(a).toHsl();a.h=(a.h+180)%360;return h(a)}function ca(a){var d=h(a).toHsl(),c=d.h;return[h(a),h({h:(c+120)%360,s:d.s,l:d.l}),h({h:(c+240)%360,s:d.s,l:d.l})]}function P(a){var d=h(a).toHsl(),c=d.h;return[h(a),h({h:(c+90)%360,s:d.s,
l:d.l}),h({h:(c+180)%360,s:d.s,l:d.l}),h({h:(c+270)%360,s:d.s,l:d.l})]}function O(a){var d=h(a).toHsl(),c=d.h;return[h(a),h({h:(c+72)%360,s:d.s,l:d.l}),h({h:(c+216)%360,s:d.s,l:d.l})]}function C(a,d,c){d=d||6;c=c||30;var b=h(a).toHsl();c=360/c;a=[h(a)];for(b.h=(b.h-(c*d>>1)+720)%360;--d;)b.h=(b.h+c)%360,a.push(h(b));return a}function X(a,d){d=d||6;for(var c=h(a).toHsv(),b=c.h,e=c.s,c=c.v,f=[],g=1/d;d--;)f.push(h({h:b,s:e,v:c})),c=(c+g)%1;return f}function R(a){a=parseFloat(a);if(isNaN(a)||0>a||1<
a)a=1;return a}function u(a,d){var c=a;"string"==typeof c&&-1!=c.indexOf(".")&&1===parseFloat(c)&&(a="100%");c="string"===typeof a&&-1!=a.indexOf("%");a=D(d,A(0,parseFloat(a)));c&&(a=parseInt(a*d,10)/100);return 1E-6>S.abs(a-d)?1:a%d/parseFloat(d)}function G(a){return 1==a.length?"0"+a:""+a}function H(a){1>=a&&(a=100*a+"%");return a}var da=/^[\s,#]+/,g=/\s+$/,L=0,S=Math,m=S.round,D=S.min,A=S.max,ea=S.random,h=function(a,d){var c,b,w,f,k;a=a?a:"";d=d||{};if(a instanceof h)return a;if(!(this instanceof
h))return new h(a,d);b=a;k={r:0,g:0,b:0};var q=1;w=c=!1;if("string"==typeof b)a:{b=b.replace(da,"").replace(g,"").toLowerCase();var l=!1;if(ba[b])b=ba[b],l=!0;else if("transparent"==b){b={r:0,g:0,b:0,a:0,format:"name"};break a}b=(f=z.rgb.exec(b))?{r:f[1],g:f[2],b:f[3]}:(f=z.rgba.exec(b))?{r:f[1],g:f[2],b:f[3],a:f[4]}:(f=z.hsl.exec(b))?{h:f[1],s:f[2],l:f[3]}:(f=z.hsla.exec(b))?{h:f[1],s:f[2],l:f[3],a:f[4]}:(f=z.hsv.exec(b))?{h:f[1],s:f[2],v:f[3]}:(f=z.hsva.exec(b))?{h:f[1],s:f[2],v:f[3],a:f[4]}:(f=
z.hex8.exec(b))?{a:parseInt(f[1],16)/255,r:parseInt(f[2],16),g:parseInt(f[3],16),b:parseInt(f[4],16),format:l?"name":"hex8"}:(f=z.hex6.exec(b))?{r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16),format:l?"name":"hex"}:(f=z.hex3.exec(b))?{r:parseInt(f[1]+""+f[1],16),g:parseInt(f[2]+""+f[2],16),b:parseInt(f[3]+""+f[3],16),format:l?"name":"hex"}:!1}if("object"==typeof b){if(b.hasOwnProperty("r")&&b.hasOwnProperty("g")&&b.hasOwnProperty("b"))k=b.g,c=b.b,k={r:255*u(b.r,255),g:255*u(k,255),b:255*
u(c,255)},c=!0,w="%"===String(b.r).substr(-1)?"prgb":"rgb";else if(b.hasOwnProperty("h")&&b.hasOwnProperty("s")&&b.hasOwnProperty("v")){b.s=H(b.s);b.v=H(b.v);w=b.h;l=b.s;k=b.v;w=6*u(w,360);l=u(l,100);k=u(k,100);c=S.floor(w);var r=w-c;w=k*(1-l);f=k*(1-r*l);l=k*(1-(1-r)*l);c%=6;k={r:255*[k,f,w,w,l,k][c],g:255*[l,k,k,f,w,w][c],b:255*[w,w,l,k,k,f][c]};c=!0;w="hsv"}else b.hasOwnProperty("h")&&b.hasOwnProperty("s")&&b.hasOwnProperty("l")&&(b.s=H(b.s),b.l=H(b.l),k=e(b.h,b.s,b.l),c=!0,w="hsl");b.hasOwnProperty("a")&&
(q=b.a)}q=R(q);b=b.format||w;w=D(255,A(k.r,0));f=D(255,A(k.g,0));k=D(255,A(k.b,0));this._originalInput=a;this._r=w;this._g=f;this._b=k;this._a=q;this._roundA=m(100*this._a)/100;this._format=d.format||b;this._gradientType=d.gradientType;1>this._r&&(this._r=m(this._r));1>this._g&&(this._g=m(this._g));1>this._b&&(this._b=m(this._b));this._ok=c;this._tc_id=L++};h.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},
getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1E3},setAlpha:function(a){this._a=R(a);this._roundA=m(100*this._a)/100;return this},toHsv:function(){var a=r(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=r(this._r,this._g,this._b),b=m(360*a.h),c=m(100*a.s),a=m(100*a.v);return 1==this._a?"hsv("+
b+", "+c+"%, "+a+"%)":"hsva("+b+", "+c+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var a=b(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=b(this._r,this._g,this._b),d=m(360*a.h),c=m(100*a.s),a=m(100*a.l);return 1==this._a?"hsl("+d+", "+c+"%, "+a+"%)":"hsla("+d+", "+c+"%, "+a+"%, "+this._roundA+")"},toHex:function(a){return v(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return B(this._r,this._g,this._b,
this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:m(this._r),g:m(this._g),b:m(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+m(this._r)+", "+m(this._g)+", "+m(this._b)+")":"rgba("+m(this._r)+", "+m(this._g)+", "+m(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:m(100*u(this._r,255))+"%",g:m(100*u(this._g,255))+"%",b:m(100*u(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+m(100*u(this._r,
255))+"%, "+m(100*u(this._g,255))+"%, "+m(100*u(this._b,255))+"%)":"rgba("+m(100*u(this._r,255))+"%, "+m(100*u(this._g,255))+"%, "+m(100*u(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":1>this._a?!1:T[v(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var b="#"+B(this._r,this._g,this._b,this._a),c=b,e=this._gradientType?"GradientType = 1, ":"";a&&(c=h(a).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+b+",endColorstr="+
c+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,e=1>this._a&&0<=this._a;if(!b&&e&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a))return"name"===a&&0===this._a?this.toName():this.toRgbString();"rgb"===a&&(c=this.toRgbString());"prgb"===a&&(c=this.toPercentageRgbString());if("hex"===a||"hex6"===a)c=this.toHexString();"hex3"===a&&(c=this.toHexString(!0));"hex8"===a&&(c=this.toHex8String());"name"===a&&(c=this.toName());"hsl"===a&&(c=this.toHslString());"hsv"===a&&(c=this.toHsvString());
return c||this.toHexString()},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));this._r=c._r;this._g=c._g;this._b=c._b;this.setAlpha(c._a);return this},lighten:function(){return this._applyModification(J,arguments)},brighten:function(){return this._applyModification(V,arguments)},darken:function(){return this._applyModification(Y,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(x,arguments)},
greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(ja,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(K,arguments)},monochromatic:function(){return this._applyCombination(X,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(ca,
arguments)},tetrad:function(){return this._applyCombination(P,arguments)}};h.fromRatio=function(a,b){if("object"==typeof a){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]="a"===d?a[d]:H(a[d]));a=c}return h(a,b)};h.equals=function(a,b){return a&&b?h(a).toRgbString()==h(b).toRgbString():!1};h.random=function(){return h.fromRatio({r:ea(),g:ea(),b:ea()})};h.mix=function(a,b,c){c=0===c?0:c||50;a=h(a).toRgb();b=h(b).toRgb();c/=100;var d=2*c-1,e=b.a-a.a,d=((-1==d*e?d:(d+e)/(1+d*e))+1)/2,e=1-d;return h({r:b.r*
d+a.r*e,g:b.g*d+a.g*e,b:b.b*d+a.b*e,a:b.a*c+a.a*(1-c)})};h.readability=function(a,b){var c=h(a),d=h(b),e=c.toRgb(),f=d.toRgb(),c=c.getBrightness(),d=d.getBrightness();return{brightness:Math.abs(c-d),color:Math.max(e.r,f.r)-Math.min(e.r,f.r)+Math.max(e.g,f.g)-Math.min(e.g,f.g)+Math.max(e.b,f.b)-Math.min(e.b,f.b)}};h.isReadable=function(a,b){var c=h.readability(a,b);return 125<c.brightness&&500<c.color};h.mostReadable=function(a,b){for(var c=null,d=0,e=!1,f=0;f<b.length;f++){var g=h.readability(a,b[f]),
k=125<g.brightness&&500<g.color,g=g.brightness/125*3+g.color/500;if(k&&!e||k&&e&&g>d||!k&&!e&&g>d)e=k,d=g,c=h(b[f])}return c};var ba=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",
cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",
floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",
lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",
mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",
sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=h.hexNames=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(ba),z={rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
rgba:/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
hsv:/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsva:/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};
window.tinycolor=h})();b(function(){b.fn.spectrum.load&&b.fn.spectrum.processNativeColorInputs()})});
(function(l){function f(a,c){var b,d,n,e,h;a=a?a:"";c=c||{};if(a instanceof f)return a;if(!(this instanceof f))return new f(a,c);d=a;h={r:0,g:0,b:0};var w=1;n=b=!1;if("string"==typeof d)a:{d=d.replace(E,"").replace(F,"").toLowerCase();var t=!1;if(x[d])d=x[d],t=!0;else if("transparent"==d){d={r:0,g:0,b:0,a:0,format:"name"};break a}d=(e=r.rgb.exec(d))?{r:e[1],g:e[2],b:e[3]}:(e=r.rgba.exec(d))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=r.hsl.exec(d))?{h:e[1],s:e[2],l:e[3]}:(e=r.hsla.exec(d))?{h:e[1],s:e[2],l:e[3],
a:e[4]}:(e=r.hsv.exec(d))?{h:e[1],s:e[2],v:e[3]}:(e=r.hsva.exec(d))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=r.hex8.exec(d))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/255,format:t?"name":"hex8"}:(e=r.hex6.exec(d))?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),format:t?"name":"hex"}:(e=r.hex4.exec(d))?{r:parseInt(e[1]+""+e[1],16),g:parseInt(e[2]+""+e[2],16),b:parseInt(e[3]+""+e[3],16),a:parseInt(e[4]+""+e[4],16)/255,format:t?"name":"hex8"}:(e=r.hex3.exec(d))?
{r:parseInt(e[1]+""+e[1],16),g:parseInt(e[2]+""+e[2],16),b:parseInt(e[3]+""+e[3],16),format:t?"name":"hex"}:!1}if("object"==typeof d){if(u(d.r)&&u(d.g)&&u(d.b))h=d.g,b=d.b,h={r:255*k(d.r,255),g:255*k(h,255),b:255*k(b,255)},b=!0,n="%"===String(d.r).substr(-1)?"prgb":"rgb";else if(u(d.h)&&u(d.s)&&u(d.v)){h=v(d.s);n=v(d.v);e=d.h;b=h;h=n;e=6*k(e,360);b=k(b,100);h=k(h,100);n=l.floor(e);var m=e-n;e=h*(1-b);t=h*(1-m*b);b=h*(1-(1-m)*b);n%=6;h={r:255*[h,t,e,e,b,h][n],g:255*[b,h,h,t,e,e][n],b:255*[e,e,b,h,
h,t][n]};b=!0;n="hsv"}else u(d.h)&&u(d.s)&&u(d.l)&&(h=v(d.s),b=v(d.l),h=G(d.h,h,b),b=!0,n="hsl");d.hasOwnProperty("a")&&(w=d.a)}w=z(w);d=d.format||n;n=p(255,q(h.r,0));e=p(255,q(h.g,0));h=p(255,q(h.b,0));this._originalInput=a;this._r=n;this._g=e;this._b=h;this._a=w;this._roundA=g(100*this._a)/100;this._format=c.format||d;this._gradientType=c.gradientType;1>this._r&&(this._r=g(this._r));1>this._g&&(this._g=g(this._g));1>this._b&&(this._b=g(this._b));this._ok=b;this._tc_id=H++}function A(a,c,b){a=k(a,
255);c=k(c,255);b=k(b,255);var d=q(a,c,b),f=p(a,c,b),e,h=(d+f)/2;if(d==f)e=f=0;else{var g=d-f,f=.5<h?g/(2-d-f):g/(d+f);switch(d){case a:e=(c-b)/g+(c<b?6:0);break;case c:e=(b-a)/g+2;break;case b:e=(a-c)/g+4}e/=6}return{h:e,s:f,l:h}}function G(a,c,b){function d(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}a=k(a,360);c=k(c,100);b=k(b,100);if(0===c)b=c=a=b;else{var f=.5>b?b*(1+c):b+c-b*c,e=2*b-f;b=d(e,f,a+1/3);c=d(e,f,a);a=d(e,f,a-1/3)}return{r:255*b,g:255*c,b:255*
a}}function B(a,c,b){a=k(a,255);c=k(c,255);b=k(b,255);var d=q(a,c,b),f=p(a,c,b),e,g=d-f;if(d==f)e=0;else{switch(d){case a:e=(c-b)/g+(c<b?6:0);break;case c:e=(b-a)/g+2;break;case b:e=(a-c)/g+4}e/=6}return{h:e,s:0===d?0:g/d,v:d}}function C(a,c,b,d){a=[m(g(a).toString(16)),m(g(c).toString(16)),m(g(b).toString(16))];return d&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function D(a,c,b,d){return[m(l.round(255*
parseFloat(d)).toString(16)),m(g(a).toString(16)),m(g(c).toString(16)),m(g(b).toString(16))].join("")}function I(a,c){c=0===c?0:c||10;var b=f(a).toHsl();b.s-=c/100;b.s=p(1,q(0,b.s));return f(b)}function J(a,c){c=0===c?0:c||10;var b=f(a).toHsl();b.s+=c/100;b.s=p(1,q(0,b.s));return f(b)}function K(a){return f(a).desaturate(100)}function L(a,c){c=0===c?0:c||10;var b=f(a).toHsl();b.l+=c/100;b.l=p(1,q(0,b.l));return f(b)}function M(a,c){c=0===c?0:c||10;var b=f(a).toRgb();b.r=q(0,p(255,b.r-g(255*-(c/100))));
b.g=q(0,p(255,b.g-g(255*-(c/100))));b.b=q(0,p(255,b.b-g(255*-(c/100))));return f(b)}function N(a,c){c=0===c?0:c||10;var b=f(a).toHsl();b.l-=c/100;b.l=p(1,q(0,b.l));return f(b)}function O(a,c){var b=f(a).toHsl(),d=(b.h+c)%360;b.h=0>d?360+d:d;return f(b)}function P(a){a=f(a).toHsl();a.h=(a.h+180)%360;return f(a)}function Q(a){var c=f(a).toHsl(),b=c.h;return[f(a),f({h:(b+120)%360,s:c.s,l:c.l}),f({h:(b+240)%360,s:c.s,l:c.l})]}function R(a){var c=f(a).toHsl(),b=c.h;return[f(a),f({h:(b+90)%360,s:c.s,l:c.l}),
f({h:(b+180)%360,s:c.s,l:c.l}),f({h:(b+270)%360,s:c.s,l:c.l})]}function S(a){var c=f(a).toHsl(),b=c.h;return[f(a),f({h:(b+72)%360,s:c.s,l:c.l}),f({h:(b+216)%360,s:c.s,l:c.l})]}function T(a,c,b){c=c||6;b=b||30;var d=f(a).toHsl();b=360/b;a=[f(a)];for(d.h=(d.h-(b*c>>1)+720)%360;--c;)d.h=(d.h+b)%360,a.push(f(d));return a}function U(a,c){c=c||6;for(var b=f(a).toHsv(),d=b.h,g=b.s,b=b.v,e=[],h=1/c;c--;)e.push(f({h:d,s:g,v:b})),b=(b+h)%1;return e}function z(a){a=parseFloat(a);if(isNaN(a)||0>a||1<a)a=1;return a}
function k(a,c){var b=a;"string"==typeof b&&-1!=b.indexOf(".")&&1===parseFloat(b)&&(a="100%");b="string"===typeof a&&-1!=a.indexOf("%");a=p(c,q(0,parseFloat(a)));b&&(a=parseInt(a*c,10)/100);return 1E-6>l.abs(a-c)?1:a%c/parseFloat(c)}function m(a){return 1==a.length?"0"+a:""+a}function v(a){1>=a&&(a=100*a+"%");return a}function u(a){return!!r.CSS_UNIT.exec(a)}var E=/^\s+/,F=/\s+$/,H=0,g=l.round,p=l.min,q=l.max,y=l.random;f.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},
isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1E3},getLuminance:function(){var a=this.toRgb(),c,b;c=a.r/255;b=a.g/255;a=a.b/255;c=.03928>=c?c/12.92:l.pow((c+.055)/1.055,2.4);b=.03928>=b?b/12.92:l.pow((b+.055)/1.055,2.4);a=.03928>=a?a/12.92:l.pow((a+.055)/1.055,2.4);return.2126*c+.7152*b+.0722*a},setAlpha:function(a){this._a=
z(a);this._roundA=g(100*this._a)/100;return this},toHsv:function(){var a=B(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=B(this._r,this._g,this._b),c=g(360*a.h),b=g(100*a.s),a=g(100*a.v);return 1==this._a?"hsv("+c+", "+b+"%, "+a+"%)":"hsva("+c+", "+b+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var a=A(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=A(this._r,this._g,this._b),c=g(360*a.h),b=g(100*a.s),
a=g(100*a.l);return 1==this._a?"hsl("+c+", "+b+"%, "+a+"%)":"hsla("+c+", "+b+"%, "+a+"%, "+this._roundA+")"},toHex:function(a){return C(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){var c=this._g,b=this._b,d=this._a,c=[m(g(this._r).toString(16)),m(g(c).toString(16)),m(g(b).toString(16)),m(l.round(255*parseFloat(d)).toString(16))];a=a&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)&&c[3].charAt(0)==c[3].charAt(1)?
c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("");return a},toHex8String:function(a){return"#"+this.toHex8(a)},toRgb:function(){return{r:g(this._r),g:g(this._g),b:g(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+g(this._r)+", "+g(this._g)+", "+g(this._b)+")":"rgba("+g(this._r)+", "+g(this._g)+", "+g(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:g(100*k(this._r,255))+"%",g:g(100*k(this._g,255))+"%",b:g(100*k(this._b,255))+"%",a:this._a}},
toPercentageRgbString:function(){return 1==this._a?"rgb("+g(100*k(this._r,255))+"%, "+g(100*k(this._g,255))+"%, "+g(100*k(this._b,255))+"%)":"rgba("+g(100*k(this._r,255))+"%, "+g(100*k(this._g,255))+"%, "+g(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":1>this._a?!1:V[C(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var c="#"+D(this._r,this._g,this._b,this._a),b=c,d=this._gradientType?"GradientType = 1, ":"";a&&(a=f(a),b="#"+D(a._r,a._g,a._b,
a._a));return"progid:DXImageTransform.Microsoft.gradient("+d+"startColorstr="+c+",endColorstr="+b+")"},toString:function(a){var c=!!a;a=a||this._format;var b=!1,d=1>this._a&&0<=this._a;if(!c&&d&&("hex"===a||"hex6"===a||"hex3"===a||"hex4"===a||"hex8"===a||"name"===a))return"name"===a&&0===this._a?this.toName():this.toRgbString();"rgb"===a&&(b=this.toRgbString());"prgb"===a&&(b=this.toPercentageRgbString());if("hex"===a||"hex6"===a)b=this.toHexString();"hex3"===a&&(b=this.toHexString(!0));"hex4"===
a&&(b=this.toHex8String(!0));"hex8"===a&&(b=this.toHex8String());"name"===a&&(b=this.toName());"hsl"===a&&(b=this.toHslString());"hsv"===a&&(b=this.toHsvString());return b||this.toHexString()},clone:function(){return f(this.toString())},_applyModification:function(a,c){var b=a.apply(null,[this].concat([].slice.call(c)));this._r=b._r;this._g=b._g;this._b=b._b;this.setAlpha(b._a);return this},lighten:function(){return this._applyModification(L,arguments)},brighten:function(){return this._applyModification(M,
arguments)},darken:function(){return this._applyModification(N,arguments)},desaturate:function(){return this._applyModification(I,arguments)},saturate:function(){return this._applyModification(J,arguments)},greyscale:function(){return this._applyModification(K,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(a,c){return a.apply(null,[this].concat([].slice.call(c)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(P,
arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(Q,arguments)},tetrad:function(){return this._applyCombination(R,arguments)}};f.fromRatio=function(a,c){if("object"==typeof a){var b={},d;for(d in a)a.hasOwnProperty(d)&&(b[d]="a"===d?a[d]:v(a[d]));a=b}return f(a,c)};f.equals=function(a,c){return a&&c?f(a).toRgbString()==f(c).toRgbString():!1};f.random=
function(){return f.fromRatio({r:y(),g:y(),b:y()})};f.mix=function(a,c,b){b=0===b?0:b||50;a=f(a).toRgb();c=f(c).toRgb();b/=100;return f({r:(c.r-a.r)*b+a.r,g:(c.g-a.g)*b+a.g,b:(c.b-a.b)*b+a.b,a:(c.a-a.a)*b+a.a})};f.readability=function(a,c){var b=f(a),d=f(c);return(l.max(b.getLuminance(),d.getLuminance())+.05)/(l.min(b.getLuminance(),d.getLuminance())+.05)};f.isReadable=function(a,c,b){a=f.readability(a,c);c=!1;var d;d=b||{level:"AA",size:"small"};b=(d.level||"AA").toUpperCase();d=(d.size||"small").toLowerCase();
"AA"!==b&&"AAA"!==b&&(b="AA");"small"!==d&&"large"!==d&&(d="small");switch(b+d){case "AAsmall":case "AAAlarge":c=4.5<=a;break;case "AAlarge":c=3<=a;break;case "AAAsmall":c=7<=a}return c};f.mostReadable=function(a,c,b){var d=null,g=0,e,h,k,m;b=b||{};h=b.includeFallbackColors;k=b.level;m=b.size;for(var l=0;l<c.length;l++)e=f.readability(a,c[l]),e>g&&(g=e,d=f(c[l]));if(f.isReadable(a,d,{level:k,size:m})||!h)return d;b.includeFallbackColors=!1;return f.mostReadable(a,["#fff","#000"],b)};var x=f.names=
{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",
darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",
green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",
lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",
orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",
snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=f.hexNames=function(a){var c={},b;for(b in a)a.hasOwnProperty(b)&&(c[a[b]]=b);return c}(x),r={CSS_UNIT:/(?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?)/,rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
rgba:/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
hsv:/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsva:/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};"undefined"!==typeof module&&module.exports?module.exports=f:"function"===typeof define&&define.amd?define(function(){return f}):window.tinycolor=f})(Math);
